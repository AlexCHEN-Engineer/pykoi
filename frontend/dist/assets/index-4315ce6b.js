(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function N(){}function ye(e,t){for(const n in t)e[n]=t[n];return e}function be(e){return e()}function se(){return Object.create(null)}function I(e){e.forEach(be)}function G(e){return typeof e=="function"}function R(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ne(e){return Object.keys(e).length===0}function ve(e,...t){if(e==null)return N;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ce(e,t,n){e.$$.on_destroy.push(ve(t,n))}function Oe(e,t,n){return e.set(n),t}function Se(e){return e&&G(e.destroy)?e.destroy:N}function m(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function we(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function A(e){return document.createTextNode(e)}function q(){return A(" ")}function Me(){return A("")}function le(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function qe(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}let J;function H(e){J=e}function Ae(){if(!J)throw new Error("Function called outside component initialization");return J}function $e(e){Ae().$$.on_mount.push(e)}const V=[],ie=[];let F=[];const ce=[],Te=Promise.resolve();let X=!1;function Pe(){X||(X=!0,Te.then(ke))}function Y(e){F.push(e)}const U=new Set;let D=0;function ke(){if(D!==0)return;const e=J;do{try{for(;D<V.length;){const t=V[D];D++,H(t),Ie(t.$$)}}catch(t){throw V.length=0,D=0,t}for(H(null),V.length=0,D=0;ie.length;)ie.pop()();for(let t=0;t<F.length;t+=1){const n=F[t];U.has(n)||(U.add(n),n())}F.length=0}while(V.length);for(;ce.length;)ce.pop()();X=!1,U.clear(),H(e)}function Ie(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}function De(e){const t=[],n=[];F.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),F=t}const Q=new Set;let P;function Z(){P={r:0,c:[],p:P}}function x(){P.r||I(P.c),P=P.p}function L(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function T(e,t,n,l){if(e&&e.o){if(Q.has(e))return;Q.add(e),P.c.push(()=>{Q.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function Be(e,t){e.d(1),t.delete(e.key)}function Ve(e,t,n,l,s,o,r,i,u,c,y,d){let h=e.length,g=o.length,p=h;const w={};for(;p--;)w[e[p].key]=p;const k=[],j=new Map,z=new Map,_=[];for(p=g;p--;){const f=d(s,o,p),b=n(f);let S=r.get(b);S?l&&_.push(()=>S.p(f,t)):(S=c(b,f),S.c()),j.set(b,k[p]=S),b in w&&z.set(b,Math.abs(p-w[b]))}const E=new Set,C=new Set;function a(f){L(f,1),f.m(i,y),r.set(f.key,f),y=f.first,g--}for(;h&&g;){const f=k[g-1],b=e[h-1],S=f.key,K=b.key;f===b?(y=f.first,h--,g--):j.has(K)?!r.has(S)||E.has(S)?a(f):C.has(K)?h--:z.get(S)>z.get(K)?(C.add(S),a(f)):(E.add(K),h--):(u(b,r),h--)}for(;h--;){const f=e[h];j.has(f.key)||u(f,r)}for(;g;)a(k[g-1]);return I(_),k}function je(e,t){const n={},l={},s={$$scope:1};let o=e.length;for(;o--;){const r=e[o],i=t[o];if(i){for(const u in r)u in i||(l[u]=1);for(const u in i)s[u]||(n[u]=i[u],s[u]=1);e[o]=i}else for(const u in r)s[u]=1}for(const r in l)r in n||(n[r]=void 0);return n}function ze(e){return typeof e=="object"&&e!==null?e:{}}function Ee(e){e&&e.c()}function ee(e,t,n,l){const{fragment:s,after_update:o}=e.$$;s&&s.m(t,n),l||Y(()=>{const r=e.$$.on_mount.map(be).filter(G);e.$$.on_destroy?e.$$.on_destroy.push(...r):I(r),e.$$.on_mount=[]}),o.forEach(Y)}function te(e,t){const n=e.$$;n.fragment!==null&&(De(n.after_update),I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(e,t){e.$$.dirty[0]===-1&&(V.push(e),Pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(e,t,n,l,s,o,r,i=[-1]){const u=J;H(e);const c=e.$$={fragment:null,ctx:[],props:o,update:N,not_equal:s,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:se(),dirty:i,skip_bound:!1,root:t.target||u.$$.root};r&&r(c.root);let y=!1;if(c.ctx=n?n(e,t.props||{},(d,h,...g)=>{const p=g.length?g[0]:h;return c.ctx&&s(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),y&&Fe(e,d)),h}):[],c.update(),y=!0,I(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const d=qe(t.target);c.fragment&&c.fragment.l(d),d.forEach(O)}else c.fragment&&c.fragment.c();t.intro&&L(e.$$.fragment),ee(e,t.target,t.anchor,t.customElement),ke()}H(u)}class oe{$destroy(){te(this,1),this.$destroy=N}$on(t,n){if(!G(n))return N;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!Ne(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const B=[];function Le(e,t=N){let n;const l=new Set;function s(i){if(R(e,i)&&(e=i,n)){const u=!B.length;for(const c of l)c[1](),B.push(c,e);if(u){for(let c=0;c<B.length;c+=2)B[c][0](B[c+1]);B.length=0}}}function o(i){s(i(e))}function r(i,u=N){const c=[i,u];return l.add(c),l.size===1&&(n=t(s)||N),i(e),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}function ue(e,t,n){const l=e.slice();return l[10]=t[n],l[12]=n,l}function fe(e){let t;return{c(){t=$("p"),t.textContent="feedback"},m(n,l){M(n,t,l)},d(n){n&&O(t)}}}function ae(e,t){let n,l,s,o,r,i,u,c=t[10].question+"",y,d,h,g,p=t[10].answer+"",w,k,j,z,_;return{key:e,first:null,c(){n=$("div"),l=$("div"),s=$("div"),o=q(),r=$("div"),i=$("p"),u=A("Q: "),y=A(c),d=q(),h=$("p"),g=A("A: "),w=A(p),k=q(),v(s,"class","avatar svelte-ysjhkz"),v(i,"class","svelte-ysjhkz"),v(h,"class","svelte-ysjhkz"),v(r,"class","message-content svelte-ysjhkz"),v(l,"class","chat-message-center svelte-ysjhkz"),v(n,"class","chat-message svelte-ysjhkz"),this.first=n},m(E,C){M(E,n,C),m(n,l),m(l,s),m(l,o),m(l,r),m(r,i),m(i,u),m(i,y),m(r,d),m(r,h),m(h,g),m(h,w),m(n,k),z||(_=Se(j=Je.call(null,n,t[12]===t[2].length-1)),z=!0)},p(E,C){t=E,C&4&&c!==(c=t[10].question+"")&&W(y,c),C&4&&p!==(p=t[10].answer+"")&&W(w,p),j&&G(j.update)&&C&4&&j.update.call(null,t[12]===t[2].length-1)},d(E){E&&O(n),z=!1,_()}}}function He(e){let t,n,l,s=[],o=new Map,r,i,u,c,y,d,h=(e[4]?e[5]:"Send")+"",g,p,w,k,j,z,_=e[0]&&fe(),E=e[2];const C=a=>a[12];for(let a=0;a<E.length;a+=1){let f=ue(e,E,a),b=C(f);o.set(b,s[a]=ae(b,f))}return{c(){_&&_.c(),t=q(),n=$("section"),l=$("div");for(let a=0;a<s.length;a+=1)s[a].c();r=q(),i=$("div"),u=$("form"),c=$("input"),y=q(),d=$("button"),g=A(h),w=q(),k=$("p"),k.textContent="Note - may produce inaccurate information.",v(l,"class","chat-log svelte-ysjhkz"),v(c,"rows","1"),v(c,"class","chat-input-textarea svelte-ysjhkz"),v(c,"placeholder","Type Message Here"),v(d,"class",p="btnyousend "+(e[3]===""?"":"active")+" svelte-ysjhkz"),v(d,"type","submit"),v(u,"class","chat-input-form svelte-ysjhkz"),v(k,"class","message svelte-ysjhkz"),v(i,"class","chat-input-holder svelte-ysjhkz"),v(n,"class","chatbox svelte-ysjhkz")},m(a,f){_&&_.m(a,f),M(a,t,f),M(a,n,f),m(n,l);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(l,null);m(n,r),m(n,i),m(i,u),m(u,c),re(c,e[3]),m(u,y),m(u,d),m(d,g),m(i,w),m(i,k),j||(z=[le(c,"input",e[8]),le(u,"submit",e[6])],j=!0)},p(a,[f]){a[0]?_||(_=fe(),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),f&4&&(E=a[2],s=Ve(s,f,C,1,a,E,o,l,Be,ae,null,ue)),f&8&&c.value!==a[3]&&re(c,a[3]),f&48&&h!==(h=(a[4]?a[5]:"Send")+"")&&W(g,h),f&8&&p!==(p="btnyousend "+(a[3]===""?"":"active")+" svelte-ysjhkz")&&v(d,"class",p)},i:N,o:N,d(a){_&&_.d(a),a&&O(t),a&&O(n);for(let f=0;f<s.length;f+=1)s[f].d();j=!1,I(z)}}}function Je(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function Ke(e,t,n){let l,s,o=N,r=()=>(o(),o=ve(d,w=>n(2,s=w)),d);e.$$.on_destroy.push(()=>o());let{feedback:i=!1}=t,u="",c="",y=!1;const d=Le([{id:1,question:"What is this?",answer:"This is the chat interface.",vote:"na"},{id:1,question:"How do I use it?",answer:"Just type in a question below!",vote:"na"}]);r(),$e(()=>{console.log("here we go")});const h=async w=>{w.preventDefault(),u=c,n(3,c=""),n(4,y=!0);let k={id:s.length+1,question:u,answer:"Loading...",vote:"na"};console.log("adding to log here"),Oe(d,s=[...s,k],s);const j=await fetch(`/chat/${u}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(j.ok){const z=await j.json();k.answer=z.answer,d.update(_=>(_[_.length-1]=k,_))}else{const z=await j.text();alert(z)}n(4,y=!1)};let g=0;setInterval(()=>{n(7,g=(g+1)%4)},200);function p(){c=this.value,n(3,c)}return e.$$set=w=>{"feedback"in w&&n(0,i=w.feedback)},e.$$.update=()=>{e.$$.dirty&128&&n(5,l=".".repeat(g).padEnd(3)),e.$$.dirty&4&&console.log("chat updated!",s)},[i,d,s,c,y,l,h,g,p]}class Qe extends oe{constructor(t){super(),ne(this,t,Ke,He,R,{feedback:0,chatLog:1})}get chatLog(){return this.$$.ctx[1]}}function de(e,t,n){const l=e.slice();return l[2]=t[n],l}function he(e){let t,n=e[2]+"",l,s;return{c(){t=$("option"),l=A(n),t.__value=s=e[2],t.value=t.__value},m(o,r){M(o,t,r),m(t,l)},p(o,r){r&1&&n!==(n=o[2]+"")&&W(l,n),r&1&&s!==(s=o[2])&&(t.__value=s,t.value=t.__value)},d(o){o&&O(t)}}}function We(e){let t,n=e[0],l=[];for(let s=0;s<n.length;s+=1)l[s]=he(de(e,n,s));return{c(){t=$("select");for(let s=0;s<l.length;s+=1)l[s].c()},m(s,o){M(s,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(s,[o]){if(o&1){n=s[0];let r;for(r=0;r<n.length;r+=1){const i=de(s,n,r);l[r]?l[r].p(i,o):(l[r]=he(i),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},i:N,o:N,d(s){s&&O(t),we(l,s)}}}function Ge(e,t,n){let{data_endpoint:l}=t,s=[];return $e(async()=>{const o=await fetch(`/data/${l}`);n(0,s=await o.json())}),e.$$set=o=>{"data_endpoint"in o&&n(1,l=o.data_endpoint)},[s,l]}class Re extends oe{constructor(t){super(),ne(this,t,Ge,We,R,{data_endpoint:1})}}function pe(e,t,n){const l=e.slice();return l[2]=t[n],l}function _e(e){let t,n;const l=[e[2].props];let s={};for(let o=0;o<l.length;o+=1)s=ye(s,l[o]);return t=new Qe({props:s}),{c(){Ee(t.$$.fragment)},m(o,r){ee(t,o,r),n=!0},p(o,r){const i=r&1?je(l,[ze(o[2].props)]):{};t.$set(i)},i(o){n||(L(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){te(t,o)}}}function me(e){let t,n;const l=[e[2].props];let s={};for(let o=0;o<l.length;o+=1)s=ye(s,l[o]);return t=new Re({props:s}),{c(){Ee(t.$$.fragment)},m(o,r){ee(t,o,r),n=!0},p(o,r){const i=r&1?je(l,[ze(o[2].props)]):{};t.$set(i)},i(o){n||(L(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){te(t,o)}}}function ge(e){let t,n,l,s=e[2].svelte_component==="Chatbot"&&_e(e),o=e[2].svelte_component==="Dropdown"&&me(e);return{c(){s&&s.c(),t=q(),o&&o.c(),n=Me()},m(r,i){s&&s.m(r,i),M(r,t,i),o&&o.m(r,i),M(r,n,i),l=!0},p(r,i){r[2].svelte_component==="Chatbot"?s?(s.p(r,i),i&1&&L(s,1)):(s=_e(r),s.c(),L(s,1),s.m(t.parentNode,t)):s&&(Z(),T(s,1,1,()=>{s=null}),x()),r[2].svelte_component==="Dropdown"?o?(o.p(r,i),i&1&&L(o,1)):(o=me(r),o.c(),L(o,1),o.m(n.parentNode,n)):o&&(Z(),T(o,1,1,()=>{o=null}),x())},i(r){l||(L(s),L(o),l=!0)},o(r){T(s),T(o),l=!1},d(r){s&&s.d(r),r&&O(t),o&&o.d(r),r&&O(n)}}}function Ue(e){let t,n,l,s=e[0],o=[];for(let i=0;i<s.length;i+=1)o[i]=ge(pe(e,s,i));const r=i=>T(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=q(),n=$("p"),n.textContent="Made with Cambio.",v(n,"class","footer-logo svelte-1fi8jt8")},m(i,u){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,u);M(i,t,u),M(i,n,u),l=!0},p(i,[u]){if(u&1){s=i[0];let c;for(c=0;c<s.length;c+=1){const y=pe(i,s,c);o[c]?(o[c].p(y,u),L(o[c],1)):(o[c]=ge(y),o[c].c(),L(o[c],1),o[c].m(t.parentNode,t))}for(Z(),c=s.length;c<o.length;c+=1)r(c);x()}},i(i){if(!l){for(let u=0;u<s.length;u+=1)L(o[u]);l=!0}},o(i){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)T(o[u]);l=!1},d(i){we(o,i),i&&O(t),i&&O(n)}}}function Xe(e,t,n){let l;const s=Le([]);return Ce(e,s,o=>n(0,l=o)),fetch("/components").then(o=>o.json()).then(o=>{console.log("data",o),s.set(o)}),[l,s]}class Ye extends oe{constructor(t){super(),ne(this,t,Xe,Ue,R,{})}}new Ye({target:document.getElementById("app")});
