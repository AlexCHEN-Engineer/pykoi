(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function E(){}function be(e,t){for(const n in t)e[n]=t[n];return e}function ye(e){return e()}function le(){return Object.create(null)}function P(e){e.forEach(ye)}function G(e){return typeof e=="function"}function R(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ce(e){return Object.keys(e).length===0}function ve(e,...t){if(e==null)return E;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ne(e,t,n){e.$$.on_destroy.push(ve(t,n))}function Oe(e,t,n){return e.set(n),t}function Se(e){return e&&G(e.destroy)?e.destroy:E}function g(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function we(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function A(e){return document.createTextNode(e)}function q(){return A(" ")}function Me(){return A("")}function Q(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function qe(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}let J;function H(e){J=e}function Ae(){if(!J)throw new Error("Function called outside component initialization");return J}function ke(e){Ae().$$.on_mount.push(e)}const B=[],ie=[];let F=[];const ce=[],Te=Promise.resolve();let Y=!1;function Pe(){Y||(Y=!0,Te.then($e))}function Z(e){F.push(e)}const X=new Set;let D=0;function $e(){if(D!==0)return;const e=J;do{try{for(;D<B.length;){const t=B[D];D++,H(t),Ie(t.$$)}}catch(t){throw B.length=0,D=0,t}for(H(null),B.length=0,D=0;ie.length;)ie.pop()();for(let t=0;t<F.length;t+=1){const n=F[t];X.has(n)||(X.add(n),n())}F.length=0}while(B.length);for(;ce.length;)ce.pop()();Y=!1,X.clear(),H(e)}function Ie(e){if(e.fragment!==null){e.update(),P(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}function De(e){const t=[],n=[];F.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),F=t}const K=new Set;let I;function x(){I={r:0,c:[],p:I}}function ee(){I.r||P(I.c),I=I.p}function L(e,t){e&&e.i&&(K.delete(e),e.i(t))}function T(e,t,n,s){if(e&&e.o){if(K.has(e))return;K.add(e),I.c.push(()=>{K.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Ve(e,t){e.d(1),t.delete(e.key)}function Be(e,t,n,s,l,o,r,i,u,c,p,_){let m=e.length,b=o.length,y=m;const j={};for(;y--;)j[e[y].key]=y;const z=[],N=new Map,d=new Map,$=[];for(y=b;y--;){const h=_(l,o,y),S=n(h);let M=r.get(S);M?s&&$.push(()=>M.p(h,t)):(M=c(S,h),M.c()),N.set(S,z[y]=M),S in j&&d.set(S,Math.abs(y-j[S]))}const a=new Set,f=new Set;function v(h){L(h,1),h.m(i,p),r.set(h.key,h),p=h.first,b--}for(;m&&b;){const h=z[b-1],S=e[m-1],M=h.key,U=S.key;h===S?(p=h.first,m--,b--):N.has(U)?!r.has(M)||a.has(M)?v(h):f.has(U)?m--:d.get(M)>d.get(U)?(f.add(M),v(h)):(a.add(U),m--):(u(S,r),m--)}for(;m--;){const h=e[m];N.has(h.key)||u(h,r)}for(;b;)v(z[b-1]);return P($),z}function je(e,t){const n={},s={},l={$$scope:1};let o=e.length;for(;o--;){const r=e[o],i=t[o];if(i){for(const u in r)u in i||(s[u]=1);for(const u in i)l[u]||(n[u]=i[u],l[u]=1);e[o]=i}else for(const u in r)l[u]=1}for(const r in s)r in n||(n[r]=void 0);return n}function ze(e){return typeof e=="object"&&e!==null?e:{}}function Le(e){e&&e.c()}function te(e,t,n,s){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),s||Z(()=>{const r=e.$$.on_mount.map(ye).filter(G);e.$$.on_destroy?e.$$.on_destroy.push(...r):P(r),e.$$.on_mount=[]}),o.forEach(Z)}function ne(e,t){const n=e.$$;n.fragment!==null&&(De(n.after_update),P(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(e,t){e.$$.dirty[0]===-1&&(B.push(e),Pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(e,t,n,s,l,o,r,i=[-1]){const u=J;H(e);const c=e.$$={fragment:null,ctx:[],props:o,update:E,not_equal:l,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:le(),dirty:i,skip_bound:!1,root:t.target||u.$$.root};r&&r(c.root);let p=!1;if(c.ctx=n?n(e,t.props||{},(_,m,...b)=>{const y=b.length?b[0]:m;return c.ctx&&l(c.ctx[_],c.ctx[_]=y)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](y),p&&Fe(e,_)),m}):[],c.update(),p=!0,P(c.before_update),c.fragment=s?s(c.ctx):!1,t.target){if(t.hydrate){const _=qe(t.target);c.fragment&&c.fragment.l(_),_.forEach(C)}else c.fragment&&c.fragment.c();t.intro&&L(e.$$.fragment),te(e,t.target,t.anchor,t.customElement),$e()}H(u)}class se{$destroy(){ne(this,1),this.$destroy=E}$on(t,n){if(!G(n))return E;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!Ce(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=[];function Ee(e,t=E){let n;const s=new Set;function l(i){if(R(e,i)&&(e=i,n)){const u=!V.length;for(const c of s)c[1](),V.push(c,e);if(u){for(let c=0;c<V.length;c+=2)V[c][0](V[c+1]);V.length=0}}}function o(i){l(i(e))}function r(i,u=E){const c=[i,u];return s.add(c),s.size===1&&(n=t(l)||E),i(e),()=>{s.delete(c),s.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:r}}function ue(e,t,n){const s=e.slice();return s[13]=t[n],s[15]=n,s}function fe(e){let t,n,s,l,o;function r(){return e[9](e[15])}function i(){return e[10](e[15])}return{c(){t=k("button"),t.textContent="👍",n=q(),s=k("button"),s.textContent="👎",w(t,"class","small-button thumbs-up svelte-ysjhkz"),w(s,"class","small-button thumbs-down svelte-ysjhkz")},m(u,c){O(u,t,c),O(u,n,c),O(u,s,c),l||(o=[Q(t,"click",r),Q(s,"click",i)],l=!0)},p(u,c){e=u},d(u){u&&C(t),u&&C(n),u&&C(s),l=!1,P(o)}}}function ae(e,t){let n,s,l,o,r,i,u,c=t[13].question+"",p,_,m,b,y=t[13].answer+"",j,z,N,d,$,a,f=t[0]&&fe(t);return{key:e,first:null,c(){n=k("div"),s=k("div"),l=k("div"),o=q(),r=k("div"),i=k("p"),u=A("Q: "),p=A(c),_=q(),m=k("p"),b=A("A: "),j=A(y),z=q(),f&&f.c(),N=q(),w(l,"class","avatar svelte-ysjhkz"),w(i,"class","svelte-ysjhkz"),w(m,"class","svelte-ysjhkz"),w(r,"class","message-content svelte-ysjhkz"),w(s,"class","chat-message-center svelte-ysjhkz"),w(n,"class","chat-message svelte-ysjhkz"),this.first=n},m(v,h){O(v,n,h),g(n,s),g(s,l),g(s,o),g(s,r),g(r,i),g(i,u),g(i,p),g(r,_),g(r,m),g(m,b),g(m,j),g(r,z),f&&f.m(r,null),g(n,N),$||(a=Se(d=Je.call(null,n,t[15]===t[2].length-1)),$=!0)},p(v,h){t=v,h&4&&c!==(c=t[13].question+"")&&W(p,c),h&4&&y!==(y=t[13].answer+"")&&W(j,y),t[0]?f?f.p(t,h):(f=fe(t),f.c(),f.m(r,null)):f&&(f.d(1),f=null),d&&G(d.update)&&h&4&&d.update.call(null,t[15]===t[2].length-1)},d(v){v&&C(n),f&&f.d(),$=!1,a()}}}function He(e){let t,n,s=[],l=new Map,o,r,i,u,c,p,_=(e[4]?e[5]:"Send")+"",m,b,y,j,z,N,d=e[2];const $=a=>a[15];for(let a=0;a<d.length;a+=1){let f=ue(e,d,a),v=$(f);l.set(v,s[a]=ae(v,f))}return{c(){t=k("section"),n=k("div");for(let a=0;a<s.length;a+=1)s[a].c();o=q(),r=k("div"),i=k("form"),u=k("input"),c=q(),p=k("button"),m=A(_),y=q(),j=k("p"),j.textContent="Note - may produce inaccurate information.",w(n,"class","chat-log svelte-ysjhkz"),w(u,"class","chat-input-textarea svelte-ysjhkz"),w(u,"placeholder","Type Message Here"),w(p,"class",b="btnyousend "+(e[3]===""?"":"active")+" svelte-ysjhkz"),w(p,"type","submit"),w(i,"class","chat-input-form svelte-ysjhkz"),w(j,"class","message svelte-ysjhkz"),w(r,"class","chat-input-holder svelte-ysjhkz"),w(t,"class","chatbox svelte-ysjhkz")},m(a,f){O(a,t,f),g(t,n);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(n,null);g(t,o),g(t,r),g(r,i),g(i,u),re(u,e[3]),g(i,c),g(i,p),g(p,m),g(r,y),g(r,j),z||(N=[Q(u,"input",e[11]),Q(i,"submit",e[6])],z=!0)},p(a,[f]){f&133&&(d=a[2],s=Be(s,f,$,1,a,d,l,n,Ve,ae,null,ue)),f&8&&u.value!==a[3]&&re(u,a[3]),f&48&&_!==(_=(a[4]?a[5]:"Send")+"")&&W(m,_),f&8&&b!==(b="btnyousend "+(a[3]===""?"":"active")+" svelte-ysjhkz")&&w(p,"class",b)},i:E,o:E,d(a){a&&C(t);for(let f=0;f<s.length;f+=1)s[f].d();z=!1,P(N)}}}function Je(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function Ue(e,t,n){let s,l,o=E,r=()=>(o(),o=ve(_,d=>n(2,l=d)),_);e.$$.on_destroy.push(()=>o());let{feedback:i=!1}=t,u="",c="",p=!1;const _=Ee([{id:1,question:"What is this?",answer:"This is the chat interface.",vote:"na"},{id:1,question:"How do I use it?",answer:"Just type in a question below!",vote:"na"}]);r(),ke(()=>{console.log("here we go")});const m=async d=>{d.preventDefault(),u=c,n(3,c=""),n(4,p=!0);let $={id:l.length+1,question:u,answer:"Loading...",vote:"na"};console.log("adding to log here"),Oe(_,l=[...l,$],l);const a=await fetch(`/chat/${u}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(a.ok){const f=await a.json();$.answer=f.answer,_.update(v=>(v[v.length-1]=$,v))}else{const f=await a.text();alert(f)}n(4,p=!1)};let b=0;setInterval(()=>{n(8,b=(b+1)%4)},200);async function y(d,$){const a=l[$];a.vote=d,console.log({id:$,vote:d})}const j=d=>y("good",d),z=d=>y("bad",d);function N(){c=this.value,n(3,c)}return e.$$set=d=>{"feedback"in d&&n(0,i=d.feedback)},e.$$.update=()=>{e.$$.dirty&256&&n(5,s=".".repeat(b).padEnd(3)),e.$$.dirty&4&&console.log("chat updated!",l)},[i,_,l,c,p,s,m,y,b,j,z,N]}class Ke extends se{constructor(t){super(),oe(this,t,Ue,He,R,{feedback:0,chatLog:1})}get chatLog(){return this.$$.ctx[1]}}function de(e,t,n){const s=e.slice();return s[2]=t[n],s}function he(e){let t,n=e[2]+"",s,l;return{c(){t=k("option"),s=A(n),t.__value=l=e[2],t.value=t.__value},m(o,r){O(o,t,r),g(t,s)},p(o,r){r&1&&n!==(n=o[2]+"")&&W(s,n),r&1&&l!==(l=o[2])&&(t.__value=l,t.value=t.__value)},d(o){o&&C(t)}}}function Qe(e){let t,n=e[0],s=[];for(let l=0;l<n.length;l+=1)s[l]=he(de(e,n,l));return{c(){t=k("select");for(let l=0;l<s.length;l+=1)s[l].c()},m(l,o){O(l,t,o);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null)},p(l,[o]){if(o&1){n=l[0];let r;for(r=0;r<n.length;r+=1){const i=de(l,n,r);s[r]?s[r].p(i,o):(s[r]=he(i),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i:E,o:E,d(l){l&&C(t),we(s,l)}}}function We(e,t,n){let{data_endpoint:s}=t,l=[];return ke(async()=>{const o=await fetch(`/data/${s}`);n(0,l=await o.json())}),e.$$set=o=>{"data_endpoint"in o&&n(1,s=o.data_endpoint)},[l,s]}class Ge extends se{constructor(t){super(),oe(this,t,We,Qe,R,{data_endpoint:1})}}function pe(e,t,n){const s=e.slice();return s[2]=t[n],s}function _e(e){let t,n;const s=[e[2].props];let l={};for(let o=0;o<s.length;o+=1)l=be(l,s[o]);return t=new Ke({props:l}),{c(){Le(t.$$.fragment)},m(o,r){te(t,o,r),n=!0},p(o,r){const i=r&1?je(s,[ze(o[2].props)]):{};t.$set(i)},i(o){n||(L(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ne(t,o)}}}function me(e){let t,n;const s=[e[2].props];let l={};for(let o=0;o<s.length;o+=1)l=be(l,s[o]);return t=new Ge({props:l}),{c(){Le(t.$$.fragment)},m(o,r){te(t,o,r),n=!0},p(o,r){const i=r&1?je(s,[ze(o[2].props)]):{};t.$set(i)},i(o){n||(L(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ne(t,o)}}}function ge(e){let t,n,s,l=e[2].svelte_component==="Chatbot"&&_e(e),o=e[2].svelte_component==="Dropdown"&&me(e);return{c(){l&&l.c(),t=q(),o&&o.c(),n=Me()},m(r,i){l&&l.m(r,i),O(r,t,i),o&&o.m(r,i),O(r,n,i),s=!0},p(r,i){r[2].svelte_component==="Chatbot"?l?(l.p(r,i),i&1&&L(l,1)):(l=_e(r),l.c(),L(l,1),l.m(t.parentNode,t)):l&&(x(),T(l,1,1,()=>{l=null}),ee()),r[2].svelte_component==="Dropdown"?o?(o.p(r,i),i&1&&L(o,1)):(o=me(r),o.c(),L(o,1),o.m(n.parentNode,n)):o&&(x(),T(o,1,1,()=>{o=null}),ee())},i(r){s||(L(l),L(o),s=!0)},o(r){T(l),T(o),s=!1},d(r){l&&l.d(r),r&&C(t),o&&o.d(r),r&&C(n)}}}function Re(e){let t,n,s,l=e[0],o=[];for(let i=0;i<l.length;i+=1)o[i]=ge(pe(e,l,i));const r=i=>T(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=q(),n=k("p"),n.textContent="Made with Cambio.",w(n,"class","footer-logo svelte-1fi8jt8")},m(i,u){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,u);O(i,t,u),O(i,n,u),s=!0},p(i,[u]){if(u&1){l=i[0];let c;for(c=0;c<l.length;c+=1){const p=pe(i,l,c);o[c]?(o[c].p(p,u),L(o[c],1)):(o[c]=ge(p),o[c].c(),L(o[c],1),o[c].m(t.parentNode,t))}for(x(),c=l.length;c<o.length;c+=1)r(c);ee()}},i(i){if(!s){for(let u=0;u<l.length;u+=1)L(o[u]);s=!0}},o(i){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)T(o[u]);s=!1},d(i){we(o,i),i&&C(t),i&&C(n)}}}function Xe(e,t,n){let s;const l=Ee([]);return Ne(e,l,o=>n(0,s=o)),fetch("/components").then(o=>o.json()).then(o=>{console.log("data",o),l.set(o)}),[s,l]}class Ye extends se{constructor(t){super(),oe(this,t,Xe,Re,R,{})}}new Ye({target:document.getElementById("app")});
