(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function R(){}const On=e=>e;function je(e,t){for(const n in t)e[n]=t[n];return e}function Fn(e){return e()}function St(){return Object.create(null)}function re(e){e.forEach(Fn)}function Re(e){return typeof e=="function"}function B(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function nr(e){return Object.keys(e).length===0}function rr(e,...t){if(e==null)return R;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function D(e,t,n){e.$$.on_destroy.push(rr(t,n))}function ye(e,t,n){return e.set(n),t}function ir(e){return e&&Re(e.destroy)?e.destroy:R}const Pn=typeof window<"u";let Ln=Pn?()=>window.performance.now():()=>Date.now(),vt=Pn?e=>requestAnimationFrame(e):R;const _e=new Set;function Dn(e){_e.forEach(t=>{t.c(e)||(_e.delete(t),t.f())}),_e.size!==0&&vt(Dn)}function Wn(e){let t;return _e.size===0&&vt(Dn),{promise:new Promise(n=>{_e.add(t={c:e,f:n})}),abort(){_e.delete(t)}}}function k(e,t){e.appendChild(t)}function Tn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function lr(e){const t=z("style");return or(Tn(e),t),t.sheet}function or(e,t){return k(e.head||e,t),t.sheet}function E(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function J(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function z(e){return document.createElement(e)}function S(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function H(){return P(" ")}function Se(){return P("")}function te(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function sr(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.data!==t&&(e.data=t)}function xt(e,t){e.value=t??""}function se(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Je(e,t,n){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function In(e){const t=e.querySelector(":checked");return t&&t.__value}let Te;function ar(){if(Te===void 0){Te=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Te=!0}}return Te}function Me(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=z("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=ar();let l;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=te(window,"message",o=>{o.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{l=te(r.contentWindow,"resize",t),t()}),k(e,r),()=>{(i||l&&r.contentWindow)&&l(),x(r)}}function fr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}const Xe=new Map;let Ke=0;function ur(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function cr(e,t){const n={stylesheet:lr(t),rules:{}};return Xe.set(e,n),n}function Ct(e,t,n,r,i,l,o,s=0){const a=16.666/r;let f=`{
`;for(let p=0;p<=1;p+=a){const v=t+(n-t)*l(p);f+=p*100+`%{${o(v,1-v)}}
`}const h=f+`100% {${o(n,1-n)}}
}`,d=`__svelte_${ur(h)}_${s}`,g=Tn(e),{stylesheet:c,rules:m}=Xe.get(g)||cr(g,e);m[d]||(m[d]=!0,c.insertRule(`@keyframes ${d} ${h}`,c.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${d} ${r}ms linear ${i}ms 1 both`,Ke+=1,d}function hr(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?l=>l.indexOf(t)<0:l=>l.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Ke-=i,Ke||dr())}function dr(){vt(()=>{Ke||(Xe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&x(t)}),Xe.clear())})}let xe;function qe(e){xe=e}function gr(){if(!xe)throw new Error("Function called outside component initialization");return xe}function yt(e){gr().$$.on_mount.push(e)}const pe=[],Et=[];let be=[];const Ht=[],pr=Promise.resolve();let ct=!1;function mr(){ct||(ct=!0,pr.then(Vn))}function V(e){be.push(e)}const lt=new Set;let de=0;function Vn(){if(de!==0)return;const e=xe;do{try{for(;de<pe.length;){const t=pe[de];de++,qe(t),_r(t.$$)}}catch(t){throw pe.length=0,de=0,t}for(qe(null),pe.length=0,de=0;Et.length;)Et.pop()();for(let t=0;t<be.length;t+=1){const n=be[t];lt.has(n)||(lt.add(n),n())}be.length=0}while(pe.length);for(;Ht.length;)Ht.pop()();ct=!1,lt.clear(),qe(e)}function _r(e){if(e.fragment!==null){e.update(),re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}function br(e){const t=[],n=[];be.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),be=t}let Ne;function vr(){return Ne||(Ne=Promise.resolve(),Ne.then(()=>{Ne=null})),Ne}function ot(e,t,n){e.dispatchEvent(fr(`${t?"intro":"outro"}${n}`))}const Ge=new Set;let le;function ze(){le={r:0,c:[],p:le}}function Ae(){le.r||re(le.c),le=le.p}function O(e,t){e&&e.i&&(Ge.delete(e),e.i(t))}function L(e,t,n,r){if(e&&e.o){if(Ge.has(e))return;Ge.add(e),le.c.push(()=>{Ge.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const yr={duration:0};function Rt(e,t,n,r){const i={direction:"both"};let l=t(e,n,i),o=r?0:1,s=null,a=null,f=null;function h(){f&&hr(e,f)}function d(c,m){const b=c.b-o;return m*=Math.abs(b),{a:o,b:c.b,d:b,duration:m,start:c.start,end:c.start+m,group:c.group}}function g(c){const{delay:m=0,duration:b=300,easing:p=On,tick:v=R,css:_}=l||yr,M={start:Ln()+m,b:c};c||(M.group=le,le.r+=1),s||a?a=M:(_&&(h(),f=Ct(e,o,c,b,m,p,_)),c&&v(0,1),s=d(M,b),V(()=>ot(e,c,"start")),Wn($=>{if(a&&$>a.start&&(s=d(a,b),a=null,ot(e,s.b,"start"),_&&(h(),f=Ct(e,o,s.b,s.duration,0,p,l.css))),s){if($>=s.end)v(o=s.b,1-o),ot(e,s.b,"end"),a||(s.b?h():--s.group.r||re(s.group.c)),s=null;else if($>=s.start){const N=$-s.start;o=s.a+s.d*p(N/s.duration),v(o,1-o)}}return!!(s||a)}))}return{run(c){Re(l)?vr().then(()=>{l=l(i),g(c)}):g(c)},end(){h(),s=a=null}}}function wr(e,t){e.d(1),t.delete(e.key)}function kr(e,t,n,r,i,l,o,s,a,f,h,d){let g=e.length,c=l.length,m=g;const b={};for(;m--;)b[e[m].key]=m;const p=[],v=new Map,_=new Map,M=[];for(m=c;m--;){const w=d(i,l,m),q=n(w);let y=o.get(q);y?r&&M.push(()=>y.p(w,t)):(y=f(q,w),y.c()),v.set(q,p[m]=y),q in b&&_.set(q,Math.abs(m-b[q]))}const $=new Set,N=new Set;function A(w){O(w,1),w.m(s,h),o.set(w.key,w),h=w.first,c--}for(;g&&c;){const w=p[c-1],q=e[g-1],y=w.key,j=q.key;w===q?(h=w.first,g--,c--):v.has(j)?!o.has(y)||$.has(y)?A(w):N.has(j)?g--:_.get(y)>_.get(j)?(N.add(y),A(w)):($.add(j),g--):(a(q,o),g--)}for(;g--;){const w=e[g];v.has(w.key)||a(w,o)}for(;c;)A(p[c-1]);return re(M),p}function wt(e,t){const n={},r={},i={$$scope:1};let l=e.length;for(;l--;){const o=e[l],s=t[l];if(s){for(const a in o)a in s||(r[a]=1);for(const a in s)i[a]||(n[a]=s[a],i[a]=1);e[l]=s}else for(const a in o)i[a]=1}for(const o in r)o in n||(n[o]=void 0);return n}function kt(e){return typeof e=="object"&&e!==null?e:{}}function Y(e){e&&e.c()}function Q(e,t,n,r){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),r||V(()=>{const o=e.$$.on_mount.map(Fn).filter(Re);e.$$.on_destroy?e.$$.on_destroy.push(...o):re(o),e.$$.on_mount=[]}),l.forEach(V)}function G(e,t){const n=e.$$;n.fragment!==null&&(br(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $r(e,t){e.$$.dirty[0]===-1&&(pe.push(e),mr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(e,t,n,r,i,l,o,s=[-1]){const a=xe;qe(e);const f=e.$$={fragment:null,ctx:[],props:l,update:R,not_equal:i,bound:St(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:St(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};o&&o(f.root);let h=!1;if(f.ctx=n?n(e,t.props||{},(d,g,...c)=>{const m=c.length?c[0]:g;return f.ctx&&i(f.ctx[d],f.ctx[d]=m)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](m),h&&$r(e,d)),g}):[],f.update(),h=!0,re(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const d=sr(t.target);f.fragment&&f.fragment.l(d),d.forEach(x)}else f.fragment&&f.fragment.c();t.intro&&O(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),Vn()}qe(a)}class K{$destroy(){G(this,1),this.$destroy=R}$on(t,n){if(!Re(n))return R;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!nr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ge=[];function Oe(e,t=R){let n;const r=new Set;function i(s){if(B(e,s)&&(e=s,n)){const a=!ge.length;for(const f of r)f[1](),ge.push(f,e);if(a){for(let f=0;f<ge.length;f+=2)ge[f][0](ge[f+1]);ge.length=0}}}function l(s){i(s(e))}function o(s,a=R){const f=[s,a];return r.add(f),r.size===1&&(n=t(i)||R),s(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}function Bn(e){const t=e-1;return t*t*t+1}function Ot(e){return Object.prototype.toString.call(e)==="[object Date]"}function ht(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,l)=>ht(e[l],i));return i=>r.map(l=>l(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ot(e)&&Ot(t)){e=e.getTime(),t=t.getTime();const l=t-e;return o=>new Date(e+o*l)}const r=Object.keys(t),i={};return r.forEach(l=>{i[l]=ht(e[l],t[l])}),l=>{const o={};return r.forEach(s=>{o[s]=i[s](l)}),o}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function $t(e,t={}){const n=Oe(e);let r,i=e;function l(o,s){if(e==null)return n.set(e=o),Promise.resolve();i=o;let a=r,f=!1,{delay:h=0,duration:d=400,easing:g=On,interpolate:c=ht}=je(je({},t),s);if(d===0)return a&&(a.abort(),a=null),n.set(e=i),Promise.resolve();const m=Ln()+h;let b;return r=Wn(p=>{if(p<m)return!0;f||(b=c(e,o),typeof d=="function"&&(d=d(e,o)),f=!0),a&&(a.abort(),a=null);const v=p-m;return v>d?(n.set(e=o),!1):(n.set(e=b(g(v/d))),!0)}),r.promise}return{set:l,update:(o,s)=>l(o(i,e),s),subscribe:n.subscribe}}const U=Oe([]),ne=Oe("down"),Ft=Oe({"n/a":1,up:1,down:1}),Mr=["Who","What","How","Why","Where","Does","Can","N/A"],dt=$t(Mr.map(e=>({question:e,count:0})));function Pt(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function Lt(e){let t,n,r,i,l;function o(){return e[8](e[15])}function s(){return e[9](e[15])}return{c(){t=z("button"),t.textContent="👍",n=H(),r=z("button"),r.textContent="👎",u(t,"class","small-button thumbs-up svelte-ysjhkz"),u(r,"class","small-button thumbs-down svelte-ysjhkz")},m(a,f){E(a,t,f),E(a,n,f),E(a,r,f),i||(l=[te(t,"click",o),te(r,"click",s)],i=!0)},p(a,f){e=a},d(a){a&&x(t),a&&x(n),a&&x(r),i=!1,re(l)}}}function Dt(e,t){let n,r,i,l,o,s,a,f=t[13].question+"",h,d,g,c,m=t[13].answer+"",b,p,v,_,M,$,N=t[0]&&Lt(t);return{key:e,first:null,c(){n=z("div"),r=z("div"),i=z("div"),l=H(),o=z("div"),s=z("p"),a=P("Q: "),h=P(f),d=H(),g=z("p"),c=P("A: "),b=P(m),p=H(),N&&N.c(),v=H(),u(i,"class","avatar svelte-ysjhkz"),u(s,"class","svelte-ysjhkz"),u(g,"class","svelte-ysjhkz"),u(o,"class","message-content svelte-ysjhkz"),u(r,"class","chat-message-center svelte-ysjhkz"),u(n,"class","chat-message svelte-ysjhkz"),this.first=n},m(A,w){E(A,n,w),k(n,r),k(r,i),k(r,l),k(r,o),k(o,s),k(s,a),k(s,h),k(o,d),k(o,g),k(g,c),k(g,b),k(o,p),N&&N.m(o,null),k(n,v),M||($=ir(_=qr.call(null,n,t[15]===t[1].length-1)),M=!0)},p(A,w){t=A,w&2&&f!==(f=t[13].question+"")&&W(h,f),w&2&&m!==(m=t[13].answer+"")&&W(b,m),t[0]?N?N.p(t,w):(N=Lt(t),N.c(),N.m(o,null)):N&&(N.d(1),N=null),_&&Re(_.update)&&w&2&&_.update.call(null,t[15]===t[1].length-1)},d(A){A&&x(n),N&&N.d(),M=!1,$()}}}function Nr(e){let t,n,r=[],i=new Map,l,o,s,a,f,h,d=(e[3]?e[4]:"Send")+"",g,c,m,b,p,v,_=e[1];const M=$=>$[15];for(let $=0;$<_.length;$+=1){let N=Pt(e,_,$),A=M(N);i.set(A,r[$]=Dt(A,N))}return{c(){t=z("section"),n=z("div");for(let $=0;$<r.length;$+=1)r[$].c();l=H(),o=z("div"),s=z("form"),a=z("input"),f=H(),h=z("button"),g=P(d),m=H(),b=z("p"),b.textContent="Note - may produce inaccurate information.",u(n,"class","chat-log svelte-ysjhkz"),u(a,"class","chat-input-textarea svelte-ysjhkz"),u(a,"placeholder","Type Message Here"),u(h,"class",c="btnyousend "+(e[2]===""?"":"active")+" svelte-ysjhkz"),u(h,"type","submit"),u(s,"class","chat-input-form svelte-ysjhkz"),u(b,"class","message svelte-ysjhkz"),u(o,"class","chat-input-holder svelte-ysjhkz"),u(t,"class","chatbox svelte-ysjhkz")},m($,N){E($,t,N),k(t,n);for(let A=0;A<r.length;A+=1)r[A]&&r[A].m(n,null);k(t,l),k(t,o),k(o,s),k(s,a),xt(a,e[2]),k(s,f),k(s,h),k(h,g),k(o,m),k(o,b),p||(v=[te(a,"input",e[10]),te(s,"submit",e[5])],p=!0)},p($,[N]){N&67&&(_=$[1],r=kr(r,N,M,1,$,_,i,n,wr,Dt,null,Pt)),N&4&&a.value!==$[2]&&xt(a,$[2]),N&24&&d!==(d=($[3]?$[4]:"Send")+"")&&W(g,d),N&4&&c!==(c="btnyousend "+($[2]===""?"":"active")+" svelte-ysjhkz")&&u(h,"class",c)},i:R,o:R,d($){$&&x(t);for(let N=0;N<r.length;N+=1)r[N].d();p=!1,re(v)}}}function qr(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function zr(e,t,n){let r,i;D(e,U,p=>n(1,i=p));let{feedback:l=!1}=t,o="",s="",a=!1;yt(()=>{f()});async function f(){console.log("fetching data from db");const M=(await(await fetch("http://127.0.0.1:5000/chat/qa_table/retrieve")).json()).rows.map($=>({id:$[0],question:$[1],answer:$[2],vote_status:$[3]}));ye(U,i=[...M],i)}const h=async p=>{p.preventDefault(),o=s,n(2,s=""),n(3,a=!0);let v={id:i.length+1,question:o,answer:"Loading...",vote_status:"na"};console.log("adding to log here"),ye(U,i=[...i,v],i);const _=await fetch(`/chat/${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o})});if(_.ok){const M=await _.json();v.answer=M.answer,U.update($=>($[$.length-1]=v,$))}else{const M=await _.text();alert(M)}n(3,a=!1)};let d=0;setInterval(()=>{n(7,d=(d+1)%4)},200);async function g(p,v){const _=i[v];_.vote=p;const M={id:v+1,vote_status:p};console.log(M),console.log(M);const $=await fetch("http://127.0.0.1:5000/chat/qa_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if($.ok)console.log("update worked!",$);else{const N=await $.text();alert(N)}}const c=p=>g("up",p),m=p=>g("down",p);function b(){s=this.value,n(2,s)}return e.$$set=p=>{"feedback"in p&&n(0,l=p.feedback)},e.$$.update=()=>{e.$$.dirty&128&&n(4,r=".".repeat(d).padEnd(3)),e.$$.dirty&2&&console.log("chat updated!",i)},[l,i,s,a,r,h,g,d,c,m,b]}class Ar extends K{constructor(t){super(),X(this,t,zr,Nr,B,{feedback:0})}}function Wt(e,t,n){const r=e.slice();return r[2]=t[n],r}function Tt(e){let t,n=e[2]+"",r,i;return{c(){t=z("option"),r=P(n),t.__value=i=e[2],t.value=t.__value},m(l,o){E(l,t,o),k(t,r)},p(l,o){o&1&&n!==(n=l[2]+"")&&W(r,n),o&1&&i!==(i=l[2])&&(t.__value=i,t.value=t.__value)},d(l){l&&x(t)}}}function jr(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=Tt(Wt(e,n,i));return{c(){t=z("select");for(let i=0;i<r.length;i+=1)r[i].c()},m(i,l){E(i,t,l);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null)},p(i,[l]){if(l&1){n=i[0];let o;for(o=0;o<n.length;o+=1){const s=Wt(i,n,o);r[o]?r[o].p(s,l):(r[o]=Tt(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:R,o:R,d(i){i&&x(t),J(r,i)}}}function Sr(e,t,n){let{data_endpoint:r}=t,i=[];return yt(async()=>{const l=await fetch(`/data/${r}`);n(0,i=await l.json())}),e.$$set=l=>{"data_endpoint"in l&&n(1,r=l.data_endpoint)},[i,r]}class xr extends K{constructor(t){super(),X(this,t,Sr,jr,B,{data_endpoint:1})}}function Ue(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qn(e){let t,n,r;e.length!==2?(t=Ue,n=(s,a)=>Ue(e(s),a),r=(s,a)=>e(s)-a):(t=e===Ue||e===Cr?e:Er,n=e,r=e);function i(s,a,f=0,h=s.length){if(f<h){if(t(a,a)!==0)return h;do{const d=f+h>>>1;n(s[d],a)<0?f=d+1:h=d}while(f<h)}return f}function l(s,a,f=0,h=s.length){if(f<h){if(t(a,a)!==0)return h;do{const d=f+h>>>1;n(s[d],a)<=0?f=d+1:h=d}while(f<h)}return f}function o(s,a,f=0,h=s.length){const d=i(s,a,f,h-1);return d>f&&r(s[d-1],a)>-r(s[d],a)?d-1:d}return{left:i,center:o,right:l}}function Er(){return 0}function Hr(e){return e===null?NaN:+e}const Rr=Qn(Ue),Or=Rr.right;Qn(Hr).center;const Gn=Or;function Fr(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function st(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let l of e)(l=t(l,++i,e))!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}return[n,r]}class It extends Map{constructor(t,n=Dr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Vt(this,t))}has(t){return super.has(Vt(this,t))}set(t,n){return super.set(Pr(this,t),n)}delete(t){return super.delete(Lr(this,t))}}function Vt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Pr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Lr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Dr(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wr(e){return e}var Tr=Array.prototype,Ir=Tr.slice;function at(e){return()=>e}const Vr=Math.sqrt(50),Br=Math.sqrt(10),Qr=Math.sqrt(2);function Ye(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),o=l>=Vr?10:l>=Br?5:l>=Qr?2:1;let s,a,f;return i<0?(f=Math.pow(10,-i)/o,s=Math.round(e*f),a=Math.round(t*f),s/f<e&&++s,a/f>t&&--a,f=-f):(f=Math.pow(10,i)*o,s=Math.round(e/f),a=Math.round(t/f),s*f<e&&++s,a*f>t&&--a),a<s&&.5<=n&&n<2?Ye(e,t,n*2):[s,a,f]}function Un(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,l,o]=r?Ye(t,e,n):Ye(e,t,n);if(!(l>=i))return[];const s=l-i+1,a=new Array(s);if(r)if(o<0)for(let f=0;f<s;++f)a[f]=(l-f)/-o;else for(let f=0;f<s;++f)a[f]=(l-f)*o;else if(o<0)for(let f=0;f<s;++f)a[f]=(i+f)/-o;else for(let f=0;f<s;++f)a[f]=(i+f)*o;return a}function we(e,t,n){return t=+t,e=+e,n=+n,Ye(e,t,n)[2]}function Gr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?we(t,e,n):we(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ur(e,t,n){let r;for(;;){const i=we(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Jr(e){return Math.max(1,Math.ceil(Math.log(Fr(e))/Math.LN2)+1)}function Jn(){var e=Wr,t=st,n=Jr;function r(i){Array.isArray(i)||(i=Array.from(i));var l,o=i.length,s,a,f=new Array(o);for(l=0;l<o;++l)f[l]=e(i[l],l,i);var h=t(f),d=h[0],g=h[1],c=n(f,d,g);if(!Array.isArray(c)){const M=g,$=+c;if(t===st&&([d,g]=Ur(d,g,$)),c=Un(d,g,$),c[0]<=d&&(a=we(d,g,$)),c[c.length-1]>=g)if(M>=g&&t===st){const N=we(d,g,$);isFinite(N)&&(N>0?g=(Math.floor(g/N)+1)*N:N<0&&(g=(Math.ceil(g*-N)+1)/-N))}else c.pop()}for(var m=c.length,b=0,p=m;c[b]<=d;)++b;for(;c[p-1]>g;)--p;(b||p<m)&&(c=c.slice(b,p),m=p-b);var v=new Array(m+1),_;for(l=0;l<=m;++l)_=v[l]=[],_.x0=l>0?c[l-1]:d,_.x1=l<m?c[l]:g;if(isFinite(a)){if(a>0)for(l=0;l<o;++l)(s=f[l])!=null&&d<=s&&s<=g&&v[Math.min(m,Math.floor((s-d)/a))].push(i[l]);else if(a<0){for(l=0;l<o;++l)if((s=f[l])!=null&&d<=s&&s<=g){const M=Math.floor((d-s)*a);v[Math.min(m,M+(c[M]<=s))].push(i[l])}}}else for(l=0;l<o;++l)(s=f[l])!=null&&d<=s&&s<=g&&v[Gn(c,s,0,m)].push(i[l]);return v}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:at(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:at([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:at(Array.isArray(i)?Ir.call(i):i),r):n},r}function ke(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Xr(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(i);++r<i;)l[r]=e+r*n;return l}function Kr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ze(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $e(e){return e=Ze(Math.abs(e)),e?e[1]:NaN}function Yr(e,t){return function(n,r){for(var i=n.length,l=[],o=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),l.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[o=(o+1)%e.length];return l.reverse().join(t)}}function Zr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ei=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function et(e){if(!(t=ei.exec(e)))throw new Error("invalid format: "+e);var t;return new Mt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}et.prototype=Mt.prototype;function Mt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ti(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Xn;function ni(e,t){var n=Ze(e,t);if(!n)return e+"";var r=n[0],i=n[1],l=i-(Xn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return l===o?r:l>o?r+new Array(l-o+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Ze(e,Math.max(0,t+l-1))[0]}function Bt(e,t){var n=Ze(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Kr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Bt(e*100,t),r:Bt,s:ni,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gt(e){return e}var Ut=Array.prototype.map,Jt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ri(e){var t=e.grouping===void 0||e.thousands===void 0?Gt:Yr(Ut.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Gt:Zr(Ut.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function f(d){d=et(d);var g=d.fill,c=d.align,m=d.sign,b=d.symbol,p=d.zero,v=d.width,_=d.comma,M=d.precision,$=d.trim,N=d.type;N==="n"?(_=!0,N="g"):Qt[N]||(M===void 0&&(M=12),$=!0,N="g"),(p||g==="0"&&c==="=")&&(p=!0,g="0",c="=");var A=b==="$"?n:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",w=b==="$"?r:/[%p]/.test(N)?o:"",q=Qt[N],y=/[defgprs%]/.test(N);M=M===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function j(C){var F=A,T=w,he,jt,Le;if(N==="c")T=q(C)+T,C="";else{C=+C;var De=C<0||1/C<0;if(C=isNaN(C)?a:q(Math.abs(C),M),$&&(C=ti(C)),De&&+C==0&&m!=="+"&&(De=!1),F=(De?m==="("?m:s:m==="-"||m==="("?"":m)+F,T=(N==="s"?Jt[8+Xn/3]:"")+T+(De&&m==="("?")":""),y){for(he=-1,jt=C.length;++he<jt;)if(Le=C.charCodeAt(he),48>Le||Le>57){T=(Le===46?i+C.slice(he+1):C.slice(he))+T,C=C.slice(0,he);break}}}_&&!p&&(C=t(C,1/0));var We=F.length+C.length+T.length,ie=We<v?new Array(v-We+1).join(g):"";switch(_&&p&&(C=t(ie+C,ie.length?v-T.length:1/0),ie=""),c){case"<":C=F+C+T+ie;break;case"=":C=F+ie+C+T;break;case"^":C=ie.slice(0,We=ie.length>>1)+F+C+T+ie.slice(We);break;default:C=ie+F+C+T;break}return l(C)}return j.toString=function(){return d+""},j}function h(d,g){var c=f((d=et(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor($e(g)/3)))*3,b=Math.pow(10,-m),p=Jt[8+m/3];return function(v){return c(b*v)+p}}return{format:f,formatPrefix:h}}var Ie,ce,Kn;ii({thousands:",",grouping:[3],currency:["$",""]});function ii(e){return Ie=ri(e),ce=Ie.format,Kn=Ie.formatPrefix,Ie}function li(e){return Math.max(0,-$e(Math.abs(e)))}function oi(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($e(t)/3)))*3-$e(Math.abs(e)))}function si(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$e(t)-$e(e))+1}function Nt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Xt=Symbol("implicit");function it(){var e=new It,t=[],n=[],r=Xt;function i(l){let o=e.get(l);if(o===void 0){if(r!==Xt)return r;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new It;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return it(t,n).unknown(r)},Nt.apply(i,arguments),i}function qt(){var e=it().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,l,o,s=!1,a=0,f=0,h=.5;delete e.unknown;function d(){var g=t().length,c=i<r,m=c?i:r,b=c?r:i;l=(b-m)/Math.max(1,g-a+f*2),s&&(l=Math.floor(l)),m+=(b-m-l*(g-a))*h,o=l*(1-a),s&&(m=Math.round(m),o=Math.round(o));var p=Xr(g).map(function(v){return m+l*v});return n(c?p.reverse():p)}return e.domain=function(g){return arguments.length?(t(g),d()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(g){return arguments.length?(s=!!g,d()):s},e.padding=function(g){return arguments.length?(a=Math.min(1,f=+g),d()):a},e.paddingInner=function(g){return arguments.length?(a=Math.min(1,g),d()):a},e.paddingOuter=function(g){return arguments.length?(f=+g,d()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),d()):h},e.copy=function(){return qt(t(),[r,i]).round(s).paddingInner(a).paddingOuter(f).align(h)},Nt.apply(d(),arguments)}function zt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fe(){}var Ce=.7,tt=1/Ce,ve="\\s*([+-]?\\d+)\\s*",Ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ai=/^#([0-9a-f]{3,8})$/,fi=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),ui=new RegExp(`^rgb\\(${ee},${ee},${ee}\\)$`),ci=new RegExp(`^rgba\\(${ve},${ve},${ve},${Ee}\\)$`),hi=new RegExp(`^rgba\\(${ee},${ee},${ee},${Ee}\\)$`),di=new RegExp(`^hsl\\(${Ee},${ee},${ee}\\)$`),gi=new RegExp(`^hsla\\(${Ee},${ee},${ee},${Ee}\\)$`),Kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zt(Fe,He,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHex8:pi,formatHsl:mi,formatRgb:Zt,toString:Zt});function Yt(){return this.rgb().formatHex()}function pi(){return this.rgb().formatHex8()}function mi(){return Zn(this).formatHsl()}function Zt(){return this.rgb().formatRgb()}function He(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ai.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?en(t):n===3?new I(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ve(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ve(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fi.exec(e))?new I(t[1],t[2],t[3],1):(t=ui.exec(e))?new I(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ci.exec(e))?Ve(t[1],t[2],t[3],t[4]):(t=hi.exec(e))?Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=di.exec(e))?rn(t[1],t[2]/100,t[3]/100,1):(t=gi.exec(e))?rn(t[1],t[2]/100,t[3]/100,t[4]):Kt.hasOwnProperty(e)?en(Kt[e]):e==="transparent"?new I(NaN,NaN,NaN,0):null}function en(e){return new I(e>>16&255,e>>8&255,e&255,1)}function Ve(e,t,n,r){return r<=0&&(e=t=n=NaN),new I(e,t,n,r)}function _i(e){return e instanceof Fe||(e=He(e)),e?(e=e.rgb(),new I(e.r,e.g,e.b,e.opacity)):new I}function gt(e,t,n,r){return arguments.length===1?_i(e):new I(e,t,n,r??1)}function I(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zt(I,gt,Yn(Fe,{brighter(e){return e=e==null?tt:Math.pow(tt,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ce:Math.pow(Ce,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new I(ue(this.r),ue(this.g),ue(this.b),nt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tn,formatHex:tn,formatHex8:bi,formatRgb:nn,toString:nn}));function tn(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}`}function bi(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}${fe((isNaN(this.opacity)?1:this.opacity)*255)}`}function nn(){const e=nt(this.opacity);return`${e===1?"rgb(":"rgba("}${ue(this.r)}, ${ue(this.g)}, ${ue(this.b)}${e===1?")":`, ${e})`}`}function nt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ue(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fe(e){return e=ue(e),(e<16?"0":"")+e.toString(16)}function rn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Z(e,t,n,r)}function Zn(e){if(e instanceof Z)return new Z(e.h,e.s,e.l,e.opacity);if(e instanceof Fe||(e=He(e)),!e)return new Z;if(e instanceof Z)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),o=NaN,s=l-i,a=(l+i)/2;return s?(t===l?o=(n-r)/s+(n<r)*6:n===l?o=(r-t)/s+2:o=(t-n)/s+4,s/=a<.5?l+i:2-l-i,o*=60):s=a>0&&a<1?0:o,new Z(o,s,a,e.opacity)}function vi(e,t,n,r){return arguments.length===1?Zn(e):new Z(e,t,n,r??1)}function Z(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zt(Z,vi,Yn(Fe,{brighter(e){return e=e==null?tt:Math.pow(tt,e),new Z(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ce:Math.pow(Ce,e),new Z(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new I(ft(e>=240?e-240:e+120,i,r),ft(e,i,r),ft(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Z(ln(this.h),Be(this.s),Be(this.l),nt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nt(this.opacity);return`${e===1?"hsl(":"hsla("}${ln(this.h)}, ${Be(this.s)*100}%, ${Be(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ln(e){return e=(e||0)%360,e<0?e+360:e}function Be(e){return Math.max(0,Math.min(1,e||0))}function ft(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const At=e=>()=>e;function yi(e,t){return function(n){return e+n*t}}function wi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ki(e){return(e=+e)==1?er:function(t,n){return n-t?wi(t,n,e):At(isNaN(t)?n:t)}}function er(e,t){var n=t-e;return n?yi(e,n):At(isNaN(e)?t:e)}const on=function e(t){var n=ki(t);function r(i,l){var o=n((i=gt(i)).r,(l=gt(l)).r),s=n(i.g,l.g),a=n(i.b,l.b),f=er(i.opacity,l.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=a(h),i.opacity=f(h),i+""}}return r.gamma=e,r}(1);function $i(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function Mi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ni(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),o;for(o=0;o<r;++o)i[o]=Pe(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(s){for(o=0;o<r;++o)l[o]=i[o](s);return l}}function qi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zi(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pe(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var pt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ut=new RegExp(pt.source,"g");function Ai(e){return function(){return e}}function ji(e){return function(t){return e(t)+""}}function Si(e,t){var n=pt.lastIndex=ut.lastIndex=0,r,i,l,o=-1,s=[],a=[];for(e=e+"",t=t+"";(r=pt.exec(e))&&(i=ut.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),s[o]?s[o]+=l:s[++o]=l),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:rt(r,i)})),n=ut.lastIndex;return n<t.length&&(l=t.slice(n),s[o]?s[o]+=l:s[++o]=l),s.length<2?a[0]?ji(a[0].x):Ai(t):(t=a.length,function(f){for(var h=0,d;h<t;++h)s[(d=a[h]).i]=d.x(f);return s.join("")})}function Pe(e,t){var n=typeof t,r;return t==null||n==="boolean"?At(t):(n==="number"?rt:n==="string"?(r=He(t))?(t=r,on):Si:t instanceof He?on:t instanceof Date?qi:Mi(t)?$i:Array.isArray(t)?Ni:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zi:rt)(e,t)}function xi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ci(e){return function(){return e}}function Ei(e){return+e}var sn=[0,1];function me(e){return e}function mt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ci(isNaN(t)?NaN:.5)}function Hi(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ri(e,t,n){var r=e[0],i=e[1],l=t[0],o=t[1];return i<r?(r=mt(i,r),l=n(o,l)):(r=mt(r,i),l=n(l,o)),function(s){return l(r(s))}}function Oi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=mt(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(s){var a=Gn(e,s,1,r)-1;return l[a](i[a](s))}}function Fi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pi(){var e=sn,t=sn,n=Pe,r,i,l,o=me,s,a,f;function h(){var g=Math.min(e.length,t.length);return o!==me&&(o=Hi(e[0],e[g-1])),s=g>2?Oi:Ri,a=f=null,d}function d(g){return g==null||isNaN(g=+g)?l:(a||(a=s(e.map(r),t,n)))(r(o(g)))}return d.invert=function(g){return o(i((f||(f=s(t,e.map(r),rt)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,Ei),h()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=xi,h()},d.clamp=function(g){return arguments.length?(o=g?!0:me,h()):o!==me},d.interpolate=function(g){return arguments.length?(n=g,h()):n},d.unknown=function(g){return arguments.length?(l=g,d):l},function(g,c){return r=g,i=c,h()}}function Li(){return Pi()(me,me)}function Di(e,t,n,r){var i=Gr(e,t,n),l;switch(r=et(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=oi(i,o))&&(r.precision=l),Kn(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=si(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=li(i))&&(r.precision=l-(r.type==="%")*2);break}}return ce(r)}function Wi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Un(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Di(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,l=r.length-1,o=r[i],s=r[l],a,f,h=10;for(s<o&&(f=o,o=s,s=f,f=i,i=l,l=f);h-- >0;){if(f=we(o,s,n),f===a)return r[i]=o,r[l]=s,t(r);if(f>0)o=Math.floor(o/f)*f,s=Math.ceil(s/f)*f;else if(f<0)o=Math.ceil(o*f)/f,s=Math.floor(s*f)/f;else break;a=f}return e},e}function oe(){var e=Li();return e.copy=function(){return Fi(e,oe())},Nt.apply(e,arguments),Wi(e)}function Qe(e){return function(){return e}}function Ti(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _t(e,t){if((o=e.length)>1)for(var n=1,r,i,l=e[t[0]],o,s=l.length;n<o;++n)for(i=l,l=e[t[n]],r=0;r<s;++r)l[r][1]+=l[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bt(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ii(e,t){return e[t]}function Vi(e){const t=[];return t.key=e,t}function Bi(){var e=Qe([]),t=bt,n=_t,r=Ii;function i(l){var o=Array.from(e.apply(this,arguments),Vi),s,a=o.length,f=-1,h;for(const d of l)for(s=0,++f;s<a;++s)(o[s][f]=[0,+r(d,o[s].key,f,l)]).data=d;for(s=0,h=Ti(t(o));s<a;++s)o[h[s]].index=s;return n(o,h),o}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Qe(Array.from(l)),i):e},i.value=function(l){return arguments.length?(r=typeof l=="function"?l:Qe(+l),i):r},i.order=function(l){return arguments.length?(t=l==null?bt:typeof l=="function"?l:Qe(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(n=l??_t,i):n},i}function an(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function fn(e,t,n){const r=e.slice();r[24]=t[n];const i=r[4][r[21].key];return r[25]=i,r}function un(e){let t,n,r,i,l,o,s,a,f,h,d,g,c,m,b=e[21].key+"",p,v,_=e[11](e[25]/e[2])+"",M,$,N,A,w,q;return{c(){t=S("rect"),f=S("line"),m=S("text"),p=P(b),v=S("tspan"),M=P(_),N=H(),u(t,"class",n="horizontal-bar-rect "+(e[5]===e[23]?"selected":"unselected")+" svelte-tg5p7i"),u(t,"y",r=e[8](e[24].data.xVal)),u(t,"x",i=e[7](e[24][0])),u(t,"stroke","var(--black)"),u(t,"width",l=e[7](e[24][1])-e[7](e[24][0])),u(t,"fill",o=e[10](e[21].key)),u(t,"opacity",s=e[5]==="all"||e[5]===e[23]?"1":"0.25"),u(t,"height",a=e[8].bandwidth()),u(f,"class","line svelte-tg5p7i"),u(f,"x1",h=e[7](e[24][0])),u(f,"x2",d=e[7](e[24][0])),u(f,"y1",g=e[8](e[24].data.xVal)-ae),u(f,"y2",c=e[8].bandwidth()+e[8](e[24].data.xVal)+ae),u(f,"stroke","black"),u(v,"x",$=(e[7](e[24][0])+e[7](e[24][1]))/2),u(v,"dy","16"),u(v,"text-anchor","middle"),u(m,"class","horizontal-bar-text svelte-tg5p7i"),u(m,"y",A=e[8].bandwidth()/2),u(m,"x",w=(e[7](e[24][0])+e[7](e[24][1]))/2),u(m,"opacity",q=e[5]==="all"||e[5]===e[23]?"1":"0.25"),u(m,"text-anchor","middle")},m(y,j){E(y,t,j),E(y,f,j),E(y,m,j),k(m,p),k(m,v),k(v,M),k(m,N)},p(y,j){j&32&&n!==(n="horizontal-bar-rect "+(y[5]===y[23]?"selected":"unselected")+" svelte-tg5p7i")&&u(t,"class",n),j&320&&r!==(r=y[8](y[24].data.xVal))&&u(t,"y",r),j&192&&i!==(i=y[7](y[24][0]))&&u(t,"x",i),j&192&&l!==(l=y[7](y[24][1])-y[7](y[24][0]))&&u(t,"width",l),j&64&&o!==(o=y[10](y[21].key))&&u(t,"fill",o),j&32&&s!==(s=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&u(t,"opacity",s),j&256&&a!==(a=y[8].bandwidth())&&u(t,"height",a),j&192&&h!==(h=y[7](y[24][0]))&&u(f,"x1",h),j&192&&d!==(d=y[7](y[24][0]))&&u(f,"x2",d),j&320&&g!==(g=y[8](y[24].data.xVal)-ae)&&u(f,"y1",g),j&320&&c!==(c=y[8].bandwidth()+y[8](y[24].data.xVal)+ae)&&u(f,"y2",c),j&64&&b!==(b=y[21].key+"")&&W(p,b),j&84&&_!==(_=y[11](y[25]/y[2])+"")&&W(M,_),j&192&&$!==($=(y[7](y[24][0])+y[7](y[24][1]))/2)&&u(v,"x",$),j&256&&A!==(A=y[8].bandwidth()/2)&&u(m,"y",A),j&192&&w!==(w=(y[7](y[24][0])+y[7](y[24][1]))/2)&&u(m,"x",w),j&32&&q!==(q=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&u(m,"opacity",q)},d(y){y&&x(t),y&&x(f),y&&x(m)}}}function cn(e){let t,n,r,i,l,o,s,a,f=e[21],h=[];for(let c=0;c<f.length;c+=1)h[c]=un(fn(e,f,c));function d(){return e[17](e[23],e[21])}function g(){return e[18](e[23],e[21])}return{c(){t=S("g");for(let c=0;c<h.length;c+=1)h[c].c();n=S("line"),u(n,"class","line svelte-tg5p7i"),u(n,"x1",r=e[3]-e[9].right),u(n,"x2",i=e[3]-e[9].right),u(n,"y1",l=e[8]("A")-ae),u(n,"y2",o=e[8].bandwidth()+e[8]("A")+ae),u(n,"stroke","black"),u(t,"class","series svelte-tg5p7i"),u(t,"role","button"),u(t,"tabindex","0")},m(c,m){E(c,t,m);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(t,null);k(t,n),s||(a=[te(t,"click",d),te(t,"keypress",g)],s=!0)},p(c,m){if(e=c,m&3572){f=e[21];let b;for(b=0;b<f.length;b+=1){const p=fn(e,f,b);h[b]?h[b].p(p,m):(h[b]=un(p),h[b].c(),h[b].m(t,n))}for(;b<h.length;b+=1)h[b].d(1);h.length=f.length}m&8&&r!==(r=e[3]-e[9].right)&&u(n,"x1",r),m&8&&i!==(i=e[3]-e[9].right)&&u(n,"x2",i),m&256&&l!==(l=e[8]("A")-ae)&&u(n,"y1",l),m&256&&o!==(o=e[8].bandwidth()+e[8]("A")+ae)&&u(n,"y2",o)},d(c){c&&x(t),J(h,c),s=!1,re(a)}}}function Qi(e){let t,n,r,i,l,o=e[6],s=[];for(let a=0;a<o.length;a+=1)s[a]=cn(an(e,o,a));return{c(){t=z("div"),t.innerHTML="<p>Feedback Distribution</p>",n=H(),r=z("div"),i=S("svg");for(let a=0;a<s.length;a+=1)s[a].c();u(i,"width",e[1]),u(i,"height",e[0]),u(r,"id","stackedrect-holder"),u(r,"class","svelte-tg5p7i"),V(()=>e[19].call(r))},m(a,f){E(a,t,f),E(a,n,f),E(a,r,f),k(r,i);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(i,null);l=Me(r,e[19].bind(r))},p(a,[f]){if(f&8188){o=a[6];let h;for(h=0;h<o.length;h+=1){const d=an(a,o,h);s[h]?s[h].p(d,f):(s[h]=cn(d),s[h].c(),s[h].m(i,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}f&2&&u(i,"width",a[1]),f&1&&u(i,"height",a[0])},i:R,o:R,d(a){a&&x(t),a&&x(n),a&&x(r),J(s,a),l()}}}const ae=5;function Gi(e,t,n){let r,i,l,o,s,a,f,h,d,g,c;D(e,ne,q=>n(15,d=q)),D(e,Ft,q=>n(4,g=q)),D(e,U,q=>n(16,c=q));let m=300,b=300;const p={up:2,down:1,"n/a":0,all:"all"},v={top:10,bottom:10,left:25,right:5},_=it().range(["var(--yellow)","var(--red)","var(--green)"]),M=ce(".0%");function $(q,y){r===q?n(5,r="all"):n(5,r=q),ye(ne,d=r==="all"?"all":y,d)}const N=(q,y)=>$(q,y.key),A=(q,y)=>$(q,y.key);function w(){b=this.offsetWidth,m=this.offsetHeight,n(1,b),n(0,m)}return e.$$.update=()=>{e.$$.dirty&32768&&n(5,r=p[d]),e.$$.dirty&2&&n(3,i=b-v.left-v.right),e.$$.dirty&1&&n(14,l=m-v.top-v.bottom),e.$$.dirty&65552&&c.forEach(q=>{ye(Ft,g[q.vote_status]++,g)}),e.$$.dirty&16&&n(2,o=g.up+g.down+g["n/a"]),e.$$.dirty&16384&&n(8,s=qt().rangeRound([v.top,l-v.bottom]).padding(0).domain(["a"])),e.$$.dirty&12&&n(7,a=oe().rangeRound([v.left,i-v.right]).domain([0,o])),e.$$.dirty&8208&&n(6,h=f([g]))},n(13,f=Bi().keys(["n/a","down","up"]).order(bt).offset(_t)),[m,b,o,i,g,r,h,a,s,v,_,M,$,f,l,d,c,N,A,w]}class Ui extends K{constructor(t){super(),X(this,t,Gi,Qi,B,{})}}function Ji(e,{delay:t=0,duration:n=400,easing:r=Bn,axis:i="y"}={}){const l=getComputedStyle(e),o=+l.opacity,s=i==="y"?"height":"width",a=parseFloat(l[s]),f=i==="y"?["top","bottom"]:["left","right"],h=f.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),d=parseFloat(l[`padding${h[0]}`]),g=parseFloat(l[`padding${h[1]}`]),c=parseFloat(l[`margin${h[0]}`]),m=parseFloat(l[`margin${h[1]}`]),b=parseFloat(l[`border${h[0]}Width`]),p=parseFloat(l[`border${h[1]}Width`]);return{delay:t,duration:n,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${s}: ${v*a}px;padding-${f[0]}: ${v*d}px;padding-${f[1]}: ${v*g}px;margin-${f[0]}: ${v*c}px;margin-${f[1]}: ${v*m}px;border-${f[0]}-width: ${v*b}px;border-${f[1]}-width: ${v*p}px;`}}function Xi(e){let t,n,r,i,l,o,s,a,f,h,d,g=e[3][e[2]]+"",c,m;return{c(){t=z("div"),n=z("div"),r=P("Q: "),i=P(e[0]),l=H(),o=z("div"),s=P("A: "),a=P(e[1]),f=H(),h=z("div"),d=P("Rating: "),c=P(g),u(n,"class","question svelte-szi0e"),u(o,"class","answer svelte-szi0e"),u(h,"class",m="feedback "+e[2]+" svelte-szi0e"),u(t,"class","qa-card svelte-szi0e")},m(b,p){E(b,t,p),k(t,n),k(n,r),k(n,i),k(t,l),k(t,o),k(o,s),k(o,a),k(t,f),k(t,h),k(h,d),k(h,c)},p(b,[p]){p&1&&W(i,b[0]),p&2&&W(a,b[1]),p&4&&g!==(g=b[3][b[2]]+"")&&W(c,g),p&4&&m!==(m="feedback "+b[2]+" svelte-szi0e")&&u(h,"class",m)},i:R,o:R,d(b){b&&x(t)}}}function Ki(e,t,n){let{question:r="What is gradient descent?"}=t,{answer:i="Gradient descent is an algorithm used to minimize a loss function by taking small steps in the direction of steepest descent."}=t,{feedback:l="Good: 👍"}=t;const o={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"};return e.$$set=s=>{"question"in s&&n(0,r=s.question),"answer"in s&&n(1,i=s.answer),"feedback"in s&&n(2,l=s.feedback)},[r,i,l,o]}class Yi extends K{constructor(t){super(),X(this,t,Ki,Xi,B,{question:0,answer:1,feedback:2})}}function Zi(e){let t={Who:0,What:0,How:0,Why:0,Where:0,Does:0,Can:0,"N/A":0};for(let r=0;r<e.length;r++){let i=e[r].question.split(" ")[0];i in t?t[i]++:t["N/A"]++}return Object.keys(t).map(r=>({question:r,count:t[r]}))}function tr(e){return e.map(t=>{const n=t.question.split(" ").length,r=t.answer.split(" ").length;return{index:t.index,question:+n,answer:+r,vote:t.vote}})}function hn(e,t,n){const r=e.slice();return r[5]=t[n].question,r[6]=t[n].answer,r[7]=t[n].vote_status,r}function dn(e){let t,n,r,i,l;return n=new Yi({props:{question:e[5],answer:e[6],feedback:e[7]}}),{c(){t=z("div"),Y(n.$$.fragment),r=H()},m(o,s){E(o,t,s),Q(n,t,null),k(t,r),l=!0},p(o,s){const a={};s&1&&(a.question=o[5]),s&1&&(a.answer=o[6]),s&1&&(a.feedback=o[7]),n.$set(a)},i(o){l||(O(n.$$.fragment,o),o&&V(()=>{l&&(i||(i=Rt(t,e[1],{duration:300},!0)),i.run(1))}),l=!0)},o(o){L(n.$$.fragment,o),o&&(i||(i=Rt(t,e[1],{duration:300},!1)),i.run(0)),l=!1},d(o){o&&x(t),G(n),o&&i&&i.end()}}}function el(e){let t,n,r=e[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=dn(hn(e,r,o));const l=o=>L(i[o],1,1,()=>{i[o]=null});return{c(){t=z("div");for(let o=0;o<i.length;o+=1)i[o].c();u(t,"class","qa-container svelte-1xv9cfi")},m(o,s){E(o,t,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null);n=!0},p(o,[s]){if(s&1){r=o[0];let a;for(a=0;a<r.length;a+=1){const f=hn(o,r,a);i[a]?(i[a].p(f,s),O(i[a],1)):(i[a]=dn(f),i[a].c(),O(i[a],1),i[a].m(t,null))}for(ze(),a=r.length;a<i.length;a+=1)l(a);Ae()}},i(o){if(!n){for(let s=0;s<r.length;s+=1)O(i[s]);n=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)L(i[s]);n=!1},d(o){o&&x(t),J(i,o)}}}function tl(e,t,n){let r,i,l,o;D(e,dt,a=>n(4,i=a)),D(e,ne,a=>n(2,l=a)),D(e,U,a=>n(3,o=a));const s=(a,{delay:f=0,duration:h=1e3,easing:d=Bn})=>Ji(a,{delay:f,duration:h,easing:d});return e.$$.update=()=>{e.$$.dirty&12&&n(0,r=l==="all"?o:o.filter(a=>a.vote_status===l)),e.$$.dirty&1&&console.log("qadata",r),e.$$.dirty&1&&ye(dt,i=Zi(r),i)},[r,s,l,o]}class nl extends K{constructor(t){super(),X(this,t,tl,el,B,{})}}function gn(e,t,n){const r=e.slice();return r[15]=t[n],r}function pn(e,t,n){const r=e.slice();return r[18]=t[n],r}function mn(e,t,n){const r=e.slice();return r[18]=t[n],r}function _n(e){let t,n,r,i,l=e[18]+"",o,s;return{c(){t=S("g"),n=S("line"),i=S("text"),o=P(l),u(n,"class","axis-tick svelte-1oikip4"),u(n,"x1","0"),u(n,"x2","0"),u(n,"y1",0),u(n,"y2",r=-e[2]+e[10].bottom+e[10].top),u(n,"stroke","var(--squidink)"),u(n,"stroke-dasharray","4"),u(i,"class","axis-text svelte-1oikip4"),u(i,"y","15"),u(i,"text-anchor","middle"),u(t,"transform",s=`translate(${e[8](e[18])+e[8].bandwidth()/2} ${e[2]-e[10].bottom})`)},m(a,f){E(a,t,f),k(t,n),k(t,i),k(i,o)},p(a,f){f&4&&r!==(r=-a[2]+a[10].bottom+a[10].top)&&u(n,"y2",r),f&32&&l!==(l=a[18]+"")&&W(o,l),f&292&&s!==(s=`translate(${a[8](a[18])+a[8].bandwidth()/2} ${a[2]-a[10].bottom})`)&&u(t,"transform",s)},d(a){a&&x(t)}}}function bn(e){let t,n,r,i;return{c(){t=S("g"),n=S("line"),u(n,"class","axis-tick svelte-1oikip4"),u(n,"x1",0),u(n,"x2",r=e[3]-e[10].right-e[10].left),u(n,"y1","0"),u(n,"y2","0"),u(n,"stroke","black"),u(t,"transform",i=`translate(${e[10].left} ${e[7](e[18])+0})`)},m(l,o){E(l,t,o),k(t,n)},p(l,o){o&8&&r!==(r=l[3]-l[10].right-l[10].left)&&u(n,"x2",r),o&128&&i!==(i=`translate(${l[10].left} ${l[7](l[18])+0})`)&&u(t,"transform",i)},d(l){l&&x(t)}}}function vn(e){let t,n,r,i,l,o,s,a,f=Math.round(e[11](e[15].count))+"",h,d,g;return{c(){t=S("g"),n=S("rect"),a=S("text"),h=P(f),u(n,"x",r=e[8](e[15].question)),u(n,"y",i=e[7](e[15].count)),u(n,"height",l=e[2]-e[7](e[15].count)-e[10].bottom),u(n,"fill",o=e[6](e[15].count)),u(n,"fill-opacity","0.95"),u(n,"width",s=e[8].bandwidth()),u(n,"class","svelte-1oikip4"),u(a,"class","axis-text svelte-1oikip4"),u(a,"x",d=e[8](e[15].question)+e[8].bandwidth()/2),u(a,"y",g=e[7](e[15].count)-5),u(a,"text-anchor","middle"),u(t,"class","series")},m(c,m){E(c,t,m),k(t,n),k(t,a),k(a,h)},p(c,m){m&288&&r!==(r=c[8](c[15].question))&&u(n,"x",r),m&160&&i!==(i=c[7](c[15].count))&&u(n,"y",i),m&164&&l!==(l=c[2]-c[7](c[15].count)-c[10].bottom)&&u(n,"height",l),m&96&&o!==(o=c[6](c[15].count))&&u(n,"fill",o),m&256&&s!==(s=c[8].bandwidth())&&u(n,"width",s),m&32&&f!==(f=Math.round(c[11](c[15].count))+"")&&W(h,f),m&288&&d!==(d=c[8](c[15].question)+c[8].bandwidth()/2)&&u(a,"x",d),m&160&&g!==(g=c[7](c[15].count)-5)&&u(a,"y",g)},d(c){c&&x(t)}}}function rl(e){let t,n,r,i,l,o,s=e[9][e[4]]+"",a,f,h,d,g,c,m,b,p,v=e[5].map(yn),_=[];for(let w=0;w<v.length;w+=1)_[w]=_n(mn(e,v,w));let M=e[7].ticks(),$=[];for(let w=0;w<M.length;w+=1)$[w]=bn(pn(e,M,w));let N=e[5],A=[];for(let w=0;w<N.length;w+=1)A[w]=vn(gn(e,N,w));return{c(){t=z("div"),n=S("svg");for(let w=0;w<_.length;w+=1)_[w].c();r=Se();for(let w=0;w<$.length;w+=1)$[w].c();i=Se();for(let w=0;w<A.length;w+=1)A[w].c();l=S("text"),o=P("Question Type: "),a=P(s),h=S("line"),m=S("line"),u(l,"class","chart-title svelte-1oikip4"),u(l,"y",e[10].top/2+1),u(l,"x",f=(e[3]+e[10].left)/2),u(l,"text-anchor","middle"),u(h,"class","axis-line svelte-1oikip4"),u(h,"x1",e[10].left),u(h,"x2",d=e[3]-e[10].right),u(h,"y1",g=e[2]-e[10].bottom),u(h,"y2",c=e[2]-e[10].bottom),u(m,"class","axis-line svelte-1oikip4"),u(m,"x1",e[10].left),u(m,"x2",e[10].left),u(m,"y1",e[10].top),u(m,"y2",b=e[2]-e[10].bottom),u(m,"opacity","0"),u(n,"width",e[1]),u(n,"height",e[0]),u(t,"id","stackedrect-holder"),u(t,"class","svelte-1oikip4"),V(()=>e[13].call(t))},m(w,q){E(w,t,q),k(t,n);for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(n,null);k(n,r);for(let y=0;y<$.length;y+=1)$[y]&&$[y].m(n,null);k(n,i);for(let y=0;y<A.length;y+=1)A[y]&&A[y].m(n,null);k(n,l),k(l,o),k(l,a),k(n,h),k(n,m),p=Me(t,e[13].bind(t))},p(w,[q]){if(q&1316){v=w[5].map(yn);let y;for(y=0;y<v.length;y+=1){const j=mn(w,v,y);_[y]?_[y].p(j,q):(_[y]=_n(j),_[y].c(),_[y].m(n,r))}for(;y<_.length;y+=1)_[y].d(1);_.length=v.length}if(q&1160){M=w[7].ticks();let y;for(y=0;y<M.length;y+=1){const j=pn(w,M,y);$[y]?$[y].p(j,q):($[y]=bn(j),$[y].c(),$[y].m(n,i))}for(;y<$.length;y+=1)$[y].d(1);$.length=M.length}if(q&3556){N=w[5];let y;for(y=0;y<N.length;y+=1){const j=gn(w,N,y);A[y]?A[y].p(j,q):(A[y]=vn(j),A[y].c(),A[y].m(n,l))}for(;y<A.length;y+=1)A[y].d(1);A.length=N.length}q&16&&s!==(s=w[9][w[4]]+"")&&W(a,s),q&8&&f!==(f=(w[3]+w[10].left)/2)&&u(l,"x",f),q&8&&d!==(d=w[3]-w[10].right)&&u(h,"x2",d),q&4&&g!==(g=w[2]-w[10].bottom)&&u(h,"y1",g),q&4&&c!==(c=w[2]-w[10].bottom)&&u(h,"y2",c),q&4&&b!==(b=w[2]-w[10].bottom)&&u(m,"y2",b),q&2&&u(n,"width",w[1]),q&1&&u(n,"height",w[0])},i:R,o:R,d(w){w&&x(t),J(_,w),J($,w),J(A,w),p()}}}const yn=e=>e.question;function il(e,t,n){let r,i,l,o,s,a,f,h;D(e,ne,_=>n(4,f=_)),D(e,dt,_=>n(5,h=_));const d={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"},g={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let c=300,m=300,b={top:35,bottom:10,left:25,right:5};const p=ce(".1f");function v(){m=this.offsetWidth,c=this.offsetHeight,n(1,m),n(0,c)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,r=m-b.left-b.right),e.$$.dirty&1&&n(2,i=c-b.top-b.bottom),e.$$.dirty&40&&n(8,l=qt().rangeRound([b.left,r-b.right]).padding(.05).domain(h.map(_=>_.question))),e.$$.dirty&36&&n(7,o=oe().rangeRound([i-b.bottom,b.top]).domain([0,ke(h,_=>_.count)])),e.$$.dirty&32&&n(12,s=ke(h,_=>_.count)),e.$$.dirty&4112&&n(6,a=oe().domain([0,s]).range(["white",g[f]]).interpolate(Pe))},[c,m,i,r,f,h,a,o,l,d,b,p,s,v]}class ll extends K{constructor(t){super(),X(this,t,il,rl,B,{})}}function wn(e,t,n){const r=e.slice();r[19]=t[n];const i=r[7](r[19].x1)-r[7](r[19].x0);return r[20]=i,r}function kn(e,t,n){const r=e.slice();return r[23]=t[n],r}function $n(e){let t,n,r,i,l=e[23]+"",o,s;return{c(){t=S("g"),n=S("line"),i=S("text"),o=P(l),u(n,"class","axis-tick svelte-kz2qh6"),u(n,"x1","0"),u(n,"x2","0"),u(n,"y1",0),u(n,"y2",r=-e[2]+e[9].bottom+e[9].top),u(n,"stroke","var(--squidink)"),u(n,"stroke-dasharray","4"),u(i,"class","axis-text svelte-kz2qh6"),u(i,"y","15"),u(i,"text-anchor","middle"),u(t,"transform",s=`translate(${e[7](e[23])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),u(t,"class","svelte-kz2qh6")},m(a,f){E(a,t,f),k(t,n),k(t,i),k(i,o)},p(a,f){f&4&&r!==(r=-a[2]+a[9].bottom+a[9].top)&&u(n,"y2",r),f&128&&l!==(l=a[23]+"")&&W(o,l),f&132&&s!==(s=`translate(${a[7](a[23])+(a[7](1)-a[7](0))/2} ${a[2]-a[9].bottom})`)&&u(t,"transform",s)},d(a){a&&x(t)}}}function Mn(e){let t,n,r,i,l,o,s;return{c(){t=S("g"),n=S("rect"),u(n,"x",r=e[7](e[19].x0)+1),u(n,"width",i=e[20]),u(n,"y",l=e[6](e[19].length)),u(n,"height",o=e[6](0)-e[6](e[19].length)),u(n,"fill",s=e[8][e[5]]),u(n,"class","svelte-kz2qh6"),u(t,"class","histogram-bin svelte-kz2qh6")},m(a,f){E(a,t,f),k(t,n)},p(a,f){f&136&&r!==(r=a[7](a[19].x0)+1)&&u(n,"x",r),f&136&&i!==(i=a[20])&&u(n,"width",i),f&72&&l!==(l=a[6](a[19].length))&&u(n,"y",l),f&72&&o!==(o=a[6](0)-a[6](a[19].length))&&u(n,"height",o),f&32&&s!==(s=a[8][a[5]])&&u(n,"fill",s)},d(a){a&&x(t)}}}function ol(e){let t,n,r,i,l,o,s,a,f,h,d,g=e[7].ticks(),c=[];for(let p=0;p<g.length;p+=1)c[p]=$n(kn(e,g,p));let m=e[3],b=[];for(let p=0;p<m.length;p+=1)b[p]=Mn(wn(e,m,p));return{c(){t=z("div"),n=S("svg");for(let p=0;p<c.length;p+=1)c[p].c();r=Se();for(let p=0;p<b.length;p+=1)b[p].c();i=S("text"),l=P("Answer Length"),s=S("line"),u(i,"class","chart-title svelte-kz2qh6"),u(i,"y",e[9].top/2+5),u(i,"x",o=(e[4]+e[9].left)/2),u(i,"text-anchor","middle"),u(s,"class","axis-line svelte-kz2qh6"),u(s,"x1",e[9].left),u(s,"x2",a=e[4]-e[9].right),u(s,"y1",f=e[2]-e[9].bottom),u(s,"y2",h=e[2]-e[9].bottom),u(n,"width",e[1]),u(n,"height",e[0]),u(n,"class","svelte-kz2qh6"),u(t,"class","histogram-container svelte-kz2qh6"),V(()=>e[14].call(t))},m(p,v){E(p,t,v),k(t,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);k(n,r);for(let _=0;_<b.length;_+=1)b[_]&&b[_].m(n,null);k(n,i),k(i,l),k(n,s),d=Me(t,e[14].bind(t))},p(p,[v]){if(v&644){g=p[7].ticks();let _;for(_=0;_<g.length;_+=1){const M=kn(p,g,_);c[_]?c[_].p(M,v):(c[_]=$n(M),c[_].c(),c[_].m(n,r))}for(;_<c.length;_+=1)c[_].d(1);c.length=g.length}if(v&488){m=p[3];let _;for(_=0;_<m.length;_+=1){const M=wn(p,m,_);b[_]?b[_].p(M,v):(b[_]=Mn(M),b[_].c(),b[_].m(n,i))}for(;_<b.length;_+=1)b[_].d(1);b.length=m.length}v&16&&o!==(o=(p[4]+p[9].left)/2)&&u(i,"x",o),v&16&&a!==(a=p[4]-p[9].right)&&u(s,"x2",a),v&4&&f!==(f=p[2]-p[9].bottom)&&u(s,"y1",f),v&4&&h!==(h=p[2]-p[9].bottom)&&u(s,"y2",h),v&2&&u(n,"width",p[1]),v&1&&u(n,"height",p[0])},i:R,o:R,d(p){p&&x(t),J(c,p),J(b,p),d()}}}let Nn=100;function sl(e,t,n){let r,i,l,o,s,a,f,h,d,g;D(e,ne,M=>n(5,d=M)),D(e,U,M=>n(13,g=M));const c={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let m=300,b=300,p={top:15,bottom:10,left:25,right:5};ce(".1f");let v=Array.from({length:Nn},(M,$)=>$);function _(){b=this.offsetWidth,m=this.offsetHeight,n(1,b),n(0,m)}return e.$$.update=()=>{e.$$.dirty&8224&&n(12,r=d==="all"?g:g.filter(M=>M.vote_status===d)),e.$$.dirty&4096&&n(11,i=tr(r)),e.$$.dirty&2&&n(4,l=b-p.left-p.right),e.$$.dirty&1&&n(2,o=m-p.top-p.bottom),e.$$.dirty&2048&&n(3,s=Jn().thresholds(v).value(M=>M.answer)(i)),e.$$.dirty&16&&n(7,a=oe().domain([3,Nn]).range([p.left,l-p.right])),e.$$.dirty&12&&n(6,f=oe().domain([0,ke(s,M=>M.length)]).range([o-p.bottom,p.top])),e.$$.dirty&2048&&n(10,h=ke(i,M=>M.length)),e.$$.dirty&1056&&oe().domain([0,h]).range(["white",c[d]]).interpolate(Pe)},[m,b,o,s,l,d,f,a,c,p,h,i,r,g,_]}class al extends K{constructor(t){super(),X(this,t,sl,ol,B,{})}}function qn(e,t,n){const r=e.slice();r[18]=t[n];const i=r[7](r[18].x1)-r[7](r[18].x0);return r[19]=i,r}function zn(e,t,n){const r=e.slice();return r[22]=t[n],r}function An(e){let t,n,r,i,l=e[22]+"",o,s;return{c(){t=S("g"),n=S("line"),i=S("text"),o=P(l),u(n,"class","axis-tick svelte-kz2qh6"),u(n,"x1","0"),u(n,"x2","0"),u(n,"y1",0),u(n,"y2",r=-e[2]+e[9].bottom+e[9].top),u(n,"stroke","var(--squidink)"),u(n,"stroke-dasharray","4"),u(i,"class","axis-text svelte-kz2qh6"),u(i,"y","15"),u(i,"text-anchor","middle"),u(t,"transform",s=`translate(${e[7](e[22])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),u(t,"class","svelte-kz2qh6")},m(a,f){E(a,t,f),k(t,n),k(t,i),k(i,o)},p(a,f){f&4&&r!==(r=-a[2]+a[9].bottom+a[9].top)&&u(n,"y2",r),f&128&&l!==(l=a[22]+"")&&W(o,l),f&132&&s!==(s=`translate(${a[7](a[22])+(a[7](1)-a[7](0))/2} ${a[2]-a[9].bottom})`)&&u(t,"transform",s)},d(a){a&&x(t)}}}function jn(e){let t,n,r,i,l,o,s;return{c(){t=S("g"),n=S("rect"),u(n,"x",r=e[7](e[18].x0)+1),u(n,"width",i=e[19]),u(n,"y",l=e[6](e[18].length)),u(n,"height",o=e[6](0)-e[6](e[18].length)),u(n,"fill",s=e[8][e[5]]),u(n,"class","svelte-kz2qh6"),u(t,"class","histogram-bin svelte-kz2qh6")},m(a,f){E(a,t,f),k(t,n)},p(a,f){f&136&&r!==(r=a[7](a[18].x0)+1)&&u(n,"x",r),f&136&&i!==(i=a[19])&&u(n,"width",i),f&72&&l!==(l=a[6](a[18].length))&&u(n,"y",l),f&72&&o!==(o=a[6](0)-a[6](a[18].length))&&u(n,"height",o),f&32&&s!==(s=a[8][a[5]])&&u(n,"fill",s)},d(a){a&&x(t)}}}function fl(e){let t,n,r,i,l,o,s,a,f,h,d,g=e[7].ticks(),c=[];for(let p=0;p<g.length;p+=1)c[p]=An(zn(e,g,p));let m=e[3],b=[];for(let p=0;p<m.length;p+=1)b[p]=jn(qn(e,m,p));return{c(){t=z("div"),n=S("svg");for(let p=0;p<c.length;p+=1)c[p].c();r=Se();for(let p=0;p<b.length;p+=1)b[p].c();i=S("text"),l=P("Question Length"),s=S("line"),u(i,"class","chart-title svelte-kz2qh6"),u(i,"y",e[9].top/2+5),u(i,"x",o=(e[4]+e[9].left)/2),u(i,"text-anchor","middle"),u(s,"class","axis-line svelte-kz2qh6"),u(s,"x1",e[9].left),u(s,"x2",a=e[4]-e[9].right),u(s,"y1",f=e[2]-e[9].bottom),u(s,"y2",h=e[2]-e[9].bottom),u(n,"width",e[1]),u(n,"height",e[0]),u(n,"class","svelte-kz2qh6"),u(t,"class","histogram-container svelte-kz2qh6"),V(()=>e[13].call(t))},m(p,v){E(p,t,v),k(t,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);k(n,r);for(let _=0;_<b.length;_+=1)b[_]&&b[_].m(n,null);k(n,i),k(i,l),k(n,s),d=Me(t,e[13].bind(t))},p(p,[v]){if(v&644){g=p[7].ticks();let _;for(_=0;_<g.length;_+=1){const M=zn(p,g,_);c[_]?c[_].p(M,v):(c[_]=An(M),c[_].c(),c[_].m(n,r))}for(;_<c.length;_+=1)c[_].d(1);c.length=g.length}if(v&488){m=p[3];let _;for(_=0;_<m.length;_+=1){const M=qn(p,m,_);b[_]?b[_].p(M,v):(b[_]=jn(M),b[_].c(),b[_].m(n,i))}for(;_<b.length;_+=1)b[_].d(1);b.length=m.length}v&16&&o!==(o=(p[4]+p[9].left)/2)&&u(i,"x",o),v&16&&a!==(a=p[4]-p[9].right)&&u(s,"x2",a),v&4&&f!==(f=p[2]-p[9].bottom)&&u(s,"y1",f),v&4&&h!==(h=p[2]-p[9].bottom)&&u(s,"y2",h),v&2&&u(n,"width",p[1]),v&1&&u(n,"height",p[0])},i:R,o:R,d(p){p&&x(t),J(c,p),J(b,p),d()}}}let Sn=100;function ul(e,t,n){let r,i,l,o,s,a,f,h,d;D(e,ne,_=>n(5,h=_)),D(e,U,_=>n(12,d=_));const g={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let c=300,m=300,b={top:15,bottom:10,left:25,right:5},p=Array.from({length:Sn},(_,M)=>M);it().range(["var(--yellow)","var(--red)","var(--green)"]);function v(){m=this.offsetWidth,c=this.offsetHeight,n(1,m),n(0,c)}return e.$$.update=()=>{e.$$.dirty&4128&&n(11,r=h==="all"?d:d.filter(_=>_.vote_status===h)),e.$$.dirty&2048&&n(10,i=tr(r)),e.$$.dirty&2&&n(4,l=m-b.left-b.right),e.$$.dirty&1&&n(2,o=c-b.top-b.bottom),e.$$.dirty&1024&&n(3,s=Jn().thresholds(p).value(_=>_.question)(i)),e.$$.dirty&16&&n(7,a=oe().domain([3,Sn]).range([b.left,l-b.right])),e.$$.dirty&12&&n(6,f=oe().domain([0,ke(s,_=>_.length)]).range([o-b.bottom,b.top])),e.$$.dirty&1024&&ke(i,_=>_.length)},[c,m,o,s,l,h,f,a,g,b,i,r,d,v]}class cl extends K{constructor(t){super(),X(this,t,ul,fl,B,{})}}function hl(e){let t,n,r,i,l,o,s,a,f,h,d,g,c,m=Math.round(e[5](e[3]))+"",b,p,v,_,M,$,N,A;return{c(){t=z("div"),n=z("div"),r=z("p"),r.textContent="Questions",i=H(),l=z("select"),o=z("option"),o.textContent="All",s=z("option"),s.textContent="Good",a=z("option"),a.textContent="Bad",f=z("option"),f.textContent="N/A",h=H(),d=z("div"),g=S("svg"),c=S("text"),b=P(m),M=H(),$=z("p"),$.textContent="number of responses",u(r,"class","card-text svelte-1pknxov"),o.__value="all",o.value=o.__value,u(o,"class","svelte-1pknxov"),s.__value="up",s.value=s.__value,u(s,"class","svelte-1pknxov"),a.__value="down",a.value=a.__value,u(a,"class","svelte-1pknxov"),f.__value="n/a",f.value=f.__value,u(f,"class","svelte-1pknxov"),u(l,"id","feedback-dropdown"),u(l,"name","feedback-dropdown"),se(l,"background",e[6][e[0]]),u(l,"class","svelte-1pknxov"),e[0]===void 0&&V(()=>e[9].call(l)),u(n,"class","svelte-1pknxov"),u(c,"dominant-baseline","middle"),u(c,"x",p=e[2]/2),u(c,"y",v=e[1]/2),u(c,"text-anchor","middle"),u(c,"class","svelte-1pknxov"),u(g,"width",e[2]),u(g,"height",e[1]),u(g,"class","svelte-1pknxov"),u(d,"class","svelte-1pknxov"),V(()=>e[10].call(d)),u($,"class","small svelte-1pknxov"),u(t,"class","card-container svelte-1pknxov"),se(t,"background",e[6][e[0]])},m(w,q){E(w,t,q),k(t,n),k(n,r),k(n,i),k(n,l),k(l,o),k(l,s),k(l,a),k(l,f),Je(l,e[0],!0),k(t,h),k(t,d),k(d,g),k(g,c),k(c,b),_=Me(d,e[10].bind(d)),k(t,M),k(t,$),N||(A=te(l,"change",e[9]),N=!0)},p(w,[q]){q&1&&se(l,"background",w[6][w[0]]),q&1&&Je(l,w[0]),q&8&&m!==(m=Math.round(w[5](w[3]))+"")&&W(b,m),q&4&&p!==(p=w[2]/2)&&u(c,"x",p),q&2&&v!==(v=w[1]/2)&&u(c,"y",v),q&4&&u(g,"width",w[2]),q&2&&u(g,"height",w[1]),q&1&&se(t,"background",w[6][w[0]])},i:R,o:R,d(w){w&&x(t),_(),N=!1,A()}}}function dl(e,t){return t==="all"?e.length:e.filter(r=>r.vote_status===t).length}function gl(e,t,n){let r,i,l,o;D(e,ne,m=>n(0,i=m)),D(e,U,m=>n(8,l=m));let s,a,f=$t(0);D(e,f,m=>n(3,o=m));const h=ce(".1f"),d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){i=In(this),ne.set(i)}function c(){a=this.clientWidth,s=this.clientHeight,n(2,a),n(1,s)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=dl(l,i)),e.$$.dirty&128&&console.log("fbc",r),e.$$.dirty&128&&f.set(r)},[i,s,a,o,f,h,d,r,l,g,c]}class pl extends K{constructor(t){super(),X(this,t,gl,hl,B,{})}}function ml(e){let t,n,r,i,l,o,s,a,f,h,d,g,c,m=e[5](e[3])+"",b,p,v,_,M,$,N,A;return{c(){t=z("div"),n=z("div"),r=z("p"),r.textContent="Questions",i=H(),l=z("select"),o=z("option"),o.textContent="All",s=z("option"),s.textContent="Good",a=z("option"),a.textContent="Bad",f=z("option"),f.textContent="N/A",h=H(),d=z("div"),g=S("svg"),c=S("text"),b=P(m),M=H(),$=z("p"),$.textContent="percentage of responses",u(r,"class","card-text svelte-mchgj2"),o.__value="all",o.value=o.__value,s.__value="up",s.value=s.__value,a.__value="down",a.value=a.__value,f.__value="n/a",f.value=f.__value,u(l,"id","feedback-dropdown"),u(l,"name","feedback-dropdown"),se(l,"background",e[6][e[0]]),u(l,"class","svelte-mchgj2"),e[0]===void 0&&V(()=>e[9].call(l)),u(c,"dominant-baseline","middle"),u(c,"x",p=e[2]/2),u(c,"y",v=e[1]/2),u(c,"text-anchor","middle"),u(c,"class","svelte-mchgj2"),u(g,"width",e[2]),u(g,"height",e[1]),u(g,"class","svelte-mchgj2"),V(()=>e[10].call(d)),u($,"class","small svelte-mchgj2"),u(t,"class","card-container svelte-mchgj2"),se(t,"background",e[6][e[0]])},m(w,q){E(w,t,q),k(t,n),k(n,r),k(n,i),k(n,l),k(l,o),k(l,s),k(l,a),k(l,f),Je(l,e[0],!0),k(t,h),k(t,d),k(d,g),k(g,c),k(c,b),_=Me(d,e[10].bind(d)),k(t,M),k(t,$),N||(A=te(l,"change",e[9]),N=!0)},p(w,[q]){q&1&&se(l,"background",w[6][w[0]]),q&1&&Je(l,w[0]),q&8&&m!==(m=w[5](w[3])+"")&&W(b,m),q&4&&p!==(p=w[2]/2)&&u(c,"x",p),q&2&&v!==(v=w[1]/2)&&u(c,"y",v),q&4&&u(g,"width",w[2]),q&2&&u(g,"height",w[1]),q&1&&se(t,"background",w[6][w[0]])},i:R,o:R,d(w){w&&x(t),_(),N=!1,A()}}}function _l(e,t){const n=e.length;return t==="all"?1:e.filter(i=>i.vote_status===t).length/n}function bl(e,t,n){let r,i,l,o;D(e,ne,m=>n(0,i=m)),D(e,U,m=>n(8,l=m));let s,a,f=$t(0);D(e,f,m=>n(3,o=m));const h=ce(".1%"),d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){i=In(this),ne.set(i)}function c(){a=this.clientWidth,s=this.clientHeight,n(2,a),n(1,s)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=_l(l,i)),e.$$.dirty&128&&f.set(r)},[i,s,a,o,f,h,d,r,l,g,c]}class vl extends K{constructor(t){super(),X(this,t,bl,ml,B,{})}}function yl(e){let t,n,r,i,l,o,s,a,f,h,d,g,c,m,b,p,v,_,M,$,N,A,w,q,y,j,C;return l=new pl({}),a=new vl({}),d=new Ui({}),m=new ll({props:{feedback:"Bad"}}),v=new cl({}),$=new al({}),j=new nl({}),{c(){t=z("div"),n=z("div"),r=z("div"),i=z("div"),Y(l.$$.fragment),o=H(),s=z("div"),Y(a.$$.fragment),f=H(),h=z("div"),Y(d.$$.fragment),g=H(),c=z("div"),Y(m.$$.fragment),b=H(),p=z("div"),Y(v.$$.fragment),_=H(),M=z("div"),Y($.$$.fragment),N=H(),A=z("div"),w=z("div"),w.innerHTML=`<div class="right-chart-1 svelte-1jln0g6"></div> 
      <div class="right-chart-2 svelte-1jln0g6"></div>`,q=H(),y=z("div"),Y(j.$$.fragment),u(i,"class","card-1 svelte-1jln0g6"),u(s,"class","card-2"),u(r,"class","left-text svelte-1jln0g6"),u(h,"class","left-confidence svelte-1jln0g6"),u(c,"class","left-question svelte-1jln0g6"),u(p,"class","left-filter svelte-1jln0g6"),u(M,"class","left-filter2"),u(n,"class","feedback-left svelte-1jln0g6"),u(w,"class","right-chart svelte-1jln0g6"),u(y,"class","right-table svelte-1jln0g6"),u(A,"class","feedback-right svelte-1jln0g6"),u(t,"class","feedback-container svelte-1jln0g6")},m(F,T){E(F,t,T),k(t,n),k(n,r),k(r,i),Q(l,i,null),k(r,o),k(r,s),Q(a,s,null),k(n,f),k(n,h),Q(d,h,null),k(n,g),k(n,c),Q(m,c,null),k(n,b),k(n,p),Q(v,p,null),k(n,_),k(n,M),Q($,M,null),k(t,N),k(t,A),k(A,w),k(A,q),k(A,y),Q(j,y,null),C=!0},p:R,i(F){C||(O(l.$$.fragment,F),O(a.$$.fragment,F),O(d.$$.fragment,F),O(m.$$.fragment,F),O(v.$$.fragment,F),O($.$$.fragment,F),O(j.$$.fragment,F),C=!0)},o(F){L(l.$$.fragment,F),L(a.$$.fragment,F),L(d.$$.fragment,F),L(m.$$.fragment,F),L(v.$$.fragment,F),L($.$$.fragment,F),L(j.$$.fragment,F),C=!1},d(F){F&&x(t),G(l),G(a),G(d),G(m),G(v),G($),G(j)}}}function wl(e,t,n){let r;D(e,U,l=>n(0,r=l)),yt(()=>{i()});async function i(){console.log("fetching data from db");const a=(await(await fetch("http://127.0.0.1:5000/chat/qa_table/retrieve")).json()).rows.map(f=>({id:f[0],question:f[1],answer:f[2],vote_status:f[3]}));ye(U,r=[...a],r)}return[]}class kl extends K{constructor(t){super(),X(this,t,wl,yl,B,{})}}function xn(e,t,n){const r=e.slice();return r[2]=t[n],r}function Cn(e){let t,n;const r=[e[2].props];let i={};for(let l=0;l<r.length;l+=1)i=je(i,r[l]);return t=new kl({props:i}),{c(){Y(t.$$.fragment)},m(l,o){Q(t,l,o),n=!0},p(l,o){const s=o&1?wt(r,[kt(l[2].props)]):{};t.$set(s)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){G(t,l)}}}function En(e){let t,n;const r=[e[2].props];let i={};for(let l=0;l<r.length;l+=1)i=je(i,r[l]);return t=new Ar({props:i}),{c(){Y(t.$$.fragment)},m(l,o){Q(t,l,o),n=!0},p(l,o){const s=o&1?wt(r,[kt(l[2].props)]):{};t.$set(s)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){G(t,l)}}}function Hn(e){let t,n;const r=[e[2].props];let i={};for(let l=0;l<r.length;l+=1)i=je(i,r[l]);return t=new xr({props:i}),{c(){Y(t.$$.fragment)},m(l,o){Q(t,l,o),n=!0},p(l,o){const s=o&1?wt(r,[kt(l[2].props)]):{};t.$set(s)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){G(t,l)}}}function Rn(e){let t,n,r,i,l=e[2].svelte_component==="Feedback"&&Cn(e),o=e[2].svelte_component==="Chatbot"&&En(e),s=e[2].svelte_component==="Dropdown"&&Hn(e);return{c(){l&&l.c(),t=H(),o&&o.c(),n=H(),s&&s.c(),r=Se()},m(a,f){l&&l.m(a,f),E(a,t,f),o&&o.m(a,f),E(a,n,f),s&&s.m(a,f),E(a,r,f),i=!0},p(a,f){a[2].svelte_component==="Feedback"?l?(l.p(a,f),f&1&&O(l,1)):(l=Cn(a),l.c(),O(l,1),l.m(t.parentNode,t)):l&&(ze(),L(l,1,1,()=>{l=null}),Ae()),a[2].svelte_component==="Chatbot"?o?(o.p(a,f),f&1&&O(o,1)):(o=En(a),o.c(),O(o,1),o.m(n.parentNode,n)):o&&(ze(),L(o,1,1,()=>{o=null}),Ae()),a[2].svelte_component==="Dropdown"?s?(s.p(a,f),f&1&&O(s,1)):(s=Hn(a),s.c(),O(s,1),s.m(r.parentNode,r)):s&&(ze(),L(s,1,1,()=>{s=null}),Ae())},i(a){i||(O(l),O(o),O(s),i=!0)},o(a){L(l),L(o),L(s),i=!1},d(a){l&&l.d(a),a&&x(t),o&&o.d(a),a&&x(n),s&&s.d(a),a&&x(r)}}}function $l(e){let t,n,r,i=e[0],l=[];for(let s=0;s<i.length;s+=1)l[s]=Rn(xn(e,i,s));const o=s=>L(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=H(),n=z("p"),n.textContent="Made with CambioML",u(n,"class","footer-logo svelte-bw62g5")},m(s,a){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,a);E(s,t,a),E(s,n,a),r=!0},p(s,[a]){if(a&1){i=s[0];let f;for(f=0;f<i.length;f+=1){const h=xn(s,i,f);l[f]?(l[f].p(h,a),O(l[f],1)):(l[f]=Rn(h),l[f].c(),O(l[f],1),l[f].m(t.parentNode,t))}for(ze(),f=i.length;f<l.length;f+=1)o(f);Ae()}},i(s){if(!r){for(let a=0;a<i.length;a+=1)O(l[a]);r=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)L(l[a]);r=!1},d(s){J(l,s),s&&x(t),s&&x(n)}}}function Ml(e,t,n){let r;const i=Oe([]);return D(e,i,l=>n(0,r=l)),fetch("/components").then(l=>l.json()).then(l=>{i.set(l)}),[r,i]}class Nl extends K{constructor(t){super(),X(this,t,Ml,$l,B,{})}}new Nl({target:document.getElementById("app")});
