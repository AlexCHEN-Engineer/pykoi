(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function V(){}const ji=e=>e;function Hn(e,t){for(const n in t)e[n]=t[n];return e}function ai(e){return e()}function Gn(){return Object.create(null)}function Ce(e){e.forEach(ai)}function en(e){return typeof e=="function"}function Ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Li(e){return Object.keys(e).length===0}function Hi(e,...t){if(e==null)return V;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function si(e,t,n){e.$$.on_destroy.push(Hi(t,n))}function Gi(e,t,n){return e.set(n),t}function zi(e){return e&&en(e.destroy)?e.destroy:V}const ui=typeof window<"u";let Bi=ui?()=>window.performance.now():()=>Date.now(),fi=ui?e=>requestAnimationFrame(e):V;const et=new Set;function ci(e){et.forEach(t=>{t.c(e)||(et.delete(t),t.f())}),et.size!==0&&fi(ci)}function Xi(e){let t;return et.size===0&&fi(ci),{promise:new Promise(n=>{et.add(t={c:e,f:n})}),abort(){et.delete(t)}}}function y(e,t){e.appendChild(t)}function H(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function he(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function F(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function B(e){return document.createTextNode(e)}function W(){return B(" ")}function ye(){return B("")}function re(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Yi(e){return Array.from(e.childNodes)}function ke(e,t){t=""+t,e.data!==t&&(e.data=t)}function zn(e,t){e.value=t??""}function Se(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Mt;function Wi(){if(Mt===void 0){Mt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Mt=!0}}return Mt}function An(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=N("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Wi();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=re(window,"message",l=>{l.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=re(r.contentWindow,"resize",t),t()}),y(e,r),()=>{(i||o&&r.contentWindow)&&o(),j(r)}}function Bn(e,t,n){e.classList[n?"add":"remove"](t)}let gt;function ft(e){gt=e}function Ui(){if(!gt)throw new Error("Function called outside component initialization");return gt}function Vi(e){Ui().$$.on_mount.push(e)}const Ue=[],vn=[];let tt=[];const Xn=[],Zi=Promise.resolve();let bn=!1;function Ki(){bn||(bn=!0,Zi.then(di))}function it(e){tt.push(e)}const on=new Set;let ze=0;function di(){if(ze!==0)return;const e=gt;do{try{for(;ze<Ue.length;){const t=Ue[ze];ze++,ft(t),Ji(t.$$)}}catch(t){throw Ue.length=0,ze=0,t}for(ft(null),Ue.length=0,ze=0;vn.length;)vn.pop()();for(let t=0;t<tt.length;t+=1){const n=tt[t];on.has(n)||(on.add(n),n())}tt.length=0}while(Ue.length);for(;Xn.length;)Xn.pop()();bn=!1,on.clear(),ft(e)}function Ji(e){if(e.fragment!==null){e.update(),Ce(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(it)}}function eo(e){const t=[],n=[];tt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),tt=t}const Ot=new Set;let to;function Ie(e,t){e&&e.i&&(Ot.delete(e),e.i(t))}function Ze(e,t,n,r){if(e&&e.o){if(Ot.has(e))return;Ot.add(e),to.c.push(()=>{Ot.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function _t(e,t){e.d(1),t.delete(e.key)}function vt(e,t,n,r,i,o,l,a,s,u,m,f){let d=e.length,p=o.length,h=d;const _={};for(;h--;)_[e[h].key]=h;const v=[],x=new Map,$=new Map,w=[];for(h=p;h--;){const D=f(i,o,h),S=n(D);let b=l.get(S);b?r&&w.push(()=>b.p(D,t)):(b=u(S,D),b.c()),x.set(S,v[h]=b),S in _&&$.set(S,Math.abs(h-_[S]))}const E=new Set,g=new Set;function k(D){Ie(D,1),D.m(a,m),l.set(D.key,D),m=D.first,p--}for(;d&&p;){const D=v[p-1],S=e[d-1],b=D.key,C=S.key;D===S?(m=D.first,d--,p--):x.has(C)?!l.has(b)||E.has(b)?k(D):g.has(C)?d--:$.get(b)>$.get(C)?(g.add(b),k(D)):(E.add(C),d--):(s(S,l),d--)}for(;d--;){const D=e[d];x.has(D.key)||s(D,l)}for(;p;)k(v[p-1]);return Ce(w),v}function Ke(e){e&&e.c()}function Qe(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||it(()=>{const l=e.$$.on_mount.map(ai).filter(en);e.$$.on_destroy?e.$$.on_destroy.push(...l):Ce(l),e.$$.on_mount=[]}),o.forEach(it)}function Re(e,t){const n=e.$$;n.fragment!==null&&(eo(n.after_update),Ce(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function no(e,t){e.$$.dirty[0]===-1&&(Ue.push(e),Ki(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Le(e,t,n,r,i,o,l,a=[-1]){const s=gt;ft(e);const u=e.$$={fragment:null,ctx:[],props:o,update:V,not_equal:i,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Gn(),dirty:a,skip_bound:!1,root:t.target||s.$$.root};l&&l(u.root);let m=!1;if(u.ctx=n?n(e,t.props||{},(f,d,...p)=>{const h=p.length?p[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),m&&no(e,f)),d}):[],u.update(),m=!0,Ce(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const f=Yi(t.target);u.fragment&&u.fragment.l(f),f.forEach(j)}else u.fragment&&u.fragment.c();t.intro&&Ie(e.$$.fragment),Qe(e,t.target,t.anchor,t.customElement),di()}ft(s)}class He{$destroy(){Re(this,1),this.$destroy=V}$on(t,n){if(!en(n))return V;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Li(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Be=[];function Ht(e,t=V){let n;const r=new Set;function i(a){if(Ae(e,a)&&(e=a,n)){const s=!Be.length;for(const u of r)u[1](),Be.push(u,e);if(s){for(let u=0;u<Be.length;u+=2)Be[u][0](Be[u+1]);Be.length=0}}}function o(a){i(a(e))}function l(a,s=V){const u=[a,s];return r.add(u),r.size===1&&(n=t(i)||V),a(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}function Yn(e){return Object.prototype.toString.call(e)==="[object Date]"}function wn(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,o)=>wn(e[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Yn(e)&&Yn(t)){e=e.getTime(),t=t.getTime();const o=t-e;return l=>new Date(e+l*o)}const r=Object.keys(t),i={};return r.forEach(o=>{i[o]=wn(e[o],t[o])}),o=>{const l={};return r.forEach(a=>{l[a]=i[a](o)}),l}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function ro(e,t={}){const n=Ht(e);let r,i=e;function o(l,a){if(e==null)return n.set(e=l),Promise.resolve();i=l;let s=r,u=!1,{delay:m=0,duration:f=400,easing:d=ji,interpolate:p=wn}=Hn(Hn({},t),a);if(f===0)return s&&(s.abort(),s=null),n.set(e=i),Promise.resolve();const h=Bi()+m;let _;return r=Xi(v=>{if(v<h)return!0;u||(_=p(e,l),typeof f=="function"&&(f=f(e,l)),u=!0),s&&(s.abort(),s=null);const x=v-h;return x>f?(n.set(e=l),!1):(n.set(e=_(d(x/f))),!0)}),r.promise}return{set:o,update:(l,a)=>o(l(i,e),a),subscribe:n.subscribe}}const ln=Ht([]),io=["Who","What","How","Why","Where","Does","Can","N/A"];ro(io.map(e=>({question:e,count:0})));function qt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hi(e){let t,n,r;e.length!==2?(t=qt,n=(a,s)=>qt(e(a),s),r=(a,s)=>e(a)-s):(t=e===qt||e===oo?e:lo,n=e,r=e);function i(a,s,u=0,m=a.length){if(u<m){if(t(s,s)!==0)return m;do{const f=u+m>>>1;n(a[f],s)<0?u=f+1:m=f}while(u<m)}return u}function o(a,s,u=0,m=a.length){if(u<m){if(t(s,s)!==0)return m;do{const f=u+m>>>1;n(a[f],s)<=0?u=f+1:m=f}while(u<m)}return u}function l(a,s,u=0,m=a.length){const f=i(a,s,u,m-1);return f>u&&r(a[f-1],s)>-r(a[f],s)?f-1:f}return{left:i,center:l,right:o}}function lo(){return 0}function ao(e){return e===null?NaN:+e}const so=hi(qt),uo=so.right;hi(ao).center;const fo=uo;function co(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let l of e)l!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,o+=r*(l-i));else{let l=-1;for(let a of e)(a=t(a,++l,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function ho(e,t){const n=co(e,t);return n&&Math.sqrt(n)}class Wn extends Map{constructor(t,n=go){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Un(this,t))}has(t){return super.has(Un(this,t))}set(t,n){return super.set(mo(this,t),n)}delete(t){return super.delete(po(this,t))}}function Un({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function po({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function go(e){return e!==null&&typeof e=="object"?e.valueOf():e}const _o=Math.sqrt(50),vo=Math.sqrt(10),bo=Math.sqrt(2);function Gt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=_o?10:o>=vo?5:o>=bo?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(e*u),s=Math.round(t*u),a/u<e&&++a,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(e/u),s=Math.round(t/u),a*u<e&&++a,s*u>t&&--s),s<a&&.5<=n&&n<2?Gt(e,t,n*2):[a,s,u]}function wo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Gt(t,e,n):Gt(e,t,n);if(!(o>=i))return[];const a=o-i+1,s=new Array(a);if(r)if(l<0)for(let u=0;u<a;++u)s[u]=(o-u)/-l;else for(let u=0;u<a;++u)s[u]=(o-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function yn(e,t,n){return t=+t,e=+e,n=+n,Gt(e,t,n)[2]}function yo(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yn(t,e,n):yn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mi(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ko(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Eo(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Do(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function So(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ot(e){return e=zt(Math.abs(e)),e?e[1]:NaN}function $o(e,t){return function(n,r){for(var i=n.length,o=[],l=0,a=e[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(n.substring(i-=a,i+a)),!((s+=a+1)>r));)a=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Mo(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Io=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bt(e){if(!(t=Io.exec(e)))throw new Error("invalid format: "+e);var t;return new Nn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bt.prototype=Nn.prototype;function Nn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function To(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var pi;function xo(e,t){var n=zt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(pi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zt(e,Math.max(0,t+o-1))[0]}function Vn(e,t){var n=zt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Zn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:So,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vn(e*100,t),r:Vn,s:xo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kn(e){return e}var Jn=Array.prototype.map,er=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Co(e){var t=e.grouping===void 0||e.thousands===void 0?Kn:$o(Jn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Kn:Mo(Jn.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Bt(f);var d=f.fill,p=f.align,h=f.sign,_=f.symbol,v=f.zero,x=f.width,$=f.comma,w=f.precision,E=f.trim,g=f.type;g==="n"?($=!0,g="g"):Zn[g]||(w===void 0&&(w=12),E=!0,g="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var k=_==="$"?n:_==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",D=_==="$"?r:/[%p]/.test(g)?l:"",S=Zn[g],b=/[defgprs%]/.test(g);w=w===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(T){var R=k,z=D,J,se,te;if(g==="c")z=S(T)+z,T="";else{T=+T;var I=T<0||1/T<0;if(T=isNaN(T)?s:S(Math.abs(T),w),E&&(T=To(T)),I&&+T==0&&h!=="+"&&(I=!1),R=(I?h==="("?h:a:h==="-"||h==="("?"":h)+R,z=(g==="s"?er[8+pi/3]:"")+z+(I&&h==="("?")":""),b){for(J=-1,se=T.length;++J<se;)if(te=T.charCodeAt(J),48>te||te>57){z=(te===46?i+T.slice(J+1):T.slice(J))+z,T=T.slice(0,J);break}}}$&&!v&&(T=t(T,1/0));var q=R.length+T.length+z.length,A=q<x?new Array(x-q+1).join(d):"";switch($&&v&&(T=t(A+T,A.length?x-z.length:1/0),A=""),p){case"<":T=R+T+z+A;break;case"=":T=R+A+T+z;break;case"^":T=A.slice(0,q=A.length>>1)+R+T+z+A.slice(q);break;default:T=A+R+T+z;break}return o(T)}return C.toString=function(){return f+""},C}function m(f,d){var p=u((f=Bt(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(ot(d)/3)))*3,_=Math.pow(10,-h),v=er[8+h/3];return function(x){return p(_*x)+v}}return{format:u,formatPrefix:m}}var It,tn,gi;Ao({thousands:",",grouping:[3],currency:["$",""]});function Ao(e){return It=Co(e),tn=It.format,gi=It.formatPrefix,It}function No(e){return Math.max(0,-ot(Math.abs(e)))}function Po(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ot(t)/3)))*3-ot(Math.abs(e)))}function Oo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ot(t)-ot(e))+1}function Pn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tr=Symbol("implicit");function Et(){var e=new Wn,t=[],n=[],r=tr;function i(o){let l=e.get(o);if(l===void 0){if(r!==tr)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Wn;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Et(t,n).unknown(r)},Pn.apply(i,arguments),i}function bt(){var e=Et().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,a=!1,s=0,u=0,m=.5;delete e.unknown;function f(){var d=t().length,p=i<r,h=p?i:r,_=p?r:i;o=(_-h)/Math.max(1,d-s+u*2),a&&(o=Math.floor(o)),h+=(_-h-o*(d-s))*m,l=o*(1-s),a&&(h=Math.round(h),l=Math.round(l));var v=Do(d).map(function(x){return h+o*x});return n(p?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(s=Math.min(1,u=+d),f()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),f()):s},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(m=Math.max(0,Math.min(1,d)),f()):m},e.copy=function(){return bt(t(),[r,i]).round(a).paddingInner(s).paddingOuter(u).align(m)},Pn.apply(f(),arguments)}function _i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _i(t())},e}function nr(){return _i(bt.apply(null,arguments).paddingInner(1))}function On(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dt(){}var wt=.7,Xt=1/wt,nt="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qo=/^#([0-9a-f]{3,8})$/,Ro=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Fo=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),jo=new RegExp(`^rgba\\(${nt},${nt},${nt},${yt}\\)$`),Lo=new RegExp(`^rgba\\(${_e},${_e},${_e},${yt}\\)$`),Ho=new RegExp(`^hsl\\(${yt},${_e},${_e}\\)$`),Go=new RegExp(`^hsla\\(${yt},${_e},${_e},${yt}\\)$`),rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};On(Dt,kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ir,formatHex:ir,formatHex8:zo,formatHsl:Bo,formatRgb:or,toString:or});function ir(){return this.rgb().formatHex()}function zo(){return this.rgb().formatHex8()}function Bo(){return bi(this).formatHsl()}function or(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Qo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lr(t):n===3?new ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Tt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Tt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ro.exec(e))?new ae(t[1],t[2],t[3],1):(t=Fo.exec(e))?new ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jo.exec(e))?Tt(t[1],t[2],t[3],t[4]):(t=Lo.exec(e))?Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ho.exec(e))?ur(t[1],t[2]/100,t[3]/100,1):(t=Go.exec(e))?ur(t[1],t[2]/100,t[3]/100,t[4]):rr.hasOwnProperty(e)?lr(rr[e]):e==="transparent"?new ae(NaN,NaN,NaN,0):null}function lr(e){return new ae(e>>16&255,e>>8&255,e&255,1)}function Tt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ae(e,t,n,r)}function Xo(e){return e instanceof Dt||(e=kt(e)),e?(e=e.rgb(),new ae(e.r,e.g,e.b,e.opacity)):new ae}function kn(e,t,n,r){return arguments.length===1?Xo(e):new ae(e,t,n,r??1)}function ae(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}On(ae,kn,vi(Dt,{brighter(e){return e=e==null?Xt:Math.pow(Xt,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wt:Math.pow(wt,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ae(je(this.r),je(this.g),je(this.b),Yt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ar,formatHex:ar,formatHex8:Yo,formatRgb:sr,toString:sr}));function ar(){return`#${Fe(this.r)}${Fe(this.g)}${Fe(this.b)}`}function Yo(){return`#${Fe(this.r)}${Fe(this.g)}${Fe(this.b)}${Fe((isNaN(this.opacity)?1:this.opacity)*255)}`}function sr(){const e=Yt(this.opacity);return`${e===1?"rgb(":"rgba("}${je(this.r)}, ${je(this.g)}, ${je(this.b)}${e===1?")":`, ${e})`}`}function Yt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fe(e){return e=je(e),(e<16?"0":"")+e.toString(16)}function ur(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pe(e,t,n,r)}function bi(e){if(e instanceof pe)return new pe(e.h,e.s,e.l,e.opacity);if(e instanceof Dt||(e=kt(e)),!e)return new pe;if(e instanceof pe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,a=o-i,s=(o+i)/2;return a?(t===o?l=(n-r)/a+(n<r)*6:n===o?l=(r-t)/a+2:l=(t-n)/a+4,a/=s<.5?o+i:2-o-i,l*=60):a=s>0&&s<1?0:l,new pe(l,a,s,e.opacity)}function Wo(e,t,n,r){return arguments.length===1?bi(e):new pe(e,t,n,r??1)}function pe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}On(pe,Wo,vi(Dt,{brighter(e){return e=e==null?Xt:Math.pow(Xt,e),new pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wt:Math.pow(wt,e),new pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ae(an(e>=240?e-240:e+120,i,r),an(e,i,r),an(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pe(fr(this.h),xt(this.s),xt(this.l),Yt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yt(this.opacity);return`${e===1?"hsl(":"hsla("}${fr(this.h)}, ${xt(this.s)*100}%, ${xt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fr(e){return e=(e||0)%360,e<0?e+360:e}function xt(e){return Math.max(0,Math.min(1,e||0))}function an(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qn=e=>()=>e;function Uo(e,t){return function(n){return e+n*t}}function Vo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zo(e){return(e=+e)==1?wi:function(t,n){return n-t?Vo(t,n,e):qn(isNaN(t)?n:t)}}function wi(e,t){var n=t-e;return n?Uo(e,n):qn(isNaN(e)?t:e)}const En=function e(t){var n=Zo(t);function r(i,o){var l=n((i=kn(i)).r,(o=kn(o)).r),a=n(i.g,o.g),s=n(i.b,o.b),u=wi(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=a(m),i.b=s(m),i.opacity=u(m),i+""}}return r.gamma=e,r}(1);function Ko(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Jo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function el(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=nn(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(a){for(l=0;l<r;++l)o[l]=i[l](a);return o}}function tl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function nl(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(Dn.source,"g");function rl(e){return function(){return e}}function il(e){return function(t){return e(t)+""}}function ol(e,t){var n=Dn.lastIndex=sn.lastIndex=0,r,i,o,l=-1,a=[],s=[];for(e=e+"",t=t+"";(r=Dn.exec(e))&&(i=sn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[l]?a[l]+=o:a[++l]=o),(r=r[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Wt(r,i)})),n=sn.lastIndex;return n<t.length&&(o=t.slice(n),a[l]?a[l]+=o:a[++l]=o),a.length<2?s[0]?il(s[0].x):rl(t):(t=s.length,function(u){for(var m=0,f;m<t;++m)a[(f=s[m]).i]=f.x(u);return a.join("")})}function nn(e,t){var n=typeof t,r;return t==null||n==="boolean"?qn(t):(n==="number"?Wt:n==="string"?(r=kt(t))?(t=r,En):ol:t instanceof kt?En:t instanceof Date?tl:Jo(t)?Ko:Array.isArray(t)?el:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nl:Wt)(e,t)}function yi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ll(e){return function(){return e}}function al(e){return+e}var cr=[0,1];function Te(e){return e}function Sn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ll(isNaN(t)?NaN:.5)}function sl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ul(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Sn(i,r),o=n(l,o)):(r=Sn(r,i),o=n(o,l)),function(a){return o(r(a))}}function fl(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Sn(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(a){var s=fo(e,a,1,r)-1;return o[s](i[s](a))}}function cl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dl(){var e=cr,t=cr,n=nn,r,i,o,l=Te,a,s,u;function m(){var d=Math.min(e.length,t.length);return l!==Te&&(l=sl(e[0],e[d-1])),a=d>2?fl:ul,s=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(s||(s=a(e.map(r),t,n)))(r(l(d)))}return f.invert=function(d){return l(i((u||(u=a(t,e.map(r),Wt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,al),m()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),m()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=yi,m()},f.clamp=function(d){return arguments.length?(l=d?!0:Te,m()):l!==Te},f.interpolate=function(d){return arguments.length?(n=d,m()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,m()}}function hl(){return dl()(Te,Te)}function ml(e,t,n,r){var i=yo(e,t,n),o;switch(r=Bt(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Po(i,l))&&(r.precision=o),gi(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Oo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=No(i))&&(r.precision=o-(r.type==="%")*2);break}}return tn(r)}function ki(e){var t=e.domain;return e.ticks=function(n){var r=t();return wo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ml(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],a=r[o],s,u,m=10;for(a<l&&(u=l,l=a,a=u,u=i,i=o,o=u);m-- >0;){if(u=yn(l,a,n),u===s)return r[i]=l,r[o]=a,t(r);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return e},e}function Qn(){var e=hl();return e.copy=function(){return cl(e,Qn())},Pn.apply(e,arguments),ki(e)}function pl(){var e=0,t=1,n,r,i,o,l=Te,a=!1,s;function u(f){return f==null||isNaN(f=+f)?s:l(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(l=f,u):l};function m(f){return function(d){var p,h;return arguments.length?([p,h]=d,l=f(p,h),u):[l(0),l(1)]}}return u.range=m(nn),u.rangeRound=m(yi),u.unknown=function(f){return arguments.length?(s=f,u):s},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ei(){var e=ki(pl()(Te));return e.copy=function(){return gl(e,Ei())},qo.apply(e,arguments)}function Xe(e){return function(){return e}}const $n=Math.PI,Mn=2*$n,Oe=1e-6,_l=Mn-Oe;function Di(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vl(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Di;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class bl{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Di:vl(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,a=this._y1,s=r-t,u=i-n,m=l-t,f=a-n,d=m*m+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Oe)if(!(Math.abs(f*s-u*m)>Oe)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-l,h=i-a,_=s*s+u*u,v=p*p+h*h,x=Math.sqrt(_),$=Math.sqrt(d),w=o*Math.tan(($n-Math.acos((_+d-v)/(2*x*$)))/2),E=w/$,g=w/x;Math.abs(E-1)>Oe&&this._append`L${t+E*m},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*p>m*h)},${this._x1=t+g*s},${this._y1=n+g*u}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),s=r*Math.sin(i),u=t+a,m=n+s,f=1^l,d=l?i-o:o-i;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>Oe||Math.abs(this._y1-m)>Oe)&&this._append`L${u},${m}`,r&&(d<0&&(d=d%Mn+Mn),d>_l?this._append`A${r},${r},0,1,${f},${t-a},${n-s}A${r},${r},0,1,${f},${this._x1=u},${this._y1=m}`:d>Oe&&this._append`A${r},${r},0,${+(d>=$n)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wl(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new bl(t)}function yl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Si(e){this._context=e}Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kl(e){return new Si(e)}function El(e){return e[0]}function Dl(e){return e[1]}function Sl(e,t){var n=Xe(!0),r=null,i=kl,o=null,l=wl(a);e=typeof e=="function"?e:e===void 0?El:Xe(e),t=typeof t=="function"?t:t===void 0?Dl:Xe(t);function a(s){var u,m=(s=yl(s)).length,f,d=!1,p;for(r==null&&(o=i(p=l())),u=0;u<=m;++u)!(u<m&&n(f=s[u],u,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,s),+t(f,u,s));if(p)return o=null,p+""||null}return a.x=function(s){return arguments.length?(e=typeof s=="function"?s:Xe(+s),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Xe(+s),a):t},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Xe(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(n),!0).forEach(function(r){$l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qt=function(t){return typeof t}:Qt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}function $l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Ml(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Il(e,t){if(e==null)return{};var n=Ml(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Tl="1.15.0";function we(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var De=we(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),St=we(/Edge/i),hr=we(/firefox/i),ct=we(/safari/i)&&!we(/chrome/i)&&!we(/android/i),$i=we(/iP(ad|od|hone)/i),Mi=we(/chrome/i)&&we(/android/i),Ii={capture:!1,passive:!1};function G(e,t,n){e.addEventListener(t,n,!De&&Ii)}function L(e,t,n){e.removeEventListener(t,n,!De&&Ii)}function Ut(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function xl(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ut(e,t):Ut(e,t))||r&&e===n)return e;if(e===n)break}while(e=xl(e))}return null}var mr=/\s+/g;function ue(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(mr," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(mr," ")}}function O(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function rt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=O(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Ti(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function ve(){var e=document.scrollingElement;return e||document.documentElement}function K(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,l,a,s,u,m,f;if(e!==window&&e.parentNode&&e!==ve()?(o=e.getBoundingClientRect(),l=o.top,a=o.left,s=o.bottom,u=o.right,m=o.height,f=o.width):(l=0,a=0,s=window.innerHeight,u=window.innerWidth,m=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!De))do if(i&&i.getBoundingClientRect&&(O(i,"transform")!=="none"||n&&O(i,"position")!=="static")){var d=i.getBoundingClientRect();l-=d.top+parseInt(O(i,"border-top-width")),a-=d.left+parseInt(O(i,"border-left-width")),s=l+o.height,u=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var p=rt(i||e),h=p&&p.a,_=p&&p.d;p&&(l/=_,a/=h,f/=h,m/=_,s=l+m,u=a+f)}return{top:l,left:a,bottom:s,right:u,width:f,height:m}}}function pr(e,t,n){for(var r=xe(e,!0),i=K(e)[t];r;){var o=K(r)[n],l=void 0;if(n==="top"||n==="left"?l=i>=o:l=i<=o,!l)return r;if(r===ve())break;r=xe(r,!1)}return!1}function lt(e,t,n,r){for(var i=0,o=0,l=e.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==P.ghost&&(r||l[o]!==P.dragged)&&ge(l[o],n.draggable,e,!1)){if(i===t)return l[o];i++}o++}return null}function Rn(e,t){for(var n=e.lastElementChild;n&&(n===P.ghost||O(n,"display")==="none"||t&&!Ut(n,t));)n=n.previousElementSibling;return n||null}function de(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==P.clone&&(!t||Ut(e,t))&&n++;return n}function gr(e){var t=0,n=0,r=ve();if(e)do{var i=rt(e),o=i.a,l=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function Cl(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function xe(e,t){if(!e||!e.getBoundingClientRect)return ve();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=O(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ve();if(r||t)return n;r=!0}}while(n=n.parentNode);return ve()}function Al(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function un(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var dt;function xi(e,t){return function(){if(!dt){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),dt=setTimeout(function(){dt=void 0},t)}}}function Nl(){clearTimeout(dt),dt=void 0}function Ci(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Ai(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ce="Sortable"+new Date().getTime();function Pl(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(O(i,"display")==="none"||i===P.ghost)){e.push({target:i,rect:K(i)});var o=be({},e[e.length-1].rect);if(i.thisAnimationDuration){var l=rt(i,!0);l&&(o.top-=l.f,o.left-=l.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Cl(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,l=0;e.forEach(function(a){var s=0,u=a.target,m=u.fromRect,f=K(u),d=u.prevFromRect,p=u.prevToRect,h=a.rect,_=rt(u,!0);_&&(f.top-=_.f,f.left-=_.e),u.toRect=f,u.thisAnimationDuration&&un(d,f)&&!un(m,f)&&(h.top-f.top)/(h.left-f.left)===(m.top-f.top)/(m.left-f.left)&&(s=ql(h,d,p,i.options)),un(f,m)||(u.prevFromRect=m,u.prevToRect=f,s||(s=i.options.animation),i.animate(u,h,f,s)),s&&(o=!0,l=Math.max(l,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,l){if(l){O(r,"transition",""),O(r,"transform","");var a=rt(this.el),s=a&&a.a,u=a&&a.d,m=(i.left-o.left)/(s||1),f=(i.top-o.top)/(u||1);r.animatingX=!!m,r.animatingY=!!f,O(r,"transform","translate3d("+m+"px,"+f+"px,0)"),this.forRepaintDummy=Ol(r),O(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),O(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){O(r,"transition",""),O(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function Ol(e){return e.offsetWidth}function ql(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ye=[],fn={initializeByDefault:!0},$t={mount:function(t){for(var n in fn)fn.hasOwnProperty(n)&&!(n in t)&&(t[n]=fn[n]);Ye.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ye.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Ye.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][o]&&n[l.pluginName][o](be({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](be({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Ye.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,Ee(r,u.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var l=this.modifyOption(t,o,t.options[o]);typeof l<"u"&&(t.options[o]=l)}},getEventProperties:function(t,n){var r={};return Ye.forEach(function(i){typeof i.eventProperties=="function"&&Ee(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Ye.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function Ql(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,l=e.toEl,a=e.fromEl,s=e.oldIndex,u=e.newIndex,m=e.oldDraggableIndex,f=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[ce],!!t){var _,v=t.options,x="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!De&&!St?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=l||n,_.from=a||n,_.item=i||n,_.clone=o,_.oldIndex=s,_.newIndex=u,_.oldDraggableIndex=m,_.newDraggableIndex=f,_.originalEvent=d,_.pullMode=p?p.lastPutMode:void 0;var $=be(be({},h),$t.getEventProperties(r,t));for(var w in $)_[w]=$[w];n&&n.dispatchEvent(_),v[x]&&v[x].call(t,_)}}var Rl=["evt"],oe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=Il(r,Rl);$t.pluginEvent.bind(P)(t,n,be({dragEl:M,parentEl:U,ghostEl:Q,rootEl:X,nextEl:qe,lastDownEl:Rt,cloneEl:Y,cloneHidden:Me,dragStarted:at,putSortable:ee,activeSortable:P.active,originalEvent:i,oldIndex:Je,oldDraggableIndex:ht,newIndex:fe,newDraggableIndex:$e,hideGhostForTarget:qi,unhideGhostForTarget:Qi,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(a){ie({sortable:n,name:a,originalEvent:i})}},o))};function ie(e){Ql(be({putSortable:ee,cloneEl:Y,targetEl:M,rootEl:X,oldIndex:Je,oldDraggableIndex:ht,newIndex:fe,newDraggableIndex:$e},e))}var M,U,Q,X,qe,Rt,Y,Me,Je,fe,ht,$e,Ct,ee,Ve=!1,Vt=!1,Zt=[],Ne,me,cn,dn,_r,vr,at,We,mt,pt=!1,At=!1,Ft,ne,hn=[],In=!1,Kt=[],rn=typeof document<"u",Nt=$i,br=St||De?"cssFloat":"float",Fl=rn&&!Mi&&!$i&&"draggable"in document.createElement("div"),Ni=function(){if(rn){if(De)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Pi=function(t,n){var r=O(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=lt(t,0,n),l=lt(t,1,n),a=o&&O(o),s=l&&O(l),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+K(o).width,m=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+K(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[br]==="none"||l&&r[br]==="none"&&u+m>i)?"vertical":"horizontal"},jl=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,l=r?t.width:t.height,a=r?n.left:n.top,s=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||o===s||i+l/2===a+u/2},Ll=function(t,n){var r;return Zt.some(function(i){var o=i[ce].options.emptyInsertThreshold;if(!(!o||Rn(i))){var l=K(i),a=t>=l.left-o&&t<=l.right+o,s=n>=l.top-o&&n<=l.bottom+o;if(a&&s)return r=i}}),r},Oi=function(t){function n(o,l){return function(a,s,u,m){var f=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(o==null&&(l||f))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return n(o(a,s,u,m),l)(a,s,u,m);var d=(l?a:s).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var r={},i=t.group;(!i||Qt(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},qi=function(){!Ni&&Q&&O(Q,"display","none")},Qi=function(){!Ni&&Q&&O(Q,"display","")};rn&&!Mi&&document.addEventListener("click",function(e){if(Vt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Vt=!1,!1},!0);var Pe=function(t){if(M){t=t.touches?t.touches[0]:t;var n=Ll(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[ce]._onDragOver(r)}}},Hl=function(t){M&&M.parentNode[ce]._isOutsideThisEl(t.target)};function P(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ee({},t),e[ce]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pi(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:P.supportPointer!==!1&&"PointerEvent"in window&&!ct,emptyInsertThreshold:5};$t.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Oi(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Fl,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?G(e,"pointerdown",this._onTapStart):(G(e,"mousedown",this._onTapStart),G(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(G(e,"dragover",this),G(e,"dragenter",this)),Zt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ee(this,Pl())}P.prototype={constructor:P,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(We=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,M):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,m=i.filter;if(Vl(r),!M&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ct&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ge(s,i.draggable,r,!1),!(s&&s.animated)&&Rt!==s)){if(Je=de(s),ht=de(s,i.draggable),typeof m=="function"){if(m.call(this,t,s,this)){ie({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:r,fromEl:r}),oe("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(m&&(m=m.split(",").some(function(f){if(f=ge(u,f.trim(),r,!1),f)return ie({sortable:n,rootEl:f,name:"filter",targetEl:s,fromEl:r,toEl:r}),oe("filter",n,{evt:t}),!0}),m)){o&&t.cancelable&&t.preventDefault();return}i.handle&&!ge(u,i.handle,r,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,l=i.options,a=o.ownerDocument,s;if(r&&!M&&r.parentNode===o){var u=K(r);if(X=o,M=r,U=M.parentNode,qe=M.nextSibling,Rt=r,Ct=l.group,P.dragged=M,Ne={target:M,clientX:(n||t).clientX,clientY:(n||t).clientY},_r=Ne.clientX-u.left,vr=Ne.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,M.style["will-change"]="all",s=function(){if(oe("delayEnded",i,{evt:t}),P.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!hr&&i.nativeDraggable&&(M.draggable=!0),i._triggerDragStart(t,n),ie({sortable:i,name:"choose",originalEvent:t}),ue(M,l.chosenClass,!0)},l.ignore.split(",").forEach(function(m){Ti(M,m.trim(),mn)}),G(a,"dragover",Pe),G(a,"mousemove",Pe),G(a,"touchmove",Pe),G(a,"mouseup",i._onDrop),G(a,"touchend",i._onDrop),G(a,"touchcancel",i._onDrop),hr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,M.draggable=!0),oe("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(St||De))){if(P.eventCanceled){this._onDrop();return}G(a,"mouseup",i._disableDelayedDrag),G(a,"touchend",i._disableDelayedDrag),G(a,"touchcancel",i._disableDelayedDrag),G(a,"mousemove",i._delayedDragTouchMoveHandler),G(a,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&G(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){M&&mn(M),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._disableDelayedDrag),L(t,"touchend",this._disableDelayedDrag),L(t,"touchcancel",this._disableDelayedDrag),L(t,"mousemove",this._delayedDragTouchMoveHandler),L(t,"touchmove",this._delayedDragTouchMoveHandler),L(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?G(document,"pointermove",this._onTouchMove):n?G(document,"touchmove",this._onTouchMove):G(document,"mousemove",this._onTouchMove):(G(M,"dragend",this),G(X,"dragstart",this._onDragStart));try{document.selection?jt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ve=!1,X&&M){oe("dragStarted",this,{evt:n}),this.nativeDraggable&&G(document,"dragover",Hl);var r=this.options;!t&&ue(M,r.dragClass,!1),ue(M,r.ghostClass,!0),P.active=this,t&&this._appendGhost(),ie({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(me){this._lastX=me.clientX,this._lastY=me.clientY,qi();for(var t=document.elementFromPoint(me.clientX,me.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(me.clientX,me.clientY),t!==n);)n=t;if(M.parentNode[ce]._isOutsideThisEl(t),n)do{if(n[ce]){var r=void 0;if(r=n[ce]._onDragOver({clientX:me.clientX,clientY:me.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Qi()}},_onTouchMove:function(t){if(Ne){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,l=Q&&rt(Q,!0),a=Q&&l&&l.a,s=Q&&l&&l.d,u=Nt&&ne&&gr(ne),m=(o.clientX-Ne.clientX+i.x)/(a||1)+(u?u[0]-hn[0]:0)/(a||1),f=(o.clientY-Ne.clientY+i.y)/(s||1)+(u?u[1]-hn[1]:0)/(s||1);if(!P.active&&!Ve){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Q){l?(l.e+=m-(cn||0),l.f+=f-(dn||0)):l={a:1,b:0,c:0,d:1,e:m,f};var d="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");O(Q,"webkitTransform",d),O(Q,"mozTransform",d),O(Q,"msTransform",d),O(Q,"transform",d),cn=m,dn=f,me=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Q){var t=this.options.fallbackOnBody?document.body:X,n=K(M,!0,Nt,!0,t),r=this.options;if(Nt){for(ne=t;O(ne,"position")==="static"&&O(ne,"transform")==="none"&&ne!==document;)ne=ne.parentNode;ne!==document.body&&ne!==document.documentElement?(ne===document&&(ne=ve()),n.top+=ne.scrollTop,n.left+=ne.scrollLeft):ne=ve(),hn=gr(ne)}Q=M.cloneNode(!0),ue(Q,r.ghostClass,!1),ue(Q,r.fallbackClass,!0),ue(Q,r.dragClass,!0),O(Q,"transition",""),O(Q,"transform",""),O(Q,"box-sizing","border-box"),O(Q,"margin",0),O(Q,"top",n.top),O(Q,"left",n.left),O(Q,"width",n.width),O(Q,"height",n.height),O(Q,"opacity","0.8"),O(Q,"position",Nt?"absolute":"fixed"),O(Q,"zIndex","100000"),O(Q,"pointerEvents","none"),P.ghost=Q,t.appendChild(Q),O(Q,"transform-origin",_r/parseInt(Q.style.width)*100+"% "+vr/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(oe("dragStart",this,{evt:t}),P.eventCanceled){this._onDrop();return}oe("setupClone",this),P.eventCanceled||(Y=Ai(M),Y.removeAttribute("id"),Y.draggable=!1,Y.style["will-change"]="",this._hideClone(),ue(Y,this.options.chosenClass,!1),P.clone=Y),r.cloneId=jt(function(){oe("clone",r),!P.eventCanceled&&(r.options.removeCloneOnHide||X.insertBefore(Y,M),r._hideClone(),ie({sortable:r,name:"clone"}))}),!n&&ue(M,o.dragClass,!0),n?(Vt=!0,r._loopId=setInterval(r._emulateDragOver,50)):(L(document,"mouseup",r._onDrop),L(document,"touchend",r._onDrop),L(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,M)),G(document,"drop",r),O(M,"transform","translateZ(0)")),Ve=!0,r._dragStartId=jt(r._dragStarted.bind(r,n,t)),G(document,"selectstart",r),at=!0,ct&&O(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,l,a=this.options,s=a.group,u=P.active,m=Ct===s,f=a.sort,d=ee||u,p,h=this,_=!1;if(In)return;function v(q,A){oe(q,h,be({evt:t,isOwner:m,axis:p?"vertical":"horizontal",revert:l,dragRect:i,targetRect:o,canSort:f,fromSortable:d,target:r,completed:$,onMove:function(Ln,Fi){return Pt(X,n,M,i,Ln,K(Ln),t,Fi)},changed:w},A))}function x(){v("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function $(q){return v("dragOverCompleted",{insertion:q}),q&&(m?u._hideClone():u._showClone(h),h!==d&&(ue(M,ee?ee.options.ghostClass:u.options.ghostClass,!1),ue(M,a.ghostClass,!0)),ee!==h&&h!==P.active?ee=h:h===P.active&&ee&&(ee=null),d===h&&(h._ignoreWhileAnimating=r),h.animateAll(function(){v("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===M&&!M.animated||r===n&&!r.animated)&&(We=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(M.parentNode[ce]._isOutsideThisEl(t.target),!q&&Pe(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function w(){fe=de(M),$e=de(M,a.draggable),ie({sortable:h,name:"change",toEl:n,newIndex:fe,newDraggableIndex:$e,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=ge(r,a.draggable,n,!0),v("dragOver"),P.eventCanceled)return _;if(M.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||h._ignoreWhileAnimating===r)return $(!1);if(Vt=!1,u&&!a.disabled&&(m?f||(l=U!==X):ee===this||(this.lastPutMode=Ct.checkPull(this,u,M,t))&&s.checkPut(this,u,M,t))){if(p=this._getDirection(t,r)==="vertical",i=K(M),v("dragOverValid"),P.eventCanceled)return _;if(l)return U=X,x(),this._hideClone(),v("revert"),P.eventCanceled||(qe?X.insertBefore(M,qe):X.appendChild(M)),$(!0);var E=Rn(n,a.draggable);if(!E||Xl(t,p,this)&&!E.animated){if(E===M)return $(!1);if(E&&n===t.target&&(r=E),r&&(o=K(r)),Pt(X,n,M,i,r,o,t,!!r)!==!1)return x(),E&&E.nextSibling?n.insertBefore(M,E.nextSibling):n.appendChild(M),U=n,w(),$(!0)}else if(E&&Bl(t,p,this)){var g=lt(n,0,a,!0);if(g===M)return $(!1);if(r=g,o=K(r),Pt(X,n,M,i,r,o,t,!1)!==!1)return x(),n.insertBefore(M,g),U=n,w(),$(!0)}else if(r.parentNode===n){o=K(r);var k=0,D,S=M.parentNode!==n,b=!jl(M.animated&&M.toRect||i,r.animated&&r.toRect||o,p),C=p?"top":"left",T=pr(r,"top","top")||pr(M,"top","top"),R=T?T.scrollTop:void 0;We!==r&&(D=o[C],pt=!1,At=!b&&a.invertSwap||S),k=Yl(t,r,o,p,b?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,At,We===r);var z;if(k!==0){var J=de(M);do J-=k,z=U.children[J];while(z&&(O(z,"display")==="none"||z===Q))}if(k===0||z===r)return $(!1);We=r,mt=k;var se=r.nextElementSibling,te=!1;te=k===1;var I=Pt(X,n,M,i,r,o,t,te);if(I!==!1)return(I===1||I===-1)&&(te=I===1),In=!0,setTimeout(zl,30),x(),te&&!se?n.appendChild(M):r.parentNode.insertBefore(M,te?se:r),T&&Ci(T,0,R-T.scrollTop),U=M.parentNode,D!==void 0&&!At&&(Ft=Math.abs(D-K(r)[C])),w(),$(!0)}if(n.contains(M))return $(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){L(document,"mousemove",this._onTouchMove),L(document,"touchmove",this._onTouchMove),L(document,"pointermove",this._onTouchMove),L(document,"dragover",Pe),L(document,"mousemove",Pe),L(document,"touchmove",Pe)},_offUpEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._onDrop),L(t,"touchend",this._onDrop),L(t,"pointerup",this._onDrop),L(t,"touchcancel",this._onDrop),L(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(fe=de(M),$e=de(M,r.draggable),oe("drop",this,{evt:t}),U=M&&M.parentNode,fe=de(M),$e=de(M,r.draggable),P.eventCanceled){this._nulling();return}Ve=!1,At=!1,pt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Tn(this.cloneId),Tn(this._dragStartId),this.nativeDraggable&&(L(document,"drop",this),L(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ct&&O(document.body,"user-select",""),O(M,"transform",""),t&&(at&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(X===U||ee&&ee.lastPutMode!=="clone")&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),M&&(this.nativeDraggable&&L(M,"dragend",this),mn(M),M.style["will-change"]="",at&&!Ve&&ue(M,ee?ee.options.ghostClass:this.options.ghostClass,!1),ue(M,this.options.chosenClass,!1),ie({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:t}),X!==U?(fe>=0&&(ie({rootEl:U,name:"add",toEl:U,fromEl:X,originalEvent:t}),ie({sortable:this,name:"remove",toEl:U,originalEvent:t}),ie({rootEl:U,name:"sort",toEl:U,fromEl:X,originalEvent:t}),ie({sortable:this,name:"sort",toEl:U,originalEvent:t})),ee&&ee.save()):fe!==Je&&fe>=0&&(ie({sortable:this,name:"update",toEl:U,originalEvent:t}),ie({sortable:this,name:"sort",toEl:U,originalEvent:t})),P.active&&((fe==null||fe===-1)&&(fe=Je,$e=ht),ie({sortable:this,name:"end",toEl:U,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){oe("nulling",this),X=M=U=Q=qe=Y=Rt=Me=Ne=me=at=fe=$e=Je=ht=We=mt=ee=Ct=P.dragged=P.ghost=P.clone=P.active=null,Kt.forEach(function(t){t.checked=!0}),Kt.length=cn=dn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":M&&(this._onDragOver(t),Gl(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,l=this.options;i<o;i++)n=r[i],ge(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||Ul(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,l){var a=i.children[l];ge(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ge(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=$t.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&Oi(r)},destroy:function(){oe("destroy",this);var t=this.el;t[ce]=null,L(t,"mousedown",this._onTapStart),L(t,"touchstart",this._onTapStart),L(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(L(t,"dragover",this),L(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Zt.splice(Zt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Me){if(oe("hideClone",this),P.eventCanceled)return;O(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),Me=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Me){if(oe("showClone",this),P.eventCanceled)return;M.parentNode==X&&!this.options.group.revertClone?X.insertBefore(Y,M):qe?X.insertBefore(Y,qe):X.appendChild(Y),this.options.group.revertClone&&this.animate(M,Y),O(Y,"display",""),Me=!1}}};function Gl(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Pt(e,t,n,r,i,o,l,a){var s,u=e[ce],m=u.options.onMove,f;return window.CustomEvent&&!De&&!St?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=i||t,s.relatedRect=o||K(t),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),m&&(f=m.call(u,s,l)),f}function mn(e){e.draggable=!1}function zl(){In=!1}function Bl(e,t,n){var r=K(lt(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function Xl(e,t,n){var r=K(Rn(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function Yl(e,t,n,r,i,o,l,a){var s=r?e.clientY:e.clientX,u=r?n.height:n.width,m=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!l){if(a&&Ft<u*i){if(!pt&&(mt===1?s>m+u*o/2:s<f-u*o/2)&&(pt=!0),pt)d=!0;else if(mt===1?s<m+Ft:s>f-Ft)return-mt}else if(s>m+u*(1-i)/2&&s<f-u*(1-i)/2)return Wl(t)}return d=d||l,d&&(s<m+u*o/2||s>f-u*o/2)?s>m+u/2?1:-1:0}function Wl(e){return de(M)<de(e)?1:-1}function Ul(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Vl(e){Kt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Kt.push(r)}}function jt(e){return setTimeout(e,0)}function Tn(e){return clearTimeout(e)}rn&&G(document,"touchmove",function(e){(P.active||Ve)&&e.cancelable&&e.preventDefault()});P.utils={on:G,off:L,css:O,find:Ti,is:function(t,n){return!!ge(t,n,t,!1)},extend:Al,throttle:xi,closest:ge,toggleClass:ue,clone:Ai,index:de,nextTick:jt,cancelNextTick:Tn,detectDirection:Pi,getChild:lt};P.get=function(e){return e[ce]};P.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(P.utils=be(be({},P.utils),r.utils)),$t.mount(r)})};P.create=function(e,t){return new P(e,t)};P.version=Tl;var Z=[],st,xn,Cn=!1,pn,gn,Jt,ut;function Zl(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?G(document,"dragover",this._handleAutoScroll):this.options.supportPointer?G(document,"pointermove",this._handleFallbackAutoScroll):r.touches?G(document,"touchmove",this._handleFallbackAutoScroll):G(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):(L(document,"pointermove",this._handleFallbackAutoScroll),L(document,"touchmove",this._handleFallbackAutoScroll),L(document,"mousemove",this._handleFallbackAutoScroll)),wr(),Lt(),Nl()},nulling:function(){Jt=xn=st=Cn=ut=pn=gn=null,Z.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,l);if(Jt=n,r||this.options.forceAutoScrollFallback||St||De||ct){_n(n,this.options,a,r);var s=xe(a,!0);Cn&&(!ut||o!==pn||l!==gn)&&(ut&&wr(),ut=setInterval(function(){var u=xe(document.elementFromPoint(o,l),!0);u!==s&&(s=u,Lt()),_n(n,i.options,u,r)},10),pn=o,gn=l)}else{if(!this.options.bubbleScroll||xe(a,!0)===ve()){Lt();return}_n(n,this.options,xe(a,!1),!1)}}},Ee(e,{pluginName:"scroll",initializeByDefault:!0})}function Lt(){Z.forEach(function(e){clearInterval(e.pid)}),Z=[]}function wr(){clearInterval(ut)}var _n=xi(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,a=t.scrollSpeed,s=ve(),u=!1,m;xn!==n&&(xn=n,Lt(),st=t.scroll,m=t.scrollFn,st===!0&&(st=xe(n,!0)));var f=0,d=st;do{var p=d,h=K(p),_=h.top,v=h.bottom,x=h.left,$=h.right,w=h.width,E=h.height,g=void 0,k=void 0,D=p.scrollWidth,S=p.scrollHeight,b=O(p),C=p.scrollLeft,T=p.scrollTop;p===s?(g=w<D&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),k=E<S&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(g=w<D&&(b.overflowX==="auto"||b.overflowX==="scroll"),k=E<S&&(b.overflowY==="auto"||b.overflowY==="scroll"));var R=g&&(Math.abs($-i)<=l&&C+w<D)-(Math.abs(x-i)<=l&&!!C),z=k&&(Math.abs(v-o)<=l&&T+E<S)-(Math.abs(_-o)<=l&&!!T);if(!Z[f])for(var J=0;J<=f;J++)Z[J]||(Z[J]={});(Z[f].vx!=R||Z[f].vy!=z||Z[f].el!==p)&&(Z[f].el=p,Z[f].vx=R,Z[f].vy=z,clearInterval(Z[f].pid),(R!=0||z!=0)&&(u=!0,Z[f].pid=setInterval((function(){r&&this.layer===0&&P.active._onTouchMove(Jt);var se=Z[this.layer].vy?Z[this.layer].vy*a:0,te=Z[this.layer].vx?Z[this.layer].vx*a:0;typeof m=="function"&&m.call(P.dragged.parentNode[ce],te,se,e,Jt,Z[this.layer].el)!=="continue"||Ci(Z[this.layer].el,te,se)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==s&&(d=xe(d,!1)));Cn=u}},30),Ri=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,l=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(n){var u=r||o;a();var m=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(m.clientX,m.clientY);s(),u&&!u.el.contains(f)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Fn(){}Fn.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=lt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Ri};Ee(Fn,{pluginName:"revertOnSpill"});function jn(){}jn.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Ri};Ee(jn,{pluginName:"removeOnSpill"});P.mount(new Zl);P.mount(jn,Fn);function yr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function kr(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Er(e,t,n){const r=e.slice();return r[25]=t[n],r[24]=n,r}function Dr(e){let t,n=e[24]+1+"",r;return{c(){t=N("option"),r=B(n),t.__value=e[24]+1,t.value=t.__value,c(t,"class","svelte-f2ps7u")},m(i,o){H(i,t,o),y(t,r)},p:V,d(i){i&&j(t)}}}function Sr(e,t){let n,r,i=t[1][t[24]]+"",o,l,a,s,u=t[19][t[1][t[24]]]+"",m,f,d,p,h,_,v,x,$,w=Array(t[0]).fill(),E=[];for(let k=0;k<w.length;k+=1)E[k]=Dr(Er(t,w,k));function g(...k){return t[12](t[21],t[24],...k)}return{key:e,first:null,c(){n=N("div"),r=N("h5"),o=B(i),l=B(":"),a=W(),s=N("p"),m=B(u),f=W(),d=N("div"),p=B(`Rank:
                        `),h=N("select");for(let k=0;k<E.length;k+=1)E[k].c();_=W(),c(r,"class","bold underline svelte-f2ps7u"),c(s,"class","svelte-f2ps7u"),c(n,"class","answer svelte-f2ps7u"),c(n,"id",v=`answer-${t[24]}-${t[21]}`),this.first=n},m(k,D){H(k,n,D),y(n,r),y(r,o),y(r,l),y(n,a),y(n,s),y(s,m),y(n,f),y(n,d),y(d,p),y(d,h);for(let S=0;S<E.length;S+=1)E[S]&&E[S].m(h,null);y(n,_),x||($=re(h,"change",g),x=!0)},p(k,D){if(t=k,D&3&&i!==(i=t[1][t[24]]+"")&&ke(o,i),D&11&&u!==(u=t[19][t[1][t[24]]]+"")&&ke(m,u),D&1){w=Array(t[0]).fill();let S;for(S=0;S<w.length;S+=1){const b=Er(t,w,S);E[S]?E[S].p(b,D):(E[S]=Dr(b),E[S].c(),E[S].m(h,null))}for(;S<E.length;S+=1)E[S].d(1);E.length=w.length}D&9&&v!==(v=`answer-${t[24]}-${t[21]}`)&&c(n,"id",v)},d(k){k&&j(n),he(E,k),x=!1,$()}}}function $r(e,t){let n,r,i,o,l,a,s,u,m,f=t[19].question+"",d,p,h,_=[],v=new Map,x,$,w,E,g=Array(t[0]).fill();const k=D=>D[24];for(let D=0;D<g.length;D+=1){let S=kr(t,g,D),b=k(S);v.set(b,_[D]=Sr(b,S))}return{key:e,first:null,c(){n=N("div"),r=N("div"),i=N("div"),o=W(),l=N("div"),a=N("div"),s=N("h5"),s.textContent="Question:",u=W(),m=N("p"),d=B(f),p=W(),h=N("div");for(let D=0;D<_.length;D+=1)_[D].c();x=W(),c(i,"class","avatar"),c(s,"class","bold svelte-f2ps7u"),c(m,"class","svelte-f2ps7u"),c(a,"class","question svelte-f2ps7u"),c(h,"class","answers"),Se(h,"display","grid"),Se(h,"grid-template-columns",t[7]),Se(h,"gap",".25%"),Se(h,"width","100%"),Se(h,"margin","auto"),c(l,"class","message-content svelte-f2ps7u"),c(r,"class","chat-message-center svelte-f2ps7u"),c(n,"class","chat-message svelte-f2ps7u"),this.first=n},m(D,S){H(D,n,S),y(n,r),y(r,i),y(r,o),y(r,l),y(l,a),y(a,s),y(a,u),y(a,m),y(m,d),y(l,p),y(l,h);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(h,null);t[13](h),y(n,x),w||(E=zi($=Jl.call(null,n,t[21]===t[3].length-1)),w=!0)},p(D,S){t=D,S&8&&f!==(f=t[19].question+"")&&ke(d,f),S&523&&(g=Array(t[0]).fill(),_=vt(_,S,k,1,t,g,v,h,_t,Sr,null,kr)),S&128&&Se(h,"grid-template-columns",t[7]),$&&en($.update)&&S&8&&$.update.call(null,t[21]===t[3].length-1)},d(D){D&&j(n);for(let S=0;S<_.length;S+=1)_[S].d();t[13](null),w=!1,E()}}}function Kl(e){let t,n,r,i,o,l,a=[],s=new Map,u,m,f,d,p,h,_=(e[5]?e[6]:"Send")+"",v,x,$,w,E=e[3];const g=k=>k[21];for(let k=0;k<E.length;k+=1){let D=yr(e,E,k),S=g(D);s.set(S,a[k]=$r(S,D))}return{c(){t=N("div"),n=N("div"),n.innerHTML=`<h5 class="underline bold svelte-f2ps7u">Q &amp; A Comparison Instructions</h5> 
    <br/> 
    <p class="svelte-f2ps7u">Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.</p> 
    <br/> 
    <button class="svelte-f2ps7u">Download Data</button>`,r=W(),i=N("div"),o=N("section"),l=N("div");for(let k=0;k<a.length;k+=1)a[k].c();u=W(),m=N("div"),f=N("form"),d=N("input"),p=W(),h=N("button"),v=B(_),c(n,"class","instructions svelte-f2ps7u"),c(l,"class","chat-log svelte-f2ps7u"),c(o,"class","chatbox svelte-f2ps7u"),c(d,"class","chat-input-textarea svelte-f2ps7u"),c(d,"placeholder","Type Message Here"),c(h,"class",x="btnyousend "+(e[4]===""?"":"active")+" svelte-f2ps7u"),c(h,"type","submit"),c(f,"class","chat-input-form svelte-f2ps7u"),c(m,"class","chat-input-holder svelte-f2ps7u"),c(i,"class","ranked-chat svelte-f2ps7u"),c(t,"class","ranked-feedback-container svelte-f2ps7u")},m(k,D){H(k,t,D),y(t,n),y(t,r),y(t,i),y(i,o),y(o,l);for(let S=0;S<a.length;S+=1)a[S]&&a[S].m(l,null);y(i,u),y(i,m),y(m,f),y(f,d),zn(d,e[4]),y(f,p),y(f,h),y(h,v),$||(w=[re(d,"input",e[14]),re(f,"submit",e[8])],$=!0)},p(k,[D]){D&655&&(E=k[3],a=vt(a,D,g,1,k,E,s,l,_t,$r,null,yr)),D&16&&d.value!==k[4]&&zn(d,k[4]),D&96&&_!==(_=(k[5]?k[6]:"Send")+"")&&ke(v,_),D&16&&x!==(x="btnyousend "+(k[4]===""?"":"active")+" svelte-f2ps7u")&&c(h,"class",x)},i:V,o:V,d(k){k&&j(t);for(let D=0;D<a.length;D+=1)a[D].d();$=!1,Ce(w)}}}function Jl(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function ea(e,t,n){let r,i,o;si(e,ln,g=>n(3,o=g));let{numModels:l=1}=t,{models:a=[0]}=t,s="",u="",m=!1,f=[];Vi(async()=>{if(await new Promise(g=>setTimeout(g,200)),h){const g=new P(h,{animation:150,onUpdate(k){f=g.toArray()}});f=g.toArray(),x()}});const d=async g=>{g.preventDefault(),s=u,n(4,u=""),n(5,m=!0);let k={question:s,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};Gi(ln,o=[...o,k],o);const D=await fetch(`/chat/comparator/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(D.ok){const S=await D.json();console.log("data",S),n(1,a=Object.keys(S.answer)),n(0,l=a.length),console.log("models",a);for(let b of a)k[b]=S.answer[b];ln.update(b=>(b[b.length-1]=k,b))}else{const S=await D.text();alert(S)}n(5,m=!1)};let p=0;setInterval(()=>{n(10,p=(p+1)%4)},200);let h,_;function v(g,k,D){const S=k,b=g.target.value+1,C=a[D];x({QID:S,rank:b,model:C})}function x(g={}){let k=[];if(Object.keys(g).length!==0){const D={model:g.model,QID:g.QID,rank:g.rank,answer:o[g.QID][g.model]};k.push(D)}else{let D=f[0].split("-")[2],S=[];for(let[b,C]of f.entries()){const T=parseInt(C.split("-")[1]),R=a[T],z={rank:b,model:R};S.push(z)}for(let b of S){const C={model:b.model,QID:D,rank:b.rank,answer:o[D][b.model]};k.push(C)}f.forEach((b,C)=>{const T=document.querySelector(`#${b} select`);T&&(T.value=C+1)})}console.log("payload",k)}const $=(g,k,D)=>v(D,g,k);function w(g){vn[g?"unshift":"push"](()=>{h=g,n(2,h)})}function E(){u=this.value,n(4,u)}return e.$$set=g=>{"numModels"in g&&n(0,l=g.numModels),"models"in g&&n(1,a=g.models)},e.$$.update=()=>{e.$$.dirty&1&&n(7,r="1fr ".repeat(l).trim()),e.$$.dirty&1024&&n(6,i=".".repeat(p).padEnd(3)),e.$$.dirty&2052&&h&&(n(11,_=new P(h,{animation:150,dataIdAttr:"id",onUpdate(g){f=_.toArray(),x()}})),f=_.toArray(),x()),e.$$.dirty&8&&console.log("compareChatLog",o)},[l,a,h,o,u,m,i,r,d,v,p,_,$,w,E]}class ta extends He{constructor(t){super(),Le(this,t,ea,Kl,Ae,{numModels:0,models:1})}}const le=[{model:"llama",QID:1,rank:1,answer:"Llama's first unique answer."},{model:"gpt3.5",QID:1,rank:2,answer:"GPT-3.5's first unique answer."},{model:"gpt4",QID:1,rank:3,answer:"GPT-4's first unique answer."},{model:"claude",QID:1,rank:4,answer:"Claude's first unique answer."},{model:"llama",QID:2,rank:4,answer:"Llama's second unique answer."},{model:"gpt3.5",QID:2,rank:2,answer:"GPT-3.5's second unique answer."},{model:"gpt4",QID:2,rank:4,answer:"GPT-4's second unique answer."},{model:"claude",QID:2,rank:3,answer:"'s second unique answer."},{model:"llama",QID:3,rank:1,answer:"Llama's third unique answer."},{model:"gpt3.5",QID:3,rank:4,answer:"GPT-3.5's third unique answer."},{model:"gpt4",QID:3,rank:4,answer:"GPT-4's third unique answer."},{model:"claude",QID:3,rank:2,answer:"'s third unique answer."},{model:"llama",QID:4,rank:1,answer:"Llama's fourth unique answer."},{model:"gpt3.5",QID:4,rank:3,answer:"GPT-3.5's  unique answer."},{model:"gpt4",QID:4,rank:2,answer:"GPT-4's  unique answer."},{model:"claude",QID:4,rank:4,answer:"'s  unique answer."},{model:"llama",QID:5,rank:1,answer:"Llama's  unique answer."},{model:"gpt3.5",QID:5,rank:2,answer:"GPT-3.5's nique answer."},{model:"gpt4",QID:5,rank:3,answer:"GPT-4's fifth unique answer."},{model:"claude",QID:5,rank:4,answer:"'s fifthnswer."},{model:"llama",QID:6,rank:1,answer:"Llama's sixth unique answer."},{model:"gpt3.5",QID:6,rank:2,answer:"GPT-3.5's sixth unique answer."},{model:"gpt4",QID:6,rank:3,answer:"GPT-4's sixth unique answer."},{model:"claude",QID:6,rank:4,answer:"'s sixth uniq."},{model:"llama",QID:7,rank:4,answer:"Llama's seventh unique answer."},{model:"gpt3.5",QID:7,rank:3,answer:"GPT-3.5's seventh unique answer."},{model:"gpt4",QID:7,rank:2,answer:"GPT-4's seventh unique answer."},{model:"claude",QID:7,rank:1,answer:"Claude's seventh unique answer."},{model:"llama",QID:8,rank:3,answer:"Llama's eighth unique answer."},{model:"gpt3.5",QID:8,rank:4,answer:"GPT-3.5's eighth unique answer."},{model:"gpt4",QID:8,rank:1,answer:"GPT-4's eighth unique answer."},{model:"claude",QID:8,rank:2,answer:"Claude's eighth unique answer."},{model:"llama",QID:9,rank:2,answer:"Llama's ninth unique answer."},{model:"gpt3.5",QID:9,rank:1,answer:"GPT-3.5's ninth unique answer."},{model:"gpt4",QID:9,rank:4,answer:"GPT-4's ninth unique answer."},{model:"claude",QID:9,rank:3,answer:"Claude's ninth unique answer."},{model:"llama",QID:10,rank:4,answer:"Llama's tenth unique answer."},{model:"gpt3.5",QID:10,rank:3,answer:"GPT-3.5's tenth unique answer."},{model:"gpt4",QID:10,rank:2,answer:"GPT-4's tenth unique answer."},{model:"claude",QID:10,rank:1,answer:"Claude's tenth unique answer."},{model:"llama",QID:11,rank:3,answer:"Llama's eleventh unique answer."},{model:"gpt3.5",QID:11,rank:4,answer:"GPT-3.5's eleventh unique answer."},{model:"gpt4",QID:11,rank:1,answer:"GPT-4's eleventh unique answer."},{model:"claude",QID:11,rank:2,answer:"Claude's eleventh unique answer."},{model:"llama",QID:12,rank:2,answer:"Llama's twelfth unique answer."},{model:"gpt3.5",QID:12,rank:1,answer:"GPT-3.5's twelfth unique answer."},{model:"gpt4",QID:12,rank:4,answer:"GPT-4's twelfth unique answer."},{model:"claude",QID:12,rank:3,answer:"Claude's twelfth unique answer."},{model:"llama",QID:13,rank:4,answer:"Llama's thirteenth unique answer."},{model:"gpt3.5",QID:13,rank:3,answer:"GPT-3.5's thirteenth unique answer."},{model:"gpt4",QID:13,rank:2,answer:"GPT-4's thirteenth unique answer."},{model:"claude",QID:13,rank:4,answer:"Claude's thirteenth unique answer."},{model:"llama",QID:14,rank:3,answer:"Llama's fourteenth unique answer."},{model:"gpt3.5",QID:14,rank:1,answer:"GPT-3.5's fourteenth unique answer."},{model:"gpt4",QID:14,rank:1,answer:"GPT-4's fourteenth unique answer."},{model:"claude",QID:14,rank:1,answer:"Claude's fourteenth unique answer."}];function Mr(e,t,n){const r=e.slice();return r[22]=t[n],r}function Ir(e,t,n){const r=e.slice();return r[22]=t[n],r[26]=n,r}function Tr(e,t,n){const r=e.slice();return r[27]=t[n],r}function xr(e,t,n){const r=e.slice();return r[27]=t[n],r}function Cr(e){let t,n,r,i,o=`Q.${e[27]}`,l,a;return{c(){t=F("g"),n=F("line"),i=F("text"),l=B(o),c(n,"class","axis-tick svelte-1nna9rx"),c(n,"x1","0"),c(n,"x2","0"),c(n,"y1",0),c(n,"y2",r=-e[4]+e[11].bottom+e[11].top),c(n,"stroke","black"),c(n,"stroke-dasharray","4"),c(i,"class","axis-text svelte-1nna9rx"),c(i,"y","15"),c(i,"text-anchor","middle"),c(t,"transform",a=`translate(${e[3](e[27])+0} ${e[4]-e[11].bottom})`),c(t,"class","svelte-1nna9rx")},m(s,u){H(s,t,u),y(t,n),y(t,i),y(i,l)},p(s,u){u[0]&16&&r!==(r=-s[4]+s[11].bottom+s[11].top)&&c(n,"y2",r),u[0]&8&&o!==(o=`Q.${s[27]}`)&&ke(l,o),u[0]&24&&a!==(a=`translate(${s[3](s[27])+0} ${s[4]-s[11].bottom})`)&&c(t,"transform",a)},d(s){s&&j(t)}}}function Ar(e){let t=Number.isInteger(e[27]),n,r=t&&Cr(e);return{c(){r&&r.c(),n=ye()},m(i,o){r&&r.m(i,o),H(i,n,o)},p(i,o){o[0]&8&&(t=Number.isInteger(i[27])),t?r?r.p(i,o):(r=Cr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&j(n)}}}function Nr(e){let t,n,r=e[9].filter(l).map(qr)[0]+"",i,o;function l(...a){return e[12](e[27],...a)}return{c(){t=F("g"),n=F("text"),i=B(r),c(n,"class","axis-text svelte-1nna9rx"),c(n,"x","-5"),c(n,"y","0"),c(n,"text-anchor","end"),c(n,"dominant-baseline","middle"),c(t,"transform",o=`translate(${e[11].left} ${e[2](e[27])+0})`),c(t,"class","svelte-1nna9rx")},m(a,s){H(a,t,s),y(t,n),y(n,i)},p(a,s){e=a,s[0]&4&&r!==(r=e[9].filter(l).map(qr)[0]+"")&&ke(i,r),s[0]&4&&o!==(o=`translate(${e[11].left} ${e[2](e[27])+0})`)&&c(t,"transform",o)},d(a){a&&j(t)}}}function Pr(e,t){let n,r,i,o,l,a,s,u,m;function f(){return t[13](t[26])}function d(){return t[14](t[26])}return{key:e,first:null,c(){n=F("path"),o=F("path"),c(n,"class","model-path-outer svelte-1nna9rx"),c(n,"d",r=t[7](t[22])),c(n,"stroke","white"),c(n,"data-model",i=t[10][t[26]]),c(o,"class","model-path svelte-1nna9rx"),c(o,"d",l=t[7](t[22])),c(o,"role","img"),c(o,"stroke",a=t[8](t[10][t[26]])),c(o,"data-model",s=t[10][t[26]]),this.first=n},m(p,h){H(p,n,h),H(p,o,h),u||(m=[re(o,"mouseover",f),re(o,"focus",d),re(o,"mouseout",t[15]),re(o,"blur",t[16])],u=!0)},p(p,h){t=p,h[0]&192&&r!==(r=t[7](t[22]))&&c(n,"d",r),h[0]&64&&i!==(i=t[10][t[26]])&&c(n,"data-model",i),h[0]&192&&l!==(l=t[7](t[22]))&&c(o,"d",l),h[0]&320&&a!==(a=t[8](t[10][t[26]]))&&c(o,"stroke",a),h[0]&64&&s!==(s=t[10][t[26]])&&c(o,"data-model",s)},d(p){p&&j(n),p&&j(o),u=!1,Ce(m)}}}function Or(e,t){let n,r,i,o,l=t[22].rank+"",a,s,u,m;function f(){return t[17](t[22])}function d(){return t[18](t[22])}return{key:e,first:null,c(){n=F("g"),r=F("circle"),o=F("text"),a=B(l),c(r,"r",t[22].answer.length/2*0+12),c(r,"fill",i=t[8](t[22].model)),c(r,"stroke","white"),c(r,"class","model-circle svelte-1nna9rx"),c(r,"role","img"),c(r,"data-model",t[22].model),c(o,"class","bump-text svelte-1nna9rx"),c(o,"text-anchor","middle"),c(o,"alignment-baseline","middle"),c(o,"color","white"),c(o,"fill","white"),c(n,"transform",s=`translate(${t[3](t[22].QID)}, ${t[2](t[22].rank)})`),c(n,"class","svelte-1nna9rx"),this.first=n},m(p,h){H(p,n,h),y(n,r),y(n,o),y(o,a),u||(m=[re(r,"mouseover",f),re(r,"focus",d),re(r,"mouseout",t[19]),re(r,"blur",t[20])],u=!0)},p(p,h){t=p,h[0]&256&&i!==(i=t[8](t[22].model))&&c(r,"fill",i),h[0]&12&&s!==(s=`translate(${t[3](t[22].QID)}, ${t[2](t[22].rank)})`)&&c(n,"transform",s)},d(p){p&&j(n),u=!1,Ce(m)}}}function na(e){let t,n,r,i,o,l,a,s,u,m,f,d,p,h,_=[],v=new Map,x,$=[],w=new Map,E,g,k,D,S,b=e[3].domain(),C=[];for(let I=0;I<b.length;I+=1)C[I]=Ar(xr(e,b,I));let T=e[2].domain(),R=[];for(let I=0;I<T.length;I+=1)R[I]=Nr(Tr(e,T,I));let z=e[6];const J=I=>I[26];for(let I=0;I<z.length;I+=1){let q=Ir(e,z,I),A=J(q);v.set(A,_[I]=Pr(A,q))}let se=le;const te=I=>I[22].model+I[22].QID;for(let I=0;I<se.length;I+=1){let q=Mr(e,se,I),A=te(q);w.set(A,$[I]=Or(A,q))}return{c(){t=N("div"),n=F("svg"),r=F("line");for(let I=0;I<C.length;I+=1)C[I].c();a=ye();for(let I=0;I<R.length;I+=1)R[I].c();s=F("text"),m=F("text"),p=F("text");for(let I=0;I<_.length;I+=1)_[I].c();x=ye();for(let I=0;I<$.length;I+=1)$[I].c();E=F("text"),g=B("Per-Question Ranks"),k=F("text"),D=B("Answer ranks over time, by model."),c(r,"class","axis-line svelte-1nna9rx"),c(r,"x1",e[11].left),c(r,"x2",i=e[5]-e[11].right),c(r,"y1",o=e[4]-e[11].bottom),c(r,"y2",l=e[4]-e[11].bottom),c(s,"class","chart-title svelte-1nna9rx"),c(s,"y",e[11].top/2),c(s,"x",u=(e[5]+e[11].left)/2),c(s,"text-anchor","middle"),c(m,"class","axis-label svelte-1nna9rx"),c(m,"y",f=e[4]+e[11].bottom+10),c(m,"x",d=(e[5]+e[11].left)/2),c(m,"text-anchor","middle"),c(p,"class","axis-label svelte-1nna9rx"),c(p,"y",e[11].left/2),c(p,"x",h=-(e[4]/2)),c(p,"text-anchor","middle"),c(p,"transform","rotate(-90)"),c(E,"class","chart-title svelte-1nna9rx"),c(E,"y",e[11].top/2),c(E,"x",e[11].left),c(E,"text-anchor","start"),c(k,"class","chart-subtitle svelte-1nna9rx"),c(k,"y",e[11].top/2+15),c(k,"x",e[11].left),c(k,"opacity",".6"),c(k,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(n,"class","svelte-1nna9rx"),c(t,"id","chart-holder"),c(t,"class","svelte-1nna9rx"),it(()=>e[21].call(t))},m(I,q){H(I,t,q),y(t,n),y(n,r);for(let A=0;A<C.length;A+=1)C[A]&&C[A].m(n,null);y(n,a);for(let A=0;A<R.length;A+=1)R[A]&&R[A].m(n,null);y(n,s),y(n,m),y(n,p);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(n,null);y(n,x);for(let A=0;A<$.length;A+=1)$[A]&&$[A].m(n,null);y(n,E),y(E,g),y(n,k),y(k,D),S=An(t,e[21].bind(t))},p(I,q){if(q[0]&32&&i!==(i=I[5]-I[11].right)&&c(r,"x2",i),q[0]&16&&o!==(o=I[4]-I[11].bottom)&&c(r,"y1",o),q[0]&16&&l!==(l=I[4]-I[11].bottom)&&c(r,"y2",l),q[0]&2072){b=I[3].domain();let A;for(A=0;A<b.length;A+=1){const Ge=xr(I,b,A);C[A]?C[A].p(Ge,q):(C[A]=Ar(Ge),C[A].c(),C[A].m(n,a))}for(;A<C.length;A+=1)C[A].d(1);C.length=b.length}if(q[0]&2564){T=I[2].domain();let A;for(A=0;A<T.length;A+=1){const Ge=Tr(I,T,A);R[A]?R[A].p(Ge,q):(R[A]=Nr(Ge),R[A].c(),R[A].m(n,s))}for(;A<R.length;A+=1)R[A].d(1);R.length=T.length}q[0]&32&&u!==(u=(I[5]+I[11].left)/2)&&c(s,"x",u),q[0]&16&&f!==(f=I[4]+I[11].bottom+10)&&c(m,"y",f),q[0]&32&&d!==(d=(I[5]+I[11].left)/2)&&c(m,"x",d),q[0]&16&&h!==(h=-(I[4]/2))&&c(p,"x",h),q[0]&1472&&(z=I[6],_=vt(_,q,J,1,I,z,v,n,_t,Pr,x,Ir)),q[0]&268&&(se=le,$=vt($,q,te,1,I,se,w,n,_t,Or,E,Mr)),q[0]&2&&c(n,"width",I[1]),q[0]&1&&c(n,"height",I[0])},i:V,o:V,d(I){I&&j(t),he(C,I),he(R,I);for(let q=0;q<_.length;q+=1)_[q].d();for(let q=0;q<$.length;q+=1)$[q].d();S()}}}const qr=e=>e.model;function ra(e,t,n){let r,i,o,l,a,s,u;const m=le.filter(b=>b.QID===1).map(b=>({model:b.model,rank:b.rank}));console.log("firstData",m);let f=Array.from(new Set(le.map(b=>b.model)));console.log("models",f);let d,p,h={top:35,bottom:15,left:60,right:0};const _=(b,C)=>C.rank==b,v=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${f[b]}"], .model-circle[data-model="${f[b]}"]`).forEach(C=>{C.style.opacity=1})},x=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${f[b]}"], .model-circle[data-model="${f[b]}"]`).forEach(C=>{C.style.opacity=1})},$=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})},w=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})},E=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${b.model}"], .model-circle[data-model="${b.model}"]`).forEach(C=>{C.style.opacity=1})},g=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${b.model}"], .model-circle[data-model="${b.model}"]`).forEach(C=>{C.style.opacity=1})},k=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})},D=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})};function S(){p=this.offsetWidth,d=this.offsetHeight,n(1,p),n(0,d)}return e.$$.update=()=>{e.$$.dirty[0]&2&&n(5,r=p-h.left-h.right),e.$$.dirty[0]&1&&n(4,i=d-h.top-h.bottom),e.$$.dirty[0]&32&&n(3,o=nr().domain(le.map(b=>b.QID)).padding(.3).range([h.left,r-h.right])),e.$$.dirty[0]&16&&n(2,l=nr().domain(le.map(b=>b.rank)).padding(1).range([h.top,i-h.bottom])),e.$$.dirty[0]&12&&n(7,s=Sl().x(b=>o(b.QID)).y(b=>l(b.rank)))},n(8,a=Et().domain(le.map(b=>b.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),n(6,u=f.map(b=>le.filter(C=>C.model===b))),[d,p,l,o,i,r,u,s,a,m,f,h,_,v,x,$,w,E,g,k,D,S]}class ia extends He{constructor(t){super(),Le(this,t,ra,na,Ae,{},null,[-1,-1])}}function Qr(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Rr(e,t,n){const r=e.slice();return r[15]=t[n],r}function Fr(e,t,n){const r=e.slice();return r[15]=t[n],r}function jr(e){let t,n,r=e[15]+"",i,o;return{c(){t=F("g"),n=F("text"),i=B(r),c(n,"class","axis-text svelte-197t4ft"),c(n,"x","-5"),c(n,"y","0"),c(n,"text-anchor","end"),c(t,"transform",o=`translate(${e[8].left} ${e[6](e[15])+e[6].bandwidth()/2})`)},m(l,a){H(l,t,a),y(t,n),y(n,i)},p(l,a){a&64&&o!==(o=`translate(${l[8].left} ${l[6](l[15])+l[6].bandwidth()/2})`)&&c(t,"transform",o)},d(l){l&&j(t)}}}function Lr(e){let t,n,r=e[15]+"",i,o;return{c(){t=F("g"),n=F("text"),i=B(r),c(n,"class","axis-text svelte-197t4ft"),c(n,"y","15"),c(n,"text-anchor","middle"),c(t,"transform",o=`translate(${e[5](e[15])}, ${e[3]-e[8].bottom})`)},m(l,a){H(l,t,a),y(t,n),y(n,i)},p(l,a){a&32&&r!==(r=l[15]+"")&&ke(i,r),a&40&&o!==(o=`translate(${l[5](l[15])}, ${l[3]-l[8].bottom})`)&&c(t,"transform",o)},d(l){l&&j(t)}}}function Hr(e){let t,n=e[15]%2==0&&Lr(e);return{c(){n&&n.c(),t=ye()},m(r,i){n&&n.m(r,i),H(r,t,i)},p(r,i){r[15]%2==0?n?n.p(r,i):(n=Lr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&j(t)}}}function Gr(e){let t,n,r,i,o,l,a=e[12].avgRank.toFixed(2)+"",s,u,m;return{c(){t=F("rect"),l=F("text"),s=B(a),c(t,"y",n=e[6](e[12].model)),c(t,"x",e[8].left),c(t,"width",r=e[5](e[12].avgRank)-e[8].left),c(t,"height",i=e[6].bandwidth()),c(t,"fill",o=e[4](e[12].model)),c(t,"class","model-path"),c(t,"data-model",e[9][e[14]]),c(l,"class","label-text"),c(l,"y",u=e[6](e[12].model)+e[6].bandwidth()/2),c(l,"x",m=e[5](e[12].avgRank)+5),c(l,"text-anchor","start"),c(l,"dominant-baseline","middle")},m(f,d){H(f,t,d),H(f,l,d),y(l,s)},p(f,d){d&64&&n!==(n=f[6](f[12].model))&&c(t,"y",n),d&32&&r!==(r=f[5](f[12].avgRank)-f[8].left)&&c(t,"width",r),d&64&&i!==(i=f[6].bandwidth())&&c(t,"height",i),d&16&&o!==(o=f[4](f[12].model))&&c(t,"fill",o),d&64&&u!==(u=f[6](f[12].model)+f[6].bandwidth()/2)&&c(l,"y",u),d&32&&m!==(m=f[5](f[12].avgRank)+5)&&c(l,"x",m)},d(f){f&&j(t),f&&j(l)}}}function oa(e){let t,n,r,i,o,l,a,s,u,m,f,d,p=e[7].map(zr),h=[];for(let w=0;w<p.length;w+=1)h[w]=jr(Fr(e,p,w));let _=e[5].ticks(),v=[];for(let w=0;w<_.length;w+=1)v[w]=Hr(Rr(e,_,w));let x=e[7],$=[];for(let w=0;w<x.length;w+=1)$[w]=Gr(Qr(e,x,w));return{c(){t=N("div"),n=F("svg");for(let w=0;w<h.length;w+=1)h[w].c();r=ye();for(let w=0;w<v.length;w+=1)v[w].c();i=ye();for(let w=0;w<$.length;w+=1)$[w].c();o=F("line"),u=F("text"),m=B("Average Rank"),f=F("text"),c(o,"class","axis-line svelte-197t4ft"),c(o,"x1",e[8].left),c(o,"x2",l=e[2]-e[8].right),c(o,"y1",a=e[3]-e[8].bottom),c(o,"y2",s=e[3]-e[8].bottom),c(u,"class","chart-title"),c(u,"y",e[8].top/2),c(u,"x",e[8].left),c(u,"text-anchor","start"),c(f,"class","chart-subtitle"),c(f,"y",e[8].top/2+15),c(f,"x",e[8].left),c(f,"opacity",".6"),c(f,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","bar-chart-holder"),c(t,"class","svelte-197t4ft"),it(()=>e[10].call(t))},m(w,E){H(w,t,E),y(t,n);for(let g=0;g<h.length;g+=1)h[g]&&h[g].m(n,null);y(n,r);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(n,null);y(n,i);for(let g=0;g<$.length;g+=1)$[g]&&$[g].m(n,null);y(n,o),y(n,u),y(u,m),y(n,f),d=An(t,e[10].bind(t))},p(w,[E]){if(E&448){p=w[7].map(zr);let g;for(g=0;g<p.length;g+=1){const k=Fr(w,p,g);h[g]?h[g].p(k,E):(h[g]=jr(k),h[g].c(),h[g].m(n,r))}for(;g<h.length;g+=1)h[g].d(1);h.length=p.length}if(E&296){_=w[5].ticks();let g;for(g=0;g<_.length;g+=1){const k=Rr(w,_,g);v[g]?v[g].p(k,E):(v[g]=Hr(k),v[g].c(),v[g].m(n,i))}for(;g<v.length;g+=1)v[g].d(1);v.length=_.length}if(E&1008){x=w[7];let g;for(g=0;g<x.length;g+=1){const k=Qr(w,x,g);$[g]?$[g].p(k,E):($[g]=Gr(k),$[g].c(),$[g].m(n,o))}for(;g<$.length;g+=1)$[g].d(1);$.length=x.length}E&4&&l!==(l=w[2]-w[8].right)&&c(o,"x2",l),E&8&&a!==(a=w[3]-w[8].bottom)&&c(o,"y1",a),E&8&&s!==(s=w[3]-w[8].bottom)&&c(o,"y2",s),E&2&&c(n,"width",w[1]),E&1&&c(n,"height",w[0])},i:V,o:V,d(w){w&&j(t),he(h,w),he(v,w),he($,w),d()}}}const zr=e=>e.model;function la(e,t,n){let r,i,o,l,a;const s=le.reduce((_,v)=>(_[v.model]?(_[v.model].sum+=v.rank,_[v.model].count++):_[v.model]={sum:v.rank,count:1},_),{}),u=Object.keys(s).map(_=>({model:_,avgRank:s[_].sum/s[_].count}));let m=300,f=500,d={top:50,bottom:0,left:65,right:15},p=Array.from(new Set(le.map(_=>_.model)));function h(){f=this.offsetWidth,m=this.offsetHeight,n(1,f),n(0,m)}return e.$$.update=()=>{e.$$.dirty&2&&n(2,r=f-d.left-d.right),e.$$.dirty&1&&n(3,i=m-d.top-d.bottom),e.$$.dirty&8&&n(6,o=bt().rangeRound([d.top,i-d.bottom]).padding(.05).domain(u.map(_=>_.model))),e.$$.dirty&4&&n(5,l=Qn().rangeRound([d.left,r-d.right]).domain([0,mi(u,_=>_.avgRank)]))},n(4,a=Et().domain(u.map(_=>_.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),[m,f,r,i,a,l,o,u,d,p,h]}class aa extends He{constructor(t){super(),Le(this,t,la,oa,Ae,{})}}function Br(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Xr(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Yr(e,t,n){const r=e.slice();return r[22]=t[n],r}function Wr(e){let t,n=e[22].key+"",r,i,o;function l(){return e[10](e[22])}return{c(){t=N("th"),r=B(n),c(t,"class","svelte-owgjbp")},m(a,s){H(a,t,s),y(t,r),i||(o=re(t,"click",l),i=!0)},p(a,s){e=a},d(a){a&&j(t),i=!1,o()}}}function Ur(e,t){let n,r=(t[19][t[22].key].length>Zr&&t[5]!==`${t[21]}-${t[24]}`?`${t[19][t[22].key].substring(0,40)}...`:t[19][t[22].key])+"",i,o,l;function a(){return t[11](t[21],t[24])}return{key:e,first:null,c(){n=N("td"),i=B(r),c(n,"class","cell-type-"+t[22].type+" svelte-owgjbp"),Se(n,"background",t[22].key==="change"?t[6](t[19][t[22].key]):"none"),Bn(n,"active",t[5]===`${t[21]}-${t[24]}`),this.first=n},m(s,u){H(s,n,u),y(n,i),o||(l=re(n,"click",a),o=!0)},p(s,u){t=s,u&48&&r!==(r=(t[19][t[22].key].length>Zr&&t[5]!==`${t[21]}-${t[24]}`?`${t[19][t[22].key].substring(0,40)}...`:t[19][t[22].key])+"")&&ke(i,r),u&16&&Se(n,"background",t[22].key==="change"?t[6](t[19][t[22].key]):"none"),u&160&&Bn(n,"active",t[5]===`${t[21]}-${t[24]}`)},d(s){s&&j(n),o=!1,l()}}}function Vr(e){let t,n=[],r=new Map,i,o=e[7];const l=a=>a[22].key;for(let a=0;a<o.length;a+=1){let s=Xr(e,o,a),u=l(s);r.set(u,n[a]=Ur(u,s))}return{c(){t=N("tr");for(let a=0;a<n.length;a+=1)n[a].c();i=W(),c(t,"class","svelte-owgjbp")},m(a,s){H(a,t,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);y(t,i)},p(a,s){s&240&&(o=a[7],n=vt(n,s,l,1,a,o,r,t,_t,Ur,i,Xr))},d(a){a&&j(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}function sa(e){let t,n,r,i,o,l,a,s,u,m=e[7],f=[];for(let h=0;h<m.length;h+=1)f[h]=Wr(Yr(e,m,h));let d=e[4],p=[];for(let h=0;h<d.length;h+=1)p[h]=Vr(Br(e,d,h));return{c(){t=N("div"),n=N("div"),r=N("table"),i=N("thead");for(let h=0;h<f.length;h+=1)f[h].c();o=W(),l=N("tbody");for(let h=0;h<p.length;h+=1)p[h].c();s=W(),u=N("br"),c(i,"class","svelte-owgjbp"),c(l,"class","svelte-owgjbp"),c(r,"class",a="pretty-table "+e[0].style+" svelte-owgjbp"),c(n,"class","svelte-owgjbp"),c(u,"class","svelte-owgjbp"),c(t,"class","table svelte-owgjbp")},m(h,_){H(h,t,_),y(t,n),y(n,r),y(r,i);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(i,null);y(r,o),y(r,l);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(l,null);y(t,s),y(t,u)},p(h,[_]){if(_&142){m=h[7];let v;for(v=0;v<m.length;v+=1){const x=Yr(h,m,v);f[v]?f[v].p(x,_):(f[v]=Wr(x),f[v].c(),f[v].m(i,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=m.length}if(_&240){d=h[4];let v;for(v=0;v<d.length;v+=1){const x=Br(h,d,v);p[v]?p[v].p(x,_):(p[v]=Vr(x),p[v].c(),p[v].m(l,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=d.length}_&1&&a!==(a="pretty-table "+h[0].style+" svelte-owgjbp")&&c(r,"class",a)},i:V,o:V,d(h){h&&j(t),he(f,h),he(p,h)}}}let Zr=25,ua=0;function fa(e,t,n){let{data:r}=t,{options:i}=t;const o=tn(".2f");function l(E){let g=E.reduce((D,S)=>(D[S.model]||(D[S.model]=[]),D[S.model].push(S.rank),D),{});return Object.entries(g).map(([D,S])=>{let b=S.reduce((T,R)=>(T[R]=(T[R]||0)+1,T),{}),C=Object.entries(b).reduce((T,R)=>R[1]>T[1]?R:T)[0];return{model:D,overall_rank:Number(C),average_rank:o(Eo(S)),standard_deviation_rank:o(ho(S))}})}let a=l(r);console.log("mssssd",a),i={...{columns:{},style:"normal",paged:25},...i};const u=Qn().domain([-1,0,1]).range(["#FF5470","#f8f8f8","#00ebc7"]);let{sortable:m,index:f,paged:d}=i,p,h=!0;if(m&&f)throw new Error("A table can either be ranked or sortable, but not both");let _=Object.keys(a[0]).map(E=>{const g=i.columns[E]||{};return{key:E,type:g.type||typeof a[0][E],options:g}}),v=[];f=1,m=1;let x=null;const $=E=>{m&&(p===E.key&&n(2,h=!h),n(1,p=E.key))},w=(E,g)=>{n(5,x=x===`${E}-${g}`?null:`${E}-${g}`)};return e.$$set=E=>{"data"in E&&n(8,r=E.data),"options"in E&&n(0,i=E.options)},e.$$.update=()=>{if(e.$$.dirty&774){p&&n(9,a=a.slice().sort((g,k)=>{let D=g[p],S=k[p];if(D==S)return JSON.stringify(g).localeCompare(JSON.stringify(k));let b=D>S?1:D<S?-1:0;return h&&(b=-b),b}));let E=ua*d;n(4,v=a.slice(E,E+(d||a.length))),d&&Math.ceil(r.length/d)}},[i,p,h,m,v,x,u,_,r,a,$,w]}class ca extends He{constructor(t){super(),Le(this,t,fa,sa,Ae,{data:8,options:0})}}function Kr(e,t,n){const r=e.slice();return r[17]=t[n],r}function Jr(e,t,n){const r=e.slice();return r[20]=t[n],r}function ei(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function ti(e){let t,n=e[23]+"",r,i,o,l=e[23]+"",a,s;return{c(){t=F("text"),r=B(n),o=F("text"),a=B(l),c(t,"class","axis-text svelte-t6wv8i"),c(t,"x",i=e[7].left+e[3](e[23])+e[3].bandwidth()/2),c(t,"y",e[7].top-10),c(t,"text-anchor","middle"),c(o,"class","axis-text svelte-t6wv8i"),c(o,"x",e[7].left-10),c(o,"y",s=e[7].top+e[2](e[23])+e[2].bandwidth()/2),c(o,"text-anchor","end"),c(o,"dominant-baseline","middle")},m(u,m){H(u,t,m),y(t,r),H(u,o,m),y(o,a)},p(u,m){m&8&&i!==(i=u[7].left+u[3](u[23])+u[3].bandwidth()/2)&&c(t,"x",i),m&4&&s!==(s=u[7].top+u[2](u[23])+u[2].bandwidth()/2)&&c(o,"y",s)},d(u){u&&j(t),u&&j(o)}}}function ni(e){let t,n,r,i,o,l,a=e[4](e[5][e[17]][e[20]])+"",s,u,m;return{c(){t=F("rect"),l=F("text"),s=B(a),c(t,"x",n=e[7].left+e[3](e[20])),c(t,"y",r=e[7].top+e[2](e[17])),c(t,"width",i=e[3].bandwidth()),c(t,"height",o=e[2].bandwidth()),c(t,"fill",e[8](e[17],e[20])),c(t,"rx","4"),c(t,"ry","4"),c(t,"class","model-path"),c(t,"data-model",e[17]),c(l,"x",u=e[7].left+e[3](e[20])+e[3].bandwidth()/2),c(l,"y",m=e[7].top+e[2](e[17])+e[2].bandwidth()/2),c(l,"text-anchor","middle"),c(l,"dominant-baseline","middle"),c(l,"class","model-path"),c(l,"data-model",e[17])},m(f,d){H(f,t,d),H(f,l,d),y(l,s)},p(f,d){d&8&&n!==(n=f[7].left+f[3](f[20]))&&c(t,"x",n),d&4&&r!==(r=f[7].top+f[2](f[17]))&&c(t,"y",r),d&8&&i!==(i=f[3].bandwidth())&&c(t,"width",i),d&4&&o!==(o=f[2].bandwidth())&&c(t,"height",o),d&8&&u!==(u=f[7].left+f[3](f[20])+f[3].bandwidth()/2)&&c(l,"x",u),d&4&&m!==(m=f[7].top+f[2](f[17])+f[2].bandwidth()/2)&&c(l,"y",m)},d(f){f&&j(t),f&&j(l)}}}function ri(e){let t,n=e[6],r=[];for(let i=0;i<n.length;i+=1)r[i]=ni(Jr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ye()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);H(i,t,o)},p(i,o){if(o&508){n=i[6];let l;for(l=0;l<n.length;l+=1){const a=Jr(i,n,l);r[l]?r[l].p(a,o):(r[l]=ni(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){he(r,i),i&&j(t)}}}function da(e){let t,n,r,i,o,l,a,s=e[6],u=[];for(let d=0;d<s.length;d+=1)u[d]=ti(ei(e,s,d));let m=e[6],f=[];for(let d=0;d<m.length;d+=1)f[d]=ri(Kr(e,m,d));return{c(){t=N("div"),n=F("svg");for(let d=0;d<u.length;d+=1)u[d].c();r=ye();for(let d=0;d<f.length;d+=1)f[d].c();i=F("text"),o=B("Relative Performance"),l=F("text"),c(i,"class","chart-title"),c(i,"y",e[7].top/2),c(i,"x",e[7].left),c(i,"text-anchor","start"),c(l,"class","chart-subtitle svelte-t6wv8i"),c(l,"y",e[7].top/2+15),c(l,"x",e[7].left),c(l,"opacity",".6"),c(l,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","heatmap-holder"),c(t,"class","svelte-t6wv8i"),it(()=>e[12].call(t))},m(d,p){H(d,t,p),y(t,n);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(n,null);y(n,r);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(n,null);y(n,i),y(i,o),y(n,l),a=An(t,e[12].bind(t))},p(d,[p]){if(p&204){s=d[6];let h;for(h=0;h<s.length;h+=1){const _=ei(d,s,h);u[h]?u[h].p(_,p):(u[h]=ti(_),u[h].c(),u[h].m(n,r))}for(;h<u.length;h+=1)u[h].d(1);u.length=s.length}if(p&508){m=d[6];let h;for(h=0;h<m.length;h+=1){const _=Kr(d,m,h);f[h]?f[h].p(_,p):(f[h]=ri(_),f[h].c(),f[h].m(n,i))}for(;h<f.length;h+=1)f[h].d(1);f.length=m.length}p&2&&c(n,"width",d[1]),p&1&&c(n,"height",d[0])},i:V,o:V,d(d){d&&j(t),he(u,d),he(f,d),a()}}}function ha(e){let t=e.reduce((i,o)=>(i[o.QID]||(i[o.QID]=[]),i[o.QID].push(o),i),{}),n=Array.from(new Set(e.map(i=>i.model))),r=n.reduce((i,o)=>(i[o]=n.reduce((l,a)=>(l[a]={sum:0,count:0},l),{}),i),{});for(let i in t){let o=t[i];for(let l of n)for(let a of n){let s=o.find(m=>m.model===l),u=o.find(m=>m.model===a);s&&u&&(r[l][a].sum+=u.rank-s.rank,r[l][a].count++)}}for(let i in r)for(let o in r[i])r[i][o].count>0?r[i][o]=r[i][o].sum/r[i][o].count:r[i][o]=0;return r}function ma(e,t,n){let r,i,o,l,a;const s=tn(".1f");let u=ha(le),m=Array.from(new Set(le.map(w=>w.model))),f=500,d=500,p={top:50,bottom:0,left:65,right:25},h=Object.values(u).flatMap(w=>Object.values(w)),_=ko(h),v=mi(h);function x(w,E){let g=u[w][E];return g===0?"white":g>=0?a(w):a(E)}function $(){d=this.offsetWidth,f=this.offsetHeight,n(1,d),n(0,f)}return e.$$.update=()=>{e.$$.dirty&2&&n(11,r=d-p.left-p.right),e.$$.dirty&1&&n(10,i=f-p.top-p.bottom),e.$$.dirty&2048&&n(3,o=bt().range([0,r]).domain(m).padding(.05)),e.$$.dirty&1024&&n(2,l=bt().range([0,i]).domain(m).padding(.05)),e.$$.dirty&512&&m.reduce((w,E)=>(w[E]=Ei().domain([_,v]).interpolator(En("white",a(E))),w),{})},n(9,a=Et().domain(m).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),[f,d,l,o,s,u,m,p,x,a,i,r,$]}class pa extends He{constructor(t){super(),Le(this,t,ma,da,Ae,{})}}function ga(e){let t,n,r,i,o,l,a,s,u,m,f,d,p,h,_,v,x,$,w,E,g,k,D,S,b,C;return p=new ia({}),v=new ca({props:{data:le,options:e[0]}}),k=new aa({}),b=new pa({}),{c(){t=N("div"),n=N("div"),n.innerHTML=`<h5 class="underline bold svelte-1hw8w93">Comparisons</h5> 
    <p class="svelte-1hw8w93">This panes represents the training performance of your model.</p> 
    <button class="svelte-1hw8w93">Download Data</button>`,r=W(),i=N("div"),o=N("div"),l=N("div"),a=N("h4"),a.textContent="Model Comparisons",s=W(),u=N("p"),u.textContent=`View the performance of your model over time. GPU stats are available
          to the right.`,m=W(),f=W(),d=N("div"),Ke(p.$$.fragment),h=W(),_=N("div"),Ke(v.$$.fragment),x=W(),$=N("div"),w=N("div"),E=W(),g=N("div"),Ke(k.$$.fragment),D=W(),S=N("div"),Ke(b.$$.fragment),c(n,"class","instructions svelte-1hw8w93"),c(a,"class","svelte-1hw8w93"),c(u,"class","svelte-1hw8w93"),c(l,"class","chart-captions svelte-1hw8w93"),c(d,"class","eval-main"),c(_,"class","eval-table svelte-1hw8w93"),c(o,"class","left-charts svelte-1hw8w93"),c(w,"class","right-chart-1 svelte-1hw8w93"),c(g,"class","right-chart-2 svelte-1hw8w93"),c(S,"class","right-chart-3 svelte-1hw8w93"),c($,"class","right-charts svelte-1hw8w93"),c(i,"class","eval-container svelte-1hw8w93"),c(t,"class","main-container svelte-1hw8w93")},m(T,R){H(T,t,R),y(t,n),y(t,r),y(t,i),y(i,o),y(o,l),y(l,a),y(l,s),y(l,u),y(l,m),y(o,f),y(o,d),Qe(p,d,null),y(o,h),y(o,_),Qe(v,_,null),y(i,x),y(i,$),y($,w),y($,E),y($,g),Qe(k,g,null),y($,D),y($,S),Qe(b,S,null),C=!0},p:V,i(T){C||(Ie(p.$$.fragment,T),Ie(v.$$.fragment,T),Ie(k.$$.fragment,T),Ie(b.$$.fragment,T),C=!0)},o(T){Ze(p.$$.fragment,T),Ze(v.$$.fragment,T),Ze(k.$$.fragment,T),Ze(b.$$.fragment,T),C=!1},d(T){T&&j(t),Re(p),Re(v),Re(k),Re(b)}}}function _a(e){let t={},n=Array.from(new Set(le.map(r=>r.model)));return[t,n]}class va extends He{constructor(t){super(),Le(this,t,_a,ga,Ae,{})}}function ii(e,t,n){const r=e.slice();return r[6]=t[n],r}function oi(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=li(ii(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ye()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);H(i,t,o)},p(i,o){if(o&5){n=i[0];let l;for(l=0;l<n.length;l+=1){const a=ii(i,n,l);r[l]?r[l].p(a,o):(r[l]=li(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){he(r,i),i&&j(t)}}}function li(e){let t,n=e[6].svelte_component+"",r,i,o,l;function a(){return e[3](e[6])}return{c(){t=N("button"),r=B(n),c(t,"aria-label",i=`Load ${e[6].svelte_component} component`)},m(s,u){H(s,t,u),y(t,r),o||(l=re(t,"click",a),o=!0)},p(s,u){e=s,u&1&&n!==(n=e[6].svelte_component+"")&&ke(r,n),u&1&&i!==(i=`Load ${e[6].svelte_component} component`)&&c(t,"aria-label",i)},d(s){s&&j(t),o=!1,l()}}}function ba(e){let t,n,r,i,o,l=e[0].length>1&&oi(e);return n=new ta({}),i=new va({}),{c(){l&&l.c(),t=W(),Ke(n.$$.fragment),r=W(),Ke(i.$$.fragment)},m(a,s){l&&l.m(a,s),H(a,t,s),Qe(n,a,s),H(a,r,s),Qe(i,a,s),o=!0},p(a,[s]){a[0].length>1?l?l.p(a,s):(l=oi(a),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i(a){o||(Ie(n.$$.fragment,a),Ie(i.$$.fragment,a),o=!0)},o(a){Ze(n.$$.fragment,a),Ze(i.$$.fragment,a),o=!1},d(a){l&&l.d(a),a&&j(t),Re(n,a),a&&j(r),Re(i,a)}}}function wa(e,t,n){let r;const i=Ht([]);si(e,i,s=>n(0,r=s));const o=Ht(null),l=s=>{o.set(s)};return fetch("/components").then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{i.set(s),o.set(s[0])}).catch(s=>{console.log("Fetch request failed",s)}),[r,i,l,s=>l(s)]}class ya extends He{constructor(t){super(),Le(this,t,wa,ba,Ae,{})}}new ya({target:document.getElementById("app")});
