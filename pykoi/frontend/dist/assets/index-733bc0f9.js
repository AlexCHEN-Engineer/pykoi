(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function V(){}const Li=e=>e;function Gn(e,t){for(const n in t)e[n]=t[n];return e}function ai(e){return e()}function zn(){return Object.create(null)}function Ce(e){e.forEach(ai)}function en(e){return typeof e=="function"}function Ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Hi(e){return Object.keys(e).length===0}function Gi(e,...t){if(e==null)return V;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function si(e,t,n){e.$$.on_destroy.push(Gi(t,n))}function zi(e,t,n){return e.set(n),t}function Bi(e){return e&&en(e.destroy)?e.destroy:V}const ui=typeof window<"u";let Xi=ui?()=>window.performance.now():()=>Date.now(),fi=ui?e=>requestAnimationFrame(e):V;const et=new Set;function ci(e){et.forEach(t=>{t.c(e)||(et.delete(t),t.f())}),et.size!==0&&fi(ci)}function Yi(e){let t;return et.size===0&&fi(ci),{promise:new Promise(n=>{et.add(t={c:e,f:n})}),abort(){et.delete(t)}}}function y(e,t){e.appendChild(t)}function G(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function he(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e){return document.createTextNode(e)}function Q(){return X(" ")}function ye(){return X("")}function re(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Wi(e){return Array.from(e.childNodes)}function ke(e,t){t=""+t,e.data!==t&&(e.data=t)}function Bn(e,t){e.value=t??""}function $e(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Dt;function Qi(){if(Dt===void 0){Dt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Dt=!0}}return Dt}function An(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=N("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Qi();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=re(window,"message",l=>{l.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=re(r.contentWindow,"resize",t),t()}),y(e,r),()=>{(i||o&&r.contentWindow)&&o(),L(r)}}function Xn(e,t,n){e.classList[n?"add":"remove"](t)}let gt;function ft(e){gt=e}function Ui(){if(!gt)throw new Error("Function called outside component initialization");return gt}function Vi(e){Ui().$$.on_mount.push(e)}const Ue=[],vn=[];let tt=[];const Yn=[],Zi=Promise.resolve();let bn=!1;function Ji(){bn||(bn=!0,Zi.then(di))}function it(e){tt.push(e)}const on=new Set;let Be=0;function di(){if(Be!==0)return;const e=gt;do{try{for(;Be<Ue.length;){const t=Ue[Be];Be++,ft(t),Ki(t.$$)}}catch(t){throw Ue.length=0,Be=0,t}for(ft(null),Ue.length=0,Be=0;vn.length;)vn.pop()();for(let t=0;t<tt.length;t+=1){const n=tt[t];on.has(n)||(on.add(n),n())}tt.length=0}while(Ue.length);for(;Yn.length;)Yn.pop()();bn=!1,on.clear(),ft(e)}function Ki(e){if(e.fragment!==null){e.update(),Ce(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(it)}}function eo(e){const t=[],n=[];tt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),tt=t}const Ot=new Set;let to;function Te(e,t){e&&e.i&&(Ot.delete(e),e.i(t))}function Ze(e,t,n,r){if(e&&e.o){if(Ot.has(e))return;Ot.add(e),to.c.push(()=>{Ot.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function _t(e,t){e.d(1),t.delete(e.key)}function vt(e,t,n,r,i,o,l,a,s,u,m,f){let d=e.length,p=o.length,h=d;const _={};for(;h--;)_[e[h].key]=h;const v=[],x=new Map,M=new Map,b=[];for(h=p;h--;){const S=f(i,o,h),$=n(S);let w=l.get($);w?r&&b.push(()=>w.p(S,t)):(w=u($,S),w.c()),x.set($,v[h]=w),$ in _&&M.set($,Math.abs(h-_[$]))}const E=new Set,g=new Set;function k(S){Te(S,1),S.m(a,m),l.set(S.key,S),m=S.first,p--}for(;d&&p;){const S=v[p-1],$=e[d-1],w=S.key,C=$.key;S===$?(m=S.first,d--,p--):x.has(C)?!l.has(w)||E.has(w)?k(S):g.has(C)?d--:M.get(w)>M.get(C)?(g.add(w),k(S)):(E.add(C),d--):(s($,l),d--)}for(;d--;){const S=e[d];x.has(S.key)||s(S,l)}for(;p;)k(v[p-1]);return Ce(b),v}function Je(e){e&&e.c()}function Re(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||it(()=>{const l=e.$$.on_mount.map(ai).filter(en);e.$$.on_destroy?e.$$.on_destroy.push(...l):Ce(l),e.$$.on_mount=[]}),o.forEach(it)}function Fe(e,t){const n=e.$$;n.fragment!==null&&(eo(n.after_update),Ce(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function no(e,t){e.$$.dirty[0]===-1&&(Ue.push(e),Ji(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function He(e,t,n,r,i,o,l,a=[-1]){const s=gt;ft(e);const u=e.$$={fragment:null,ctx:[],props:o,update:V,not_equal:i,bound:zn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:zn(),dirty:a,skip_bound:!1,root:t.target||s.$$.root};l&&l(u.root);let m=!1;if(u.ctx=n?n(e,t.props||{},(f,d,...p)=>{const h=p.length?p[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),m&&no(e,f)),d}):[],u.update(),m=!0,Ce(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const f=Wi(t.target);u.fragment&&u.fragment.l(f),f.forEach(L)}else u.fragment&&u.fragment.c();t.intro&&Te(e.$$.fragment),Re(e,t.target,t.anchor,t.customElement),di()}ft(s)}class Ge{$destroy(){Fe(this,1),this.$destroy=V}$on(t,n){if(!en(n))return V;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Hi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Xe=[];function Gt(e,t=V){let n;const r=new Set;function i(a){if(Ae(e,a)&&(e=a,n)){const s=!Xe.length;for(const u of r)u[1](),Xe.push(u,e);if(s){for(let u=0;u<Xe.length;u+=2)Xe[u][0](Xe[u+1]);Xe.length=0}}}function o(a){i(a(e))}function l(a,s=V){const u=[a,s];return r.add(u),r.size===1&&(n=t(i)||V),a(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}function Wn(e){return Object.prototype.toString.call(e)==="[object Date]"}function wn(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,o)=>wn(e[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Wn(e)&&Wn(t)){e=e.getTime(),t=t.getTime();const o=t-e;return l=>new Date(e+l*o)}const r=Object.keys(t),i={};return r.forEach(o=>{i[o]=wn(e[o],t[o])}),o=>{const l={};return r.forEach(a=>{l[a]=i[a](o)}),l}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function ro(e,t={}){const n=Gt(e);let r,i=e;function o(l,a){if(e==null)return n.set(e=l),Promise.resolve();i=l;let s=r,u=!1,{delay:m=0,duration:f=400,easing:d=Li,interpolate:p=wn}=Gn(Gn({},t),a);if(f===0)return s&&(s.abort(),s=null),n.set(e=i),Promise.resolve();const h=Xi()+m;let _;return r=Yi(v=>{if(v<h)return!0;u||(_=p(e,l),typeof f=="function"&&(f=f(e,l)),u=!0),s&&(s.abort(),s=null);const x=v-h;return x>f?(n.set(e=l),!1):(n.set(e=_(d(x/f))),!0)}),r.promise}return{set:o,update:(l,a)=>o(l(i,e),a),subscribe:n.subscribe}}const ln=Gt([]),io=["Who","What","How","Why","Where","Does","Can","N/A"];ro(io.map(e=>({question:e,count:0})));/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qn(Object(n),!0).forEach(function(r){oo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function It(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?It=function(t){return typeof t}:It=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function lo(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ao(e,t){if(e==null)return{};var n=lo(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var so="1.15.0";function we(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Se=we(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Et=we(/Edge/i),Un=we(/firefox/i),ct=we(/safari/i)&&!we(/chrome/i)&&!we(/android/i),hi=we(/iP(ad|od|hone)/i),mi=we(/chrome/i)&&we(/android/i),pi={capture:!1,passive:!1};function z(e,t,n){e.addEventListener(t,n,!Se&&pi)}function H(e,t,n){e.removeEventListener(t,n,!Se&&pi)}function zt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function uo(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&zt(e,t):zt(e,t))||r&&e===n)return e;if(e===n)break}while(e=uo(e))}return null}var Vn=/\s+/g;function ue(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Vn," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Vn," ")}}function O(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function nt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=O(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function gi(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function _e(){var e=document.scrollingElement;return e||document.documentElement}function K(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,l,a,s,u,m,f;if(e!==window&&e.parentNode&&e!==_e()?(o=e.getBoundingClientRect(),l=o.top,a=o.left,s=o.bottom,u=o.right,m=o.height,f=o.width):(l=0,a=0,s=window.innerHeight,u=window.innerWidth,m=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!Se))do if(i&&i.getBoundingClientRect&&(O(i,"transform")!=="none"||n&&O(i,"position")!=="static")){var d=i.getBoundingClientRect();l-=d.top+parseInt(O(i,"border-top-width")),a-=d.left+parseInt(O(i,"border-left-width")),s=l+o.height,u=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var p=nt(i||e),h=p&&p.a,_=p&&p.d;p&&(l/=_,a/=h,f/=h,m/=_,s=l+m,u=a+f)}return{top:l,left:a,bottom:s,right:u,width:f,height:m}}}function Zn(e,t,n){for(var r=qe(e,!0),i=K(e)[t];r;){var o=K(r)[n],l=void 0;if(n==="top"||n==="left"?l=i>=o:l=i<=o,!l)return r;if(r===_e())break;r=qe(r,!1)}return!1}function ot(e,t,n,r){for(var i=0,o=0,l=e.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==P.ghost&&(r||l[o]!==P.dragged)&&ge(l[o],n.draggable,e,!1)){if(i===t)return l[o];i++}o++}return null}function Nn(e,t){for(var n=e.lastElementChild;n&&(n===P.ghost||O(n,"display")==="none"||t&&!zt(n,t));)n=n.previousElementSibling;return n||null}function de(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==P.clone&&(!t||zt(e,t))&&n++;return n}function Jn(e){var t=0,n=0,r=_e();if(e)do{var i=nt(e),o=i.a,l=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function fo(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function qe(e,t){if(!e||!e.getBoundingClientRect)return _e();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=O(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return _e();if(r||t)return n;r=!0}}while(n=n.parentNode);return _e()}function co(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function an(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var dt;function _i(e,t){return function(){if(!dt){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),dt=setTimeout(function(){dt=void 0},t)}}}function ho(){clearTimeout(dt),dt=void 0}function vi(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function bi(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ce="Sortable"+new Date().getTime();function mo(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(O(i,"display")==="none"||i===P.ghost)){e.push({target:i,rect:K(i)});var o=be({},e[e.length-1].rect);if(i.thisAnimationDuration){var l=nt(i,!0);l&&(o.top-=l.f,o.left-=l.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(fo(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,l=0;e.forEach(function(a){var s=0,u=a.target,m=u.fromRect,f=K(u),d=u.prevFromRect,p=u.prevToRect,h=a.rect,_=nt(u,!0);_&&(f.top-=_.f,f.left-=_.e),u.toRect=f,u.thisAnimationDuration&&an(d,f)&&!an(m,f)&&(h.top-f.top)/(h.left-f.left)===(m.top-f.top)/(m.left-f.left)&&(s=go(h,d,p,i.options)),an(f,m)||(u.prevFromRect=m,u.prevToRect=f,s||(s=i.options.animation),i.animate(u,h,f,s)),s&&(o=!0,l=Math.max(l,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,l){if(l){O(r,"transition",""),O(r,"transform","");var a=nt(this.el),s=a&&a.a,u=a&&a.d,m=(i.left-o.left)/(s||1),f=(i.top-o.top)/(u||1);r.animatingX=!!m,r.animatingY=!!f,O(r,"transform","translate3d("+m+"px,"+f+"px,0)"),this.forRepaintDummy=po(r),O(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),O(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){O(r,"transition",""),O(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function po(e){return e.offsetWidth}function go(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ye=[],sn={initializeByDefault:!0},St={mount:function(t){for(var n in sn)sn.hasOwnProperty(n)&&!(n in t)&&(t[n]=sn[n]);Ye.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ye.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Ye.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][o]&&n[l.pluginName][o](be({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](be({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Ye.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,Ee(r,u.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var l=this.modifyOption(t,o,t.options[o]);typeof l<"u"&&(t.options[o]=l)}},getEventProperties:function(t,n){var r={};return Ye.forEach(function(i){typeof i.eventProperties=="function"&&Ee(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Ye.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function _o(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,l=e.toEl,a=e.fromEl,s=e.oldIndex,u=e.newIndex,m=e.oldDraggableIndex,f=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[ce],!!t){var _,v=t.options,x="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Se&&!Et?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=l||n,_.from=a||n,_.item=i||n,_.clone=o,_.oldIndex=s,_.newIndex=u,_.oldDraggableIndex=m,_.newDraggableIndex=f,_.originalEvent=d,_.pullMode=p?p.lastPutMode:void 0;var M=be(be({},h),St.getEventProperties(r,t));for(var b in M)_[b]=M[b];n&&n.dispatchEvent(_),v[x]&&v[x].call(t,_)}}var vo=["evt"],oe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=ao(r,vo);St.pluginEvent.bind(P)(t,n,be({dragEl:D,parentEl:U,ghostEl:F,rootEl:Y,nextEl:Oe,lastDownEl:Rt,cloneEl:W,cloneHidden:De,dragStarted:at,putSortable:ee,activeSortable:P.active,originalEvent:i,oldIndex:Ke,oldDraggableIndex:ht,newIndex:fe,newDraggableIndex:Me,hideGhostForTarget:Ei,unhideGhostForTarget:Si,cloneNowHidden:function(){De=!0},cloneNowShown:function(){De=!1},dispatchSortableEvent:function(a){ie({sortable:n,name:a,originalEvent:i})}},o))};function ie(e){_o(be({putSortable:ee,cloneEl:W,targetEl:D,rootEl:Y,oldIndex:Ke,oldDraggableIndex:ht,newIndex:fe,newDraggableIndex:Me},e))}var D,U,F,Y,Oe,Rt,W,De,Ke,fe,ht,Me,Tt,ee,Ve=!1,Bt=!1,Xt=[],Ne,me,un,fn,Kn,er,at,We,mt,pt=!1,qt=!1,Ft,ne,cn=[],yn=!1,Yt=[],tn=typeof document<"u",xt=hi,tr=Et||Se?"cssFloat":"float",bo=tn&&!mi&&!hi&&"draggable"in document.createElement("div"),wi=function(){if(tn){if(Se)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),yi=function(t,n){var r=O(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=ot(t,0,n),l=ot(t,1,n),a=o&&O(o),s=l&&O(l),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+K(o).width,m=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+K(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[tr]==="none"||l&&r[tr]==="none"&&u+m>i)?"vertical":"horizontal"},wo=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,l=r?t.width:t.height,a=r?n.left:n.top,s=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||o===s||i+l/2===a+u/2},yo=function(t,n){var r;return Xt.some(function(i){var o=i[ce].options.emptyInsertThreshold;if(!(!o||Nn(i))){var l=K(i),a=t>=l.left-o&&t<=l.right+o,s=n>=l.top-o&&n<=l.bottom+o;if(a&&s)return r=i}}),r},ki=function(t){function n(o,l){return function(a,s,u,m){var f=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(o==null&&(l||f))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return n(o(a,s,u,m),l)(a,s,u,m);var d=(l?a:s).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var r={},i=t.group;(!i||It(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Ei=function(){!wi&&F&&O(F,"display","none")},Si=function(){!wi&&F&&O(F,"display","")};tn&&!mi&&document.addEventListener("click",function(e){if(Bt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Bt=!1,!1},!0);var Pe=function(t){if(D){t=t.touches?t.touches[0]:t;var n=yo(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[ce]._onDragOver(r)}}},ko=function(t){D&&D.parentNode[ce]._isOutsideThisEl(t.target)};function P(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ee({},t),e[ce]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yi(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:P.supportPointer!==!1&&"PointerEvent"in window&&!ct,emptyInsertThreshold:5};St.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);ki(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:bo,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?z(e,"pointerdown",this._onTapStart):(z(e,"mousedown",this._onTapStart),z(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(z(e,"dragover",this),z(e,"dragenter",this)),Xt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ee(this,mo())}P.prototype={constructor:P,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(We=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,D):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,m=i.filter;if(xo(r),!D&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ct&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ge(s,i.draggable,r,!1),!(s&&s.animated)&&Rt!==s)){if(Ke=de(s),ht=de(s,i.draggable),typeof m=="function"){if(m.call(this,t,s,this)){ie({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:r,fromEl:r}),oe("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(m&&(m=m.split(",").some(function(f){if(f=ge(u,f.trim(),r,!1),f)return ie({sortable:n,rootEl:f,name:"filter",targetEl:s,fromEl:r,toEl:r}),oe("filter",n,{evt:t}),!0}),m)){o&&t.cancelable&&t.preventDefault();return}i.handle&&!ge(u,i.handle,r,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,l=i.options,a=o.ownerDocument,s;if(r&&!D&&r.parentNode===o){var u=K(r);if(Y=o,D=r,U=D.parentNode,Oe=D.nextSibling,Rt=r,Tt=l.group,P.dragged=D,Ne={target:D,clientX:(n||t).clientX,clientY:(n||t).clientY},Kn=Ne.clientX-u.left,er=Ne.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,D.style["will-change"]="all",s=function(){if(oe("delayEnded",i,{evt:t}),P.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Un&&i.nativeDraggable&&(D.draggable=!0),i._triggerDragStart(t,n),ie({sortable:i,name:"choose",originalEvent:t}),ue(D,l.chosenClass,!0)},l.ignore.split(",").forEach(function(m){gi(D,m.trim(),dn)}),z(a,"dragover",Pe),z(a,"mousemove",Pe),z(a,"touchmove",Pe),z(a,"mouseup",i._onDrop),z(a,"touchend",i._onDrop),z(a,"touchcancel",i._onDrop),Un&&this.nativeDraggable&&(this.options.touchStartThreshold=4,D.draggable=!0),oe("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Et||Se))){if(P.eventCanceled){this._onDrop();return}z(a,"mouseup",i._disableDelayedDrag),z(a,"touchend",i._disableDelayedDrag),z(a,"touchcancel",i._disableDelayedDrag),z(a,"mousemove",i._delayedDragTouchMoveHandler),z(a,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&z(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){D&&dn(D),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;H(t,"mouseup",this._disableDelayedDrag),H(t,"touchend",this._disableDelayedDrag),H(t,"touchcancel",this._disableDelayedDrag),H(t,"mousemove",this._delayedDragTouchMoveHandler),H(t,"touchmove",this._delayedDragTouchMoveHandler),H(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?z(document,"pointermove",this._onTouchMove):n?z(document,"touchmove",this._onTouchMove):z(document,"mousemove",this._onTouchMove):(z(D,"dragend",this),z(Y,"dragstart",this._onDragStart));try{document.selection?jt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ve=!1,Y&&D){oe("dragStarted",this,{evt:n}),this.nativeDraggable&&z(document,"dragover",ko);var r=this.options;!t&&ue(D,r.dragClass,!1),ue(D,r.ghostClass,!0),P.active=this,t&&this._appendGhost(),ie({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(me){this._lastX=me.clientX,this._lastY=me.clientY,Ei();for(var t=document.elementFromPoint(me.clientX,me.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(me.clientX,me.clientY),t!==n);)n=t;if(D.parentNode[ce]._isOutsideThisEl(t),n)do{if(n[ce]){var r=void 0;if(r=n[ce]._onDragOver({clientX:me.clientX,clientY:me.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Si()}},_onTouchMove:function(t){if(Ne){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,l=F&&nt(F,!0),a=F&&l&&l.a,s=F&&l&&l.d,u=xt&&ne&&Jn(ne),m=(o.clientX-Ne.clientX+i.x)/(a||1)+(u?u[0]-cn[0]:0)/(a||1),f=(o.clientY-Ne.clientY+i.y)/(s||1)+(u?u[1]-cn[1]:0)/(s||1);if(!P.active&&!Ve){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(F){l?(l.e+=m-(un||0),l.f+=f-(fn||0)):l={a:1,b:0,c:0,d:1,e:m,f};var d="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");O(F,"webkitTransform",d),O(F,"mozTransform",d),O(F,"msTransform",d),O(F,"transform",d),un=m,fn=f,me=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!F){var t=this.options.fallbackOnBody?document.body:Y,n=K(D,!0,xt,!0,t),r=this.options;if(xt){for(ne=t;O(ne,"position")==="static"&&O(ne,"transform")==="none"&&ne!==document;)ne=ne.parentNode;ne!==document.body&&ne!==document.documentElement?(ne===document&&(ne=_e()),n.top+=ne.scrollTop,n.left+=ne.scrollLeft):ne=_e(),cn=Jn(ne)}F=D.cloneNode(!0),ue(F,r.ghostClass,!1),ue(F,r.fallbackClass,!0),ue(F,r.dragClass,!0),O(F,"transition",""),O(F,"transform",""),O(F,"box-sizing","border-box"),O(F,"margin",0),O(F,"top",n.top),O(F,"left",n.left),O(F,"width",n.width),O(F,"height",n.height),O(F,"opacity","0.8"),O(F,"position",xt?"absolute":"fixed"),O(F,"zIndex","100000"),O(F,"pointerEvents","none"),P.ghost=F,t.appendChild(F),O(F,"transform-origin",Kn/parseInt(F.style.width)*100+"% "+er/parseInt(F.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(oe("dragStart",this,{evt:t}),P.eventCanceled){this._onDrop();return}oe("setupClone",this),P.eventCanceled||(W=bi(D),W.removeAttribute("id"),W.draggable=!1,W.style["will-change"]="",this._hideClone(),ue(W,this.options.chosenClass,!1),P.clone=W),r.cloneId=jt(function(){oe("clone",r),!P.eventCanceled&&(r.options.removeCloneOnHide||Y.insertBefore(W,D),r._hideClone(),ie({sortable:r,name:"clone"}))}),!n&&ue(D,o.dragClass,!0),n?(Bt=!0,r._loopId=setInterval(r._emulateDragOver,50)):(H(document,"mouseup",r._onDrop),H(document,"touchend",r._onDrop),H(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,D)),z(document,"drop",r),O(D,"transform","translateZ(0)")),Ve=!0,r._dragStartId=jt(r._dragStarted.bind(r,n,t)),z(document,"selectstart",r),at=!0,ct&&O(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,l,a=this.options,s=a.group,u=P.active,m=Tt===s,f=a.sort,d=ee||u,p,h=this,_=!1;if(yn)return;function v(I,A){oe(I,h,be({evt:t,isOwner:m,axis:p?"vertical":"horizontal",revert:l,dragRect:i,targetRect:o,canSort:f,fromSortable:d,target:r,completed:M,onMove:function(Hn,ji){return Ct(Y,n,D,i,Hn,K(Hn),t,ji)},changed:b},A))}function x(){v("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function M(I){return v("dragOverCompleted",{insertion:I}),I&&(m?u._hideClone():u._showClone(h),h!==d&&(ue(D,ee?ee.options.ghostClass:u.options.ghostClass,!1),ue(D,a.ghostClass,!0)),ee!==h&&h!==P.active?ee=h:h===P.active&&ee&&(ee=null),d===h&&(h._ignoreWhileAnimating=r),h.animateAll(function(){v("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===D&&!D.animated||r===n&&!r.animated)&&(We=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(D.parentNode[ce]._isOutsideThisEl(t.target),!I&&Pe(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function b(){fe=de(D),Me=de(D,a.draggable),ie({sortable:h,name:"change",toEl:n,newIndex:fe,newDraggableIndex:Me,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=ge(r,a.draggable,n,!0),v("dragOver"),P.eventCanceled)return _;if(D.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||h._ignoreWhileAnimating===r)return M(!1);if(Bt=!1,u&&!a.disabled&&(m?f||(l=U!==Y):ee===this||(this.lastPutMode=Tt.checkPull(this,u,D,t))&&s.checkPut(this,u,D,t))){if(p=this._getDirection(t,r)==="vertical",i=K(D),v("dragOverValid"),P.eventCanceled)return _;if(l)return U=Y,x(),this._hideClone(),v("revert"),P.eventCanceled||(Oe?Y.insertBefore(D,Oe):Y.appendChild(D)),M(!0);var E=Nn(n,a.draggable);if(!E||Mo(t,p,this)&&!E.animated){if(E===D)return M(!1);if(E&&n===t.target&&(r=E),r&&(o=K(r)),Ct(Y,n,D,i,r,o,t,!!r)!==!1)return x(),E&&E.nextSibling?n.insertBefore(D,E.nextSibling):n.appendChild(D),U=n,b(),M(!0)}else if(E&&$o(t,p,this)){var g=ot(n,0,a,!0);if(g===D)return M(!1);if(r=g,o=K(r),Ct(Y,n,D,i,r,o,t,!1)!==!1)return x(),n.insertBefore(D,g),U=n,b(),M(!0)}else if(r.parentNode===n){o=K(r);var k=0,S,$=D.parentNode!==n,w=!wo(D.animated&&D.toRect||i,r.animated&&r.toRect||o,p),C=p?"top":"left",q=Zn(r,"top","top")||Zn(D,"top","top"),R=q?q.scrollTop:void 0;We!==r&&(S=o[C],pt=!1,qt=!w&&a.invertSwap||$),k=Do(t,r,o,p,w?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,qt,We===r);var B;if(k!==0){var J=de(D);do J-=k,B=U.children[J];while(B&&(O(B,"display")==="none"||B===F))}if(k===0||B===r)return M(!1);We=r,mt=k;var se=r.nextElementSibling,te=!1;te=k===1;var T=Ct(Y,n,D,i,r,o,t,te);if(T!==!1)return(T===1||T===-1)&&(te=T===1),yn=!0,setTimeout(So,30),x(),te&&!se?n.appendChild(D):r.parentNode.insertBefore(D,te?se:r),q&&vi(q,0,R-q.scrollTop),U=D.parentNode,S!==void 0&&!qt&&(Ft=Math.abs(S-K(r)[C])),b(),M(!0)}if(n.contains(D))return M(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){H(document,"mousemove",this._onTouchMove),H(document,"touchmove",this._onTouchMove),H(document,"pointermove",this._onTouchMove),H(document,"dragover",Pe),H(document,"mousemove",Pe),H(document,"touchmove",Pe)},_offUpEvents:function(){var t=this.el.ownerDocument;H(t,"mouseup",this._onDrop),H(t,"touchend",this._onDrop),H(t,"pointerup",this._onDrop),H(t,"touchcancel",this._onDrop),H(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(fe=de(D),Me=de(D,r.draggable),oe("drop",this,{evt:t}),U=D&&D.parentNode,fe=de(D),Me=de(D,r.draggable),P.eventCanceled){this._nulling();return}Ve=!1,qt=!1,pt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kn(this.cloneId),kn(this._dragStartId),this.nativeDraggable&&(H(document,"drop",this),H(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ct&&O(document.body,"user-select",""),O(D,"transform",""),t&&(at&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),F&&F.parentNode&&F.parentNode.removeChild(F),(Y===U||ee&&ee.lastPutMode!=="clone")&&W&&W.parentNode&&W.parentNode.removeChild(W),D&&(this.nativeDraggable&&H(D,"dragend",this),dn(D),D.style["will-change"]="",at&&!Ve&&ue(D,ee?ee.options.ghostClass:this.options.ghostClass,!1),ue(D,this.options.chosenClass,!1),ie({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:t}),Y!==U?(fe>=0&&(ie({rootEl:U,name:"add",toEl:U,fromEl:Y,originalEvent:t}),ie({sortable:this,name:"remove",toEl:U,originalEvent:t}),ie({rootEl:U,name:"sort",toEl:U,fromEl:Y,originalEvent:t}),ie({sortable:this,name:"sort",toEl:U,originalEvent:t})),ee&&ee.save()):fe!==Ke&&fe>=0&&(ie({sortable:this,name:"update",toEl:U,originalEvent:t}),ie({sortable:this,name:"sort",toEl:U,originalEvent:t})),P.active&&((fe==null||fe===-1)&&(fe=Ke,Me=ht),ie({sortable:this,name:"end",toEl:U,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){oe("nulling",this),Y=D=U=F=Oe=W=Rt=De=Ne=me=at=fe=Me=Ke=ht=We=mt=ee=Tt=P.dragged=P.ghost=P.clone=P.active=null,Yt.forEach(function(t){t.checked=!0}),Yt.length=un=fn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":D&&(this._onDragOver(t),Eo(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,l=this.options;i<o;i++)n=r[i],ge(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||qo(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,l){var a=i.children[l];ge(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ge(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=St.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&ki(r)},destroy:function(){oe("destroy",this);var t=this.el;t[ce]=null,H(t,"mousedown",this._onTapStart),H(t,"touchstart",this._onTapStart),H(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(t,"dragover",this),H(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xt.splice(Xt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!De){if(oe("hideClone",this),P.eventCanceled)return;O(W,"display","none"),this.options.removeCloneOnHide&&W.parentNode&&W.parentNode.removeChild(W),De=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(De){if(oe("showClone",this),P.eventCanceled)return;D.parentNode==Y&&!this.options.group.revertClone?Y.insertBefore(W,D):Oe?Y.insertBefore(W,Oe):Y.appendChild(W),this.options.group.revertClone&&this.animate(D,W),O(W,"display",""),De=!1}}};function Eo(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ct(e,t,n,r,i,o,l,a){var s,u=e[ce],m=u.options.onMove,f;return window.CustomEvent&&!Se&&!Et?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=i||t,s.relatedRect=o||K(t),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),m&&(f=m.call(u,s,l)),f}function dn(e){e.draggable=!1}function So(){yn=!1}function $o(e,t,n){var r=K(ot(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function Mo(e,t,n){var r=K(Nn(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function Do(e,t,n,r,i,o,l,a){var s=r?e.clientY:e.clientX,u=r?n.height:n.width,m=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!l){if(a&&Ft<u*i){if(!pt&&(mt===1?s>m+u*o/2:s<f-u*o/2)&&(pt=!0),pt)d=!0;else if(mt===1?s<m+Ft:s>f-Ft)return-mt}else if(s>m+u*(1-i)/2&&s<f-u*(1-i)/2)return To(t)}return d=d||l,d&&(s<m+u*o/2||s>f-u*o/2)?s>m+u/2?1:-1:0}function To(e){return de(D)<de(e)?1:-1}function qo(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function xo(e){Yt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Yt.push(r)}}function jt(e){return setTimeout(e,0)}function kn(e){return clearTimeout(e)}tn&&z(document,"touchmove",function(e){(P.active||Ve)&&e.cancelable&&e.preventDefault()});P.utils={on:z,off:H,css:O,find:gi,is:function(t,n){return!!ge(t,n,t,!1)},extend:co,throttle:_i,closest:ge,toggleClass:ue,clone:bi,index:de,nextTick:jt,cancelNextTick:kn,detectDirection:yi,getChild:ot};P.get=function(e){return e[ce]};P.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(P.utils=be(be({},P.utils),r.utils)),St.mount(r)})};P.create=function(e,t){return new P(e,t)};P.version=so;var Z=[],st,En,Sn=!1,hn,mn,Wt,ut;function Co(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?z(document,"dragover",this._handleAutoScroll):this.options.supportPointer?z(document,"pointermove",this._handleFallbackAutoScroll):r.touches?z(document,"touchmove",this._handleFallbackAutoScroll):z(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?H(document,"dragover",this._handleAutoScroll):(H(document,"pointermove",this._handleFallbackAutoScroll),H(document,"touchmove",this._handleFallbackAutoScroll),H(document,"mousemove",this._handleFallbackAutoScroll)),nr(),Lt(),ho()},nulling:function(){Wt=En=st=Sn=ut=hn=mn=null,Z.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,l);if(Wt=n,r||this.options.forceAutoScrollFallback||Et||Se||ct){pn(n,this.options,a,r);var s=qe(a,!0);Sn&&(!ut||o!==hn||l!==mn)&&(ut&&nr(),ut=setInterval(function(){var u=qe(document.elementFromPoint(o,l),!0);u!==s&&(s=u,Lt()),pn(n,i.options,u,r)},10),hn=o,mn=l)}else{if(!this.options.bubbleScroll||qe(a,!0)===_e()){Lt();return}pn(n,this.options,qe(a,!1),!1)}}},Ee(e,{pluginName:"scroll",initializeByDefault:!0})}function Lt(){Z.forEach(function(e){clearInterval(e.pid)}),Z=[]}function nr(){clearInterval(ut)}var pn=_i(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,a=t.scrollSpeed,s=_e(),u=!1,m;En!==n&&(En=n,Lt(),st=t.scroll,m=t.scrollFn,st===!0&&(st=qe(n,!0)));var f=0,d=st;do{var p=d,h=K(p),_=h.top,v=h.bottom,x=h.left,M=h.right,b=h.width,E=h.height,g=void 0,k=void 0,S=p.scrollWidth,$=p.scrollHeight,w=O(p),C=p.scrollLeft,q=p.scrollTop;p===s?(g=b<S&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),k=E<$&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(g=b<S&&(w.overflowX==="auto"||w.overflowX==="scroll"),k=E<$&&(w.overflowY==="auto"||w.overflowY==="scroll"));var R=g&&(Math.abs(M-i)<=l&&C+b<S)-(Math.abs(x-i)<=l&&!!C),B=k&&(Math.abs(v-o)<=l&&q+E<$)-(Math.abs(_-o)<=l&&!!q);if(!Z[f])for(var J=0;J<=f;J++)Z[J]||(Z[J]={});(Z[f].vx!=R||Z[f].vy!=B||Z[f].el!==p)&&(Z[f].el=p,Z[f].vx=R,Z[f].vy=B,clearInterval(Z[f].pid),(R!=0||B!=0)&&(u=!0,Z[f].pid=setInterval((function(){r&&this.layer===0&&P.active._onTouchMove(Wt);var se=Z[this.layer].vy?Z[this.layer].vy*a:0,te=Z[this.layer].vx?Z[this.layer].vx*a:0;typeof m=="function"&&m.call(P.dragged.parentNode[ce],te,se,e,Wt,Z[this.layer].el)!=="continue"||vi(Z[this.layer].el,te,se)}).bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==s&&(d=qe(d,!1)));Sn=u}},30),$i=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,l=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(n){var u=r||o;a();var m=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(m.clientX,m.clientY);s(),u&&!u.el.contains(f)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Pn(){}Pn.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=ot(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:$i};Ee(Pn,{pluginName:"revertOnSpill"});function On(){}On.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:$i};Ee(On,{pluginName:"removeOnSpill"});P.mount(new Co);P.mount(On,Pn);function Ht(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ao(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mi(e){let t,n,r;e.length!==2?(t=Ht,n=(a,s)=>Ht(e(a),s),r=(a,s)=>e(a)-s):(t=e===Ht||e===Ao?e:No,n=e,r=e);function i(a,s,u=0,m=a.length){if(u<m){if(t(s,s)!==0)return m;do{const f=u+m>>>1;n(a[f],s)<0?u=f+1:m=f}while(u<m)}return u}function o(a,s,u=0,m=a.length){if(u<m){if(t(s,s)!==0)return m;do{const f=u+m>>>1;n(a[f],s)<=0?u=f+1:m=f}while(u<m)}return u}function l(a,s,u=0,m=a.length){const f=i(a,s,u,m-1);return f>u&&r(a[f-1],s)>-r(a[f],s)?f-1:f}return{left:i,center:l,right:o}}function No(){return 0}function Po(e){return e===null?NaN:+e}const Oo=Mi(Ht),Io=Oo.right;Mi(Po).center;const Ro=Io;function Fo(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let l of e)l!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,o+=r*(l-i));else{let l=-1;for(let a of e)(a=t(a,++l,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function jo(e,t){const n=Fo(e,t);return n&&Math.sqrt(n)}class rr extends Map{constructor(t,n=Go){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ir(this,t))}has(t){return super.has(ir(this,t))}set(t,n){return super.set(Lo(this,t),n)}delete(t){return super.delete(Ho(this,t))}}function ir({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Lo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ho({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Go(e){return e!==null&&typeof e=="object"?e.valueOf():e}const zo=Math.sqrt(50),Bo=Math.sqrt(10),Xo=Math.sqrt(2);function Qt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=zo?10:o>=Bo?5:o>=Xo?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/l,a=Math.round(e*u),s=Math.round(t*u),a/u<e&&++a,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*l,a=Math.round(e/u),s=Math.round(t/u),a*u<e&&++a,s*u>t&&--s),s<a&&.5<=n&&n<2?Qt(e,t,n*2):[a,s,u]}function Yo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Qt(t,e,n):Qt(e,t,n);if(!(o>=i))return[];const a=o-i+1,s=new Array(a);if(r)if(l<0)for(let u=0;u<a;++u)s[u]=(o-u)/-l;else for(let u=0;u<a;++u)s[u]=(o-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(i+u)/-l;else for(let u=0;u<a;++u)s[u]=(i+u)*l;return s}function $n(e,t,n){return t=+t,e=+e,n=+n,Qt(e,t,n)[2]}function Wo(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?$n(t,e,n):$n(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Di(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Qo(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Uo(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Vo(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Zo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ut(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lt(e){return e=Ut(Math.abs(e)),e?e[1]:NaN}function Jo(e,t){return function(n,r){for(var i=n.length,o=[],l=0,a=e[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(n.substring(i-=a,i+a)),!((s+=a+1)>r));)a=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Ko(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var el=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vt(e){if(!(t=el.exec(e)))throw new Error("invalid format: "+e);var t;return new In({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vt.prototype=In.prototype;function In(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}In.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tl(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ti;function nl(e,t){var n=Ut(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ti=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ut(e,Math.max(0,t+o-1))[0]}function or(e,t){var n=Ut(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>or(e*100,t),r:or,s:nl,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ar(e){return e}var sr=Array.prototype.map,ur=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rl(e){var t=e.grouping===void 0||e.thousands===void 0?ar:Jo(sr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ar:Ko(sr.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Vt(f);var d=f.fill,p=f.align,h=f.sign,_=f.symbol,v=f.zero,x=f.width,M=f.comma,b=f.precision,E=f.trim,g=f.type;g==="n"?(M=!0,g="g"):lr[g]||(b===void 0&&(b=12),E=!0,g="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var k=_==="$"?n:_==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",S=_==="$"?r:/[%p]/.test(g)?l:"",$=lr[g],w=/[defgprs%]/.test(g);b=b===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(q){var R=k,B=S,J,se,te;if(g==="c")B=$(q)+B,q="";else{q=+q;var T=q<0||1/q<0;if(q=isNaN(q)?s:$(Math.abs(q),b),E&&(q=tl(q)),T&&+q==0&&h!=="+"&&(T=!1),R=(T?h==="("?h:a:h==="-"||h==="("?"":h)+R,B=(g==="s"?ur[8+Ti/3]:"")+B+(T&&h==="("?")":""),w){for(J=-1,se=q.length;++J<se;)if(te=q.charCodeAt(J),48>te||te>57){B=(te===46?i+q.slice(J+1):q.slice(J))+B,q=q.slice(0,J);break}}}M&&!v&&(q=t(q,1/0));var I=R.length+q.length+B.length,A=I<x?new Array(x-I+1).join(d):"";switch(M&&v&&(q=t(A+q,A.length?x-B.length:1/0),A=""),p){case"<":q=R+q+B+A;break;case"=":q=R+A+q+B;break;case"^":q=A.slice(0,I=A.length>>1)+R+q+B+A.slice(I);break;default:q=A+R+q+B;break}return o(q)}return C.toString=function(){return f+""},C}function m(f,d){var p=u((f=Vt(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(lt(d)/3)))*3,_=Math.pow(10,-h),v=ur[8+h/3];return function(x){return p(_*x)+v}}return{format:u,formatPrefix:m}}var At,nn,qi;il({thousands:",",grouping:[3],currency:["$",""]});function il(e){return At=rl(e),nn=At.format,qi=At.formatPrefix,At}function ol(e){return Math.max(0,-lt(Math.abs(e)))}function ll(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lt(t)/3)))*3-lt(Math.abs(e)))}function al(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lt(t)-lt(e))+1}function Rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fr=Symbol("implicit");function $t(){var e=new rr,t=[],n=[],r=fr;function i(o){let l=e.get(o);if(l===void 0){if(r!==fr)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new rr;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $t(t,n).unknown(r)},Rn.apply(i,arguments),i}function bt(){var e=$t().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,a=!1,s=0,u=0,m=.5;delete e.unknown;function f(){var d=t().length,p=i<r,h=p?i:r,_=p?r:i;o=(_-h)/Math.max(1,d-s+u*2),a&&(o=Math.floor(o)),h+=(_-h-o*(d-s))*m,l=o*(1-s),a&&(h=Math.round(h),l=Math.round(l));var v=Vo(d).map(function(x){return h+o*x});return n(p?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(s=Math.min(1,u=+d),f()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),f()):s},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(m=Math.max(0,Math.min(1,d)),f()):m},e.copy=function(){return bt(t(),[r,i]).round(a).paddingInner(s).paddingOuter(u).align(m)},Rn.apply(f(),arguments)}function xi(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xi(t())},e}function cr(){return xi(bt.apply(null,arguments).paddingInner(1))}function Fn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ci(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mt(){}var wt=.7,Zt=1/wt,rt="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ul=/^#([0-9a-f]{3,8})$/,fl=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),cl=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),dl=new RegExp(`^rgba\\(${rt},${rt},${rt},${yt}\\)$`),hl=new RegExp(`^rgba\\(${ve},${ve},${ve},${yt}\\)$`),ml=new RegExp(`^hsl\\(${yt},${ve},${ve}\\)$`),pl=new RegExp(`^hsla\\(${yt},${ve},${ve},${yt}\\)$`),dr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fn(Mt,kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hr,formatHex:hr,formatHex8:gl,formatHsl:_l,formatRgb:mr,toString:mr});function hr(){return this.rgb().formatHex()}function gl(){return this.rgb().formatHex8()}function _l(){return Ai(this).formatHsl()}function mr(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ul.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pr(t):n===3?new ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fl.exec(e))?new ae(t[1],t[2],t[3],1):(t=cl.exec(e))?new ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dl.exec(e))?Nt(t[1],t[2],t[3],t[4]):(t=hl.exec(e))?Nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ml.exec(e))?vr(t[1],t[2]/100,t[3]/100,1):(t=pl.exec(e))?vr(t[1],t[2]/100,t[3]/100,t[4]):dr.hasOwnProperty(e)?pr(dr[e]):e==="transparent"?new ae(NaN,NaN,NaN,0):null}function pr(e){return new ae(e>>16&255,e>>8&255,e&255,1)}function Nt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ae(e,t,n,r)}function vl(e){return e instanceof Mt||(e=kt(e)),e?(e=e.rgb(),new ae(e.r,e.g,e.b,e.opacity)):new ae}function Mn(e,t,n,r){return arguments.length===1?vl(e):new ae(e,t,n,r??1)}function ae(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Fn(ae,Mn,Ci(Mt,{brighter(e){return e=e==null?Zt:Math.pow(Zt,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wt:Math.pow(wt,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ae(Le(this.r),Le(this.g),Le(this.b),Jt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gr,formatHex:gr,formatHex8:bl,formatRgb:_r,toString:_r}));function gr(){return`#${je(this.r)}${je(this.g)}${je(this.b)}`}function bl(){return`#${je(this.r)}${je(this.g)}${je(this.b)}${je((isNaN(this.opacity)?1:this.opacity)*255)}`}function _r(){const e=Jt(this.opacity);return`${e===1?"rgb(":"rgba("}${Le(this.r)}, ${Le(this.g)}, ${Le(this.b)}${e===1?")":`, ${e})`}`}function Jt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Le(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function je(e){return e=Le(e),(e<16?"0":"")+e.toString(16)}function vr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pe(e,t,n,r)}function Ai(e){if(e instanceof pe)return new pe(e.h,e.s,e.l,e.opacity);if(e instanceof Mt||(e=kt(e)),!e)return new pe;if(e instanceof pe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,a=o-i,s=(o+i)/2;return a?(t===o?l=(n-r)/a+(n<r)*6:n===o?l=(r-t)/a+2:l=(t-n)/a+4,a/=s<.5?o+i:2-o-i,l*=60):a=s>0&&s<1?0:l,new pe(l,a,s,e.opacity)}function wl(e,t,n,r){return arguments.length===1?Ai(e):new pe(e,t,n,r??1)}function pe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Fn(pe,wl,Ci(Mt,{brighter(e){return e=e==null?Zt:Math.pow(Zt,e),new pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wt:Math.pow(wt,e),new pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ae(gn(e>=240?e-240:e+120,i,r),gn(e,i,r),gn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pe(br(this.h),Pt(this.s),Pt(this.l),Jt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jt(this.opacity);return`${e===1?"hsl(":"hsla("}${br(this.h)}, ${Pt(this.s)*100}%, ${Pt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function br(e){return e=(e||0)%360,e<0?e+360:e}function Pt(e){return Math.max(0,Math.min(1,e||0))}function gn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jn=e=>()=>e;function yl(e,t){return function(n){return e+n*t}}function kl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function El(e){return(e=+e)==1?Ni:function(t,n){return n-t?kl(t,n,e):jn(isNaN(t)?n:t)}}function Ni(e,t){var n=t-e;return n?yl(e,n):jn(isNaN(e)?t:e)}const Dn=function e(t){var n=El(t);function r(i,o){var l=n((i=Mn(i)).r,(o=Mn(o)).r),a=n(i.g,o.g),s=n(i.b,o.b),u=Ni(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=a(m),i.b=s(m),i.opacity=u(m),i+""}}return r.gamma=e,r}(1);function Sl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function $l(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ml(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=rn(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(a){for(l=0;l<r;++l)o[l]=i[l](a);return o}}function Dl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tl(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=rn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_n=new RegExp(Tn.source,"g");function ql(e){return function(){return e}}function xl(e){return function(t){return e(t)+""}}function Cl(e,t){var n=Tn.lastIndex=_n.lastIndex=0,r,i,o,l=-1,a=[],s=[];for(e=e+"",t=t+"";(r=Tn.exec(e))&&(i=_n.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[l]?a[l]+=o:a[++l]=o),(r=r[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Kt(r,i)})),n=_n.lastIndex;return n<t.length&&(o=t.slice(n),a[l]?a[l]+=o:a[++l]=o),a.length<2?s[0]?xl(s[0].x):ql(t):(t=s.length,function(u){for(var m=0,f;m<t;++m)a[(f=s[m]).i]=f.x(u);return a.join("")})}function rn(e,t){var n=typeof t,r;return t==null||n==="boolean"?jn(t):(n==="number"?Kt:n==="string"?(r=kt(t))?(t=r,Dn):Cl:t instanceof kt?Dn:t instanceof Date?Dl:$l(t)?Sl:Array.isArray(t)?Ml:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tl:Kt)(e,t)}function Pi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Al(e){return function(){return e}}function Nl(e){return+e}var wr=[0,1];function xe(e){return e}function qn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Al(isNaN(t)?NaN:.5)}function Pl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ol(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=qn(i,r),o=n(l,o)):(r=qn(r,i),o=n(o,l)),function(a){return o(r(a))}}function Il(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=qn(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(a){var s=Ro(e,a,1,r)-1;return o[s](i[s](a))}}function Rl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fl(){var e=wr,t=wr,n=rn,r,i,o,l=xe,a,s,u;function m(){var d=Math.min(e.length,t.length);return l!==xe&&(l=Pl(e[0],e[d-1])),a=d>2?Il:Ol,s=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(s||(s=a(e.map(r),t,n)))(r(l(d)))}return f.invert=function(d){return l(i((u||(u=a(t,e.map(r),Kt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Nl),m()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),m()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Pi,m()},f.clamp=function(d){return arguments.length?(l=d?!0:xe,m()):l!==xe},f.interpolate=function(d){return arguments.length?(n=d,m()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,m()}}function jl(){return Fl()(xe,xe)}function Ll(e,t,n,r){var i=Wo(e,t,n),o;switch(r=Vt(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=ll(i,l))&&(r.precision=o),qi(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=al(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ol(i))&&(r.precision=o-(r.type==="%")*2);break}}return nn(r)}function Oi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Yo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ll(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],a=r[o],s,u,m=10;for(a<l&&(u=l,l=a,a=u,u=i,i=o,o=u);m-- >0;){if(u=$n(l,a,n),u===s)return r[i]=l,r[o]=a,t(r);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return e},e}function Ln(){var e=jl();return e.copy=function(){return Rl(e,Ln())},Rn.apply(e,arguments),Oi(e)}function Hl(){var e=0,t=1,n,r,i,o,l=xe,a=!1,s;function u(f){return f==null||isNaN(f=+f)?s:l(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(l=f,u):l};function m(f){return function(d){var p,h;return arguments.length?([p,h]=d,l=f(p,h),u):[l(0),l(1)]}}return u.range=m(rn),u.rangeRound=m(Pi),u.unknown=function(f){return arguments.length?(s=f,u):s},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ii(){var e=Oi(Hl()(xe));return e.copy=function(){return Gl(e,Ii())},sl.apply(e,arguments)}function Qe(e){return function(){return e}}const xn=Math.PI,Cn=2*xn,Ie=1e-6,zl=Cn-Ie;function Ri(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Bl(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ri;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Xl{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ri:Bl(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,a=this._y1,s=r-t,u=i-n,m=l-t,f=a-n,d=m*m+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ie)if(!(Math.abs(f*s-u*m)>Ie)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-l,h=i-a,_=s*s+u*u,v=p*p+h*h,x=Math.sqrt(_),M=Math.sqrt(d),b=o*Math.tan((xn-Math.acos((_+d-v)/(2*x*M)))/2),E=b/M,g=b/x;Math.abs(E-1)>Ie&&this._append`L${t+E*m},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*p>m*h)},${this._x1=t+g*s},${this._y1=n+g*u}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),s=r*Math.sin(i),u=t+a,m=n+s,f=1^l,d=l?i-o:o-i;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>Ie||Math.abs(this._y1-m)>Ie)&&this._append`L${u},${m}`,r&&(d<0&&(d=d%Cn+Cn),d>zl?this._append`A${r},${r},0,1,${f},${t-a},${n-s}A${r},${r},0,1,${f},${this._x1=u},${this._y1=m}`:d>Ie&&this._append`A${r},${r},0,${+(d>=xn)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Yl(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Xl(t)}function Wl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fi(e){this._context=e}Fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ql(e){return new Fi(e)}function Ul(e){return e[0]}function Vl(e){return e[1]}function Zl(e,t){var n=Qe(!0),r=null,i=Ql,o=null,l=Yl(a);e=typeof e=="function"?e:e===void 0?Ul:Qe(e),t=typeof t=="function"?t:t===void 0?Vl:Qe(t);function a(s){var u,m=(s=Wl(s)).length,f,d=!1,p;for(r==null&&(o=i(p=l())),u=0;u<=m;++u)!(u<m&&n(f=s[u],u,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,s),+t(f,u,s));if(p)return o=null,p+""||null}return a.x=function(s){return arguments.length?(e=typeof s=="function"?s:Qe(+s),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Qe(+s),a):t},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Qe(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}function yr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function kr(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Er(e,t,n){const r=e.slice();return r[25]=t[n],r[24]=n,r}function Sr(e){let t,n=e[24]+1+"",r;return{c(){t=N("option"),r=X(n),t.__value=e[24]+1,t.value=t.__value,c(t,"class","svelte-f2ps7u")},m(i,o){G(i,t,o),y(t,r)},p:V,d(i){i&&L(t)}}}function $r(e,t){let n,r,i=t[1][t[24]]+"",o,l,a,s,u=t[19][t[1][t[24]]]+"",m,f,d,p,h,_,v,x,M,b=Array(t[0]).fill(),E=[];for(let k=0;k<b.length;k+=1)E[k]=Sr(Er(t,b,k));function g(...k){return t[12](t[21],t[24],...k)}return{key:e,first:null,c(){n=N("div"),r=N("h5"),o=X(i),l=X(":"),a=Q(),s=N("p"),m=X(u),f=Q(),d=N("div"),p=X(`Rank:
                        `),h=N("select");for(let k=0;k<E.length;k+=1)E[k].c();_=Q(),c(r,"class","bold underline svelte-f2ps7u"),c(s,"class","svelte-f2ps7u"),c(n,"class","answer svelte-f2ps7u"),c(n,"id",v=`answer-${t[24]}-${t[21]}`),this.first=n},m(k,S){G(k,n,S),y(n,r),y(r,o),y(r,l),y(n,a),y(n,s),y(s,m),y(n,f),y(n,d),y(d,p),y(d,h);for(let $=0;$<E.length;$+=1)E[$]&&E[$].m(h,null);y(n,_),x||(M=re(h,"change",g),x=!0)},p(k,S){if(t=k,S&3&&i!==(i=t[1][t[24]]+"")&&ke(o,i),S&131&&u!==(u=t[19][t[1][t[24]]]+"")&&ke(m,u),S&1){b=Array(t[0]).fill();let $;for($=0;$<b.length;$+=1){const w=Er(t,b,$);E[$]?E[$].p(w,S):(E[$]=Sr(w),E[$].c(),E[$].m(h,null))}for(;$<E.length;$+=1)E[$].d(1);E.length=b.length}S&129&&v!==(v=`answer-${t[24]}-${t[21]}`)&&c(n,"id",v)},d(k){k&&L(n),he(E,k),x=!1,M()}}}function Mr(e,t){let n,r,i,o,l,a,s,u,m,f=t[19].question+"",d,p,h,_=[],v=new Map,x,M,b,E,g=Array(t[0]).fill();const k=S=>S[24];for(let S=0;S<g.length;S+=1){let $=kr(t,g,S),w=k($);v.set(w,_[S]=$r(w,$))}return{key:e,first:null,c(){n=N("div"),r=N("div"),i=N("div"),o=Q(),l=N("div"),a=N("div"),s=N("h5"),s.textContent="Question:",u=Q(),m=N("p"),d=X(f),p=Q(),h=N("div");for(let S=0;S<_.length;S+=1)_[S].c();x=Q(),c(i,"class","avatar"),c(s,"class","bold svelte-f2ps7u"),c(m,"class","svelte-f2ps7u"),c(a,"class","question svelte-f2ps7u"),c(h,"class","answers"),$e(h,"display","grid"),$e(h,"grid-template-columns",t[6]),$e(h,"gap",".25%"),$e(h,"width","100%"),$e(h,"margin","auto"),c(l,"class","message-content svelte-f2ps7u"),c(r,"class","chat-message-center svelte-f2ps7u"),c(n,"class","chat-message svelte-f2ps7u"),this.first=n},m(S,$){G(S,n,$),y(n,r),y(r,i),y(r,o),y(r,l),y(l,a),y(a,s),y(a,u),y(a,m),y(m,d),y(l,p),y(l,h);for(let w=0;w<_.length;w+=1)_[w]&&_[w].m(h,null);t[13](h),y(n,x),b||(E=Bi(M=Kl.call(null,n,t[21]===t[7].length-1)),b=!0)},p(S,$){t=S,$&128&&f!==(f=t[19].question+"")&&ke(d,f),$&643&&(g=Array(t[0]).fill(),_=vt(_,$,k,1,t,g,v,h,_t,$r,null,kr)),$&64&&$e(h,"grid-template-columns",t[6]),M&&en(M.update)&&$&128&&M.update.call(null,t[21]===t[7].length-1)},d(S){S&&L(n);for(let $=0;$<_.length;$+=1)_[$].d();t[13](null),b=!1,E()}}}function Jl(e){let t,n,r,i,o,l,a=[],s=new Map,u,m,f,d,p,h,_=(e[4]?e[5]:"Send")+"",v,x,M,b,E=e[7];const g=k=>k[21];for(let k=0;k<E.length;k+=1){let S=yr(e,E,k),$=g(S);s.set($,a[k]=Mr($,S))}return{c(){t=N("div"),n=N("div"),n.innerHTML=`<h5 class="underline bold svelte-f2ps7u">Q &amp; A Comparison Instructions</h5> 
    <br/> 
    <p class="svelte-f2ps7u">Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.</p> 
    <br/> 
    <button class="svelte-f2ps7u">Download Data</button>`,r=Q(),i=N("div"),o=N("section"),l=N("div");for(let k=0;k<a.length;k+=1)a[k].c();u=Q(),m=N("div"),f=N("form"),d=N("input"),p=Q(),h=N("button"),v=X(_),c(n,"class","instructions svelte-f2ps7u"),c(l,"class","chat-log svelte-f2ps7u"),c(o,"class","chatbox svelte-f2ps7u"),c(d,"class","chat-input-textarea svelte-f2ps7u"),c(d,"placeholder","Type Message Here"),c(h,"class",x="btnyousend "+(e[3]===""?"":"active")+" svelte-f2ps7u"),c(h,"type","submit"),c(f,"class","chat-input-form svelte-f2ps7u"),c(m,"class","chat-input-holder svelte-f2ps7u"),c(i,"class","ranked-chat svelte-f2ps7u"),c(t,"class","ranked-feedback-container svelte-f2ps7u")},m(k,S){G(k,t,S),y(t,n),y(t,r),y(t,i),y(i,o),y(o,l);for(let $=0;$<a.length;$+=1)a[$]&&a[$].m(l,null);y(i,u),y(i,m),y(m,f),y(f,d),Bn(d,e[3]),y(f,p),y(f,h),y(h,v),M||(b=[re(d,"input",e[14]),re(f,"submit",e[8])],M=!0)},p(k,[S]){S&711&&(E=k[7],a=vt(a,S,g,1,k,E,s,l,_t,Mr,null,yr)),S&8&&d.value!==k[3]&&Bn(d,k[3]),S&48&&_!==(_=(k[4]?k[5]:"Send")+"")&&ke(v,_),S&8&&x!==(x="btnyousend "+(k[3]===""?"":"active")+" svelte-f2ps7u")&&c(h,"class",x)},i:V,o:V,d(k){k&&L(t);for(let S=0;S<a.length;S+=1)a[S].d();M=!1,Ce(b)}}}function Kl(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function ea(e){console.log("run update",e);const t=await fetch("/chat/comparator/db/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("ok",t);else{const n=await t.text();alert(n)}}function ta(e,t,n){let r,i,o;si(e,ln,g=>n(7,o=g));let{numModels:l=1}=t,{models:a=[0]}=t,s="",u="",m=!1,f=[];Vi(async()=>{if(await new Promise(g=>setTimeout(g,200)),h){const g=new P(h,{animation:150,onUpdate(k){f=g.toArray()}});f=g.toArray()}});const d=async g=>{g.preventDefault(),s=u,n(3,u=""),n(4,m=!0);let k={question:s,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};zi(ln,o=[...o,k],o);const S=await fetch(`/chat/comparator/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(S.ok){const $=await S.json();n(1,a=Object.keys($.answer)),n(0,l=a.length);for(let w of a)k[w]=$.answer[w];ln.update(w=>(w[w.length-1]=k,w))}else{const $=await S.text();alert($)}n(4,m=!1)};let p=0;setInterval(()=>{n(10,p=(p+1)%4)},200);let h,_;function v(g,k,S){const $=k,w=g.target.value+1,C=a[S],q={qid:$,rank:parseInt(w),model:C};x(q)}function x(g={}){console.log("called");let k=[];if(Object.keys(g).length!==0){const $={model:g.model,qid:parseInt(g.qid),rank:g.rank,answer:o[g.qid][g.model]};k.push($)}else{let $=f[0].split("-")[2],w=[];for(let[C,q]of f.entries()){const R=parseInt(q.split("-")[1]),B=a[R],J={rank:C,model:B};w.push(J)}for(let C of w){const q={model:C.model,qid:parseInt($),rank:C.rank,answer:o[$][C.model]};k.push(q)}f.forEach((C,q)=>{const R=document.querySelector(`#${C} select`);R&&(R.value=q+1)})}const S={data:k};console.log(S),ea(S)}const M=(g,k,S)=>v(S,g,k);function b(g){vn[g?"unshift":"push"](()=>{h=g,n(2,h)})}function E(){u=this.value,n(3,u)}return e.$$set=g=>{"numModels"in g&&n(0,l=g.numModels),"models"in g&&n(1,a=g.models)},e.$$.update=()=>{e.$$.dirty&1&&n(6,r="1fr ".repeat(l).trim()),e.$$.dirty&1024&&n(5,i=".".repeat(p).padEnd(3)),e.$$.dirty&2052&&h&&(n(11,_=new P(h,{animation:150,dataIdAttr:"id",onUpdate(g){console.log("update"),f=_.toArray(),x({})}})),f=_.toArray(),console.log("rrrrr"))},[l,a,h,u,m,i,r,o,d,v,p,_,M,b,E]}class na extends Ge{constructor(t){super(),He(this,t,ta,Jl,Ae,{numModels:0,models:1})}}const le=[{model:"llama",qid:1,rank:1,answer:"Llama's first unique answer."},{model:"gpt3.5",qid:1,rank:2,answer:"GPT-3.5's first unique answer."},{model:"gpt4",qid:1,rank:3,answer:"GPT-4's first unique answer."},{model:"claude",qid:1,rank:4,answer:"Claude's first unique answer."},{model:"llama",qid:2,rank:4,answer:"Llama's second unique answer."},{model:"gpt3.5",qid:2,rank:2,answer:"GPT-3.5's second unique answer."},{model:"gpt4",qid:2,rank:4,answer:"GPT-4's second unique answer."},{model:"claude",qid:2,rank:3,answer:"'s second unique answer."},{model:"llama",qid:3,rank:1,answer:"Llama's third unique answer."},{model:"gpt3.5",qid:3,rank:4,answer:"GPT-3.5's third unique answer."},{model:"gpt4",qid:3,rank:4,answer:"GPT-4's third unique answer."},{model:"claude",qid:3,rank:2,answer:"'s third unique answer."},{model:"llama",qid:4,rank:1,answer:"Llama's fourth unique answer."},{model:"gpt3.5",qid:4,rank:3,answer:"GPT-3.5's  unique answer."},{model:"gpt4",qid:4,rank:2,answer:"GPT-4's  unique answer."},{model:"claude",qid:4,rank:4,answer:"'s  unique answer."},{model:"llama",qid:5,rank:1,answer:"Llama's  unique answer."},{model:"gpt3.5",qid:5,rank:2,answer:"GPT-3.5's nique answer."},{model:"gpt4",qid:5,rank:3,answer:"GPT-4's fifth unique answer."},{model:"claude",qid:5,rank:4,answer:"'s fifthnswer."},{model:"llama",qid:6,rank:1,answer:"Llama's sixth unique answer."},{model:"gpt3.5",qid:6,rank:2,answer:"GPT-3.5's sixth unique answer."},{model:"gpt4",qid:6,rank:3,answer:"GPT-4's sixth unique answer."},{model:"claude",qid:6,rank:4,answer:"'s sixth uniq."},{model:"llama",qid:7,rank:4,answer:"Llama's seventh unique answer."},{model:"gpt3.5",qid:7,rank:3,answer:"GPT-3.5's seventh unique answer."},{model:"gpt4",qid:7,rank:2,answer:"GPT-4's seventh unique answer."},{model:"claude",qid:7,rank:1,answer:"Claude's seventh unique answer."},{model:"llama",qid:8,rank:3,answer:"Llama's eighth unique answer."},{model:"gpt3.5",qid:8,rank:4,answer:"GPT-3.5's eighth unique answer."},{model:"gpt4",qid:8,rank:1,answer:"GPT-4's eighth unique answer."},{model:"claude",qid:8,rank:2,answer:"Claude's eighth unique answer."},{model:"llama",qid:9,rank:2,answer:"Llama's ninth unique answer."},{model:"gpt3.5",qid:9,rank:1,answer:"GPT-3.5's ninth unique answer."},{model:"gpt4",qid:9,rank:4,answer:"GPT-4's ninth unique answer."},{model:"claude",qid:9,rank:3,answer:"Claude's ninth unique answer."},{model:"llama",qid:10,rank:4,answer:"Llama's tenth unique answer."},{model:"gpt3.5",qid:10,rank:3,answer:"GPT-3.5's tenth unique answer."},{model:"gpt4",qid:10,rank:2,answer:"GPT-4's tenth unique answer."},{model:"claude",qid:10,rank:1,answer:"Claude's tenth unique answer."},{model:"llama",qid:11,rank:3,answer:"Llama's eleventh unique answer."},{model:"gpt3.5",qid:11,rank:4,answer:"GPT-3.5's eleventh unique answer."},{model:"gpt4",qid:11,rank:1,answer:"GPT-4's eleventh unique answer."},{model:"claude",qid:11,rank:2,answer:"Claude's eleventh unique answer."},{model:"llama",qid:12,rank:2,answer:"Llama's twelfth unique answer."},{model:"gpt3.5",qid:12,rank:1,answer:"GPT-3.5's twelfth unique answer."},{model:"gpt4",qid:12,rank:4,answer:"GPT-4's twelfth unique answer."},{model:"claude",qid:12,rank:3,answer:"Claude's twelfth unique answer."},{model:"llama",qid:13,rank:4,answer:"Llama's thirteenth unique answer."},{model:"gpt3.5",qid:13,rank:3,answer:"GPT-3.5's thirteenth unique answer."},{model:"gpt4",qid:13,rank:2,answer:"GPT-4's thirteenth unique answer."},{model:"claude",qid:13,rank:4,answer:"Claude's thirteenth unique answer."},{model:"llama",qid:14,rank:3,answer:"Llama's fourteenth unique answer."},{model:"gpt3.5",qid:14,rank:1,answer:"GPT-3.5's fourteenth unique answer."},{model:"gpt4",qid:14,rank:1,answer:"GPT-4's fourteenth unique answer."},{model:"claude",qid:14,rank:1,answer:"Claude's fourteenth unique answer."}];function Dr(e,t,n){const r=e.slice();return r[22]=t[n],r}function Tr(e,t,n){const r=e.slice();return r[22]=t[n],r[26]=n,r}function qr(e,t,n){const r=e.slice();return r[27]=t[n],r}function xr(e,t,n){const r=e.slice();return r[27]=t[n],r}function Cr(e){let t,n,r,i,o=`Q.${e[27]}`,l,a;return{c(){t=j("g"),n=j("line"),i=j("text"),l=X(o),c(n,"class","axis-tick svelte-1nna9rx"),c(n,"x1","0"),c(n,"x2","0"),c(n,"y1",0),c(n,"y2",r=-e[4]+e[11].bottom+e[11].top),c(n,"stroke","black"),c(n,"stroke-dasharray","4"),c(i,"class","axis-text svelte-1nna9rx"),c(i,"y","15"),c(i,"text-anchor","middle"),c(t,"transform",a=`translate(${e[3](e[27])+0} ${e[4]-e[11].bottom})`),c(t,"class","svelte-1nna9rx")},m(s,u){G(s,t,u),y(t,n),y(t,i),y(i,l)},p(s,u){u[0]&16&&r!==(r=-s[4]+s[11].bottom+s[11].top)&&c(n,"y2",r),u[0]&8&&o!==(o=`Q.${s[27]}`)&&ke(l,o),u[0]&24&&a!==(a=`translate(${s[3](s[27])+0} ${s[4]-s[11].bottom})`)&&c(t,"transform",a)},d(s){s&&L(t)}}}function Ar(e){let t=Number.isInteger(e[27]),n,r=t&&Cr(e);return{c(){r&&r.c(),n=ye()},m(i,o){r&&r.m(i,o),G(i,n,o)},p(i,o){o[0]&8&&(t=Number.isInteger(i[27])),t?r?r.p(i,o):(r=Cr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&L(n)}}}function Nr(e){let t,n,r=e[9].filter(l).map(Ir)[0]+"",i,o;function l(...a){return e[12](e[27],...a)}return{c(){t=j("g"),n=j("text"),i=X(r),c(n,"class","axis-text svelte-1nna9rx"),c(n,"x","-5"),c(n,"y","0"),c(n,"text-anchor","end"),c(n,"dominant-baseline","middle"),c(t,"transform",o=`translate(${e[11].left} ${e[2](e[27])+0})`),c(t,"class","svelte-1nna9rx")},m(a,s){G(a,t,s),y(t,n),y(n,i)},p(a,s){e=a,s[0]&4&&r!==(r=e[9].filter(l).map(Ir)[0]+"")&&ke(i,r),s[0]&4&&o!==(o=`translate(${e[11].left} ${e[2](e[27])+0})`)&&c(t,"transform",o)},d(a){a&&L(t)}}}function Pr(e,t){let n,r,i,o,l,a,s,u,m;function f(){return t[13](t[26])}function d(){return t[14](t[26])}return{key:e,first:null,c(){n=j("path"),o=j("path"),c(n,"class","model-path-outer svelte-1nna9rx"),c(n,"d",r=t[7](t[22])),c(n,"stroke","white"),c(n,"data-model",i=t[10][t[26]]),c(o,"class","model-path svelte-1nna9rx"),c(o,"d",l=t[7](t[22])),c(o,"role","img"),c(o,"stroke",a=t[8](t[10][t[26]])),c(o,"data-model",s=t[10][t[26]]),this.first=n},m(p,h){G(p,n,h),G(p,o,h),u||(m=[re(o,"mouseover",f),re(o,"focus",d),re(o,"mouseout",t[15]),re(o,"blur",t[16])],u=!0)},p(p,h){t=p,h[0]&192&&r!==(r=t[7](t[22]))&&c(n,"d",r),h[0]&64&&i!==(i=t[10][t[26]])&&c(n,"data-model",i),h[0]&192&&l!==(l=t[7](t[22]))&&c(o,"d",l),h[0]&320&&a!==(a=t[8](t[10][t[26]]))&&c(o,"stroke",a),h[0]&64&&s!==(s=t[10][t[26]])&&c(o,"data-model",s)},d(p){p&&L(n),p&&L(o),u=!1,Ce(m)}}}function Or(e,t){let n,r,i,o,l=t[22].rank+"",a,s,u,m;function f(){return t[17](t[22])}function d(){return t[18](t[22])}return{key:e,first:null,c(){n=j("g"),r=j("circle"),o=j("text"),a=X(l),c(r,"r",t[22].answer.length/2*0+12),c(r,"fill",i=t[8](t[22].model)),c(r,"stroke","white"),c(r,"class","model-circle svelte-1nna9rx"),c(r,"role","img"),c(r,"data-model",t[22].model),c(o,"class","bump-text svelte-1nna9rx"),c(o,"text-anchor","middle"),c(o,"alignment-baseline","middle"),c(o,"color","white"),c(o,"fill","white"),c(n,"transform",s=`translate(${t[3](t[22].qid)}, ${t[2](t[22].rank)})`),c(n,"class","svelte-1nna9rx"),this.first=n},m(p,h){G(p,n,h),y(n,r),y(n,o),y(o,a),u||(m=[re(r,"mouseover",f),re(r,"focus",d),re(r,"mouseout",t[19]),re(r,"blur",t[20])],u=!0)},p(p,h){t=p,h[0]&256&&i!==(i=t[8](t[22].model))&&c(r,"fill",i),h[0]&12&&s!==(s=`translate(${t[3](t[22].qid)}, ${t[2](t[22].rank)})`)&&c(n,"transform",s)},d(p){p&&L(n),u=!1,Ce(m)}}}function ra(e){let t,n,r,i,o,l,a,s,u,m,f,d,p,h,_=[],v=new Map,x,M=[],b=new Map,E,g,k,S,$,w=e[3].domain(),C=[];for(let T=0;T<w.length;T+=1)C[T]=Ar(xr(e,w,T));let q=e[2].domain(),R=[];for(let T=0;T<q.length;T+=1)R[T]=Nr(qr(e,q,T));let B=e[6];const J=T=>T[26];for(let T=0;T<B.length;T+=1){let I=Tr(e,B,T),A=J(I);v.set(A,_[T]=Pr(A,I))}let se=le;const te=T=>T[22].model+T[22].qid;for(let T=0;T<se.length;T+=1){let I=Dr(e,se,T),A=te(I);b.set(A,M[T]=Or(A,I))}return{c(){t=N("div"),n=j("svg"),r=j("line");for(let T=0;T<C.length;T+=1)C[T].c();a=ye();for(let T=0;T<R.length;T+=1)R[T].c();s=j("text"),m=j("text"),p=j("text");for(let T=0;T<_.length;T+=1)_[T].c();x=ye();for(let T=0;T<M.length;T+=1)M[T].c();E=j("text"),g=X("Per-Question Ranks"),k=j("text"),S=X("Answer ranks over time, by model."),c(r,"class","axis-line svelte-1nna9rx"),c(r,"x1",e[11].left),c(r,"x2",i=e[5]-e[11].right),c(r,"y1",o=e[4]-e[11].bottom),c(r,"y2",l=e[4]-e[11].bottom),c(s,"class","chart-title svelte-1nna9rx"),c(s,"y",e[11].top/2),c(s,"x",u=(e[5]+e[11].left)/2),c(s,"text-anchor","middle"),c(m,"class","axis-label svelte-1nna9rx"),c(m,"y",f=e[4]+e[11].bottom+10),c(m,"x",d=(e[5]+e[11].left)/2),c(m,"text-anchor","middle"),c(p,"class","axis-label svelte-1nna9rx"),c(p,"y",e[11].left/2),c(p,"x",h=-(e[4]/2)),c(p,"text-anchor","middle"),c(p,"transform","rotate(-90)"),c(E,"class","chart-title svelte-1nna9rx"),c(E,"y",e[11].top/2),c(E,"x",e[11].left),c(E,"text-anchor","start"),c(k,"class","chart-subtitle svelte-1nna9rx"),c(k,"y",e[11].top/2+15),c(k,"x",e[11].left),c(k,"opacity",".6"),c(k,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(n,"class","svelte-1nna9rx"),c(t,"id","chart-holder"),c(t,"class","svelte-1nna9rx"),it(()=>e[21].call(t))},m(T,I){G(T,t,I),y(t,n),y(n,r);for(let A=0;A<C.length;A+=1)C[A]&&C[A].m(n,null);y(n,a);for(let A=0;A<R.length;A+=1)R[A]&&R[A].m(n,null);y(n,s),y(n,m),y(n,p);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(n,null);y(n,x);for(let A=0;A<M.length;A+=1)M[A]&&M[A].m(n,null);y(n,E),y(E,g),y(n,k),y(k,S),$=An(t,e[21].bind(t))},p(T,I){if(I[0]&32&&i!==(i=T[5]-T[11].right)&&c(r,"x2",i),I[0]&16&&o!==(o=T[4]-T[11].bottom)&&c(r,"y1",o),I[0]&16&&l!==(l=T[4]-T[11].bottom)&&c(r,"y2",l),I[0]&2072){w=T[3].domain();let A;for(A=0;A<w.length;A+=1){const ze=xr(T,w,A);C[A]?C[A].p(ze,I):(C[A]=Ar(ze),C[A].c(),C[A].m(n,a))}for(;A<C.length;A+=1)C[A].d(1);C.length=w.length}if(I[0]&2564){q=T[2].domain();let A;for(A=0;A<q.length;A+=1){const ze=qr(T,q,A);R[A]?R[A].p(ze,I):(R[A]=Nr(ze),R[A].c(),R[A].m(n,s))}for(;A<R.length;A+=1)R[A].d(1);R.length=q.length}I[0]&32&&u!==(u=(T[5]+T[11].left)/2)&&c(s,"x",u),I[0]&16&&f!==(f=T[4]+T[11].bottom+10)&&c(m,"y",f),I[0]&32&&d!==(d=(T[5]+T[11].left)/2)&&c(m,"x",d),I[0]&16&&h!==(h=-(T[4]/2))&&c(p,"x",h),I[0]&1472&&(B=T[6],_=vt(_,I,J,1,T,B,v,n,_t,Pr,x,Tr)),I[0]&268&&(se=le,M=vt(M,I,te,1,T,se,b,n,_t,Or,E,Dr)),I[0]&2&&c(n,"width",T[1]),I[0]&1&&c(n,"height",T[0])},i:V,o:V,d(T){T&&L(t),he(C,T),he(R,T);for(let I=0;I<_.length;I+=1)_[I].d();for(let I=0;I<M.length;I+=1)M[I].d();$()}}}const Ir=e=>e.model;function ia(e,t,n){let r,i,o,l,a,s,u;const m=le.filter(w=>w.qid===1).map(w=>({model:w.model,rank:w.rank}));console.log("firstData",m);let f=Array.from(new Set(le.map(w=>w.model)));console.log("models",f);let d,p,h={top:35,bottom:15,left:60,right:0};const _=(w,C)=>C.rank==w,v=w=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${f[w]}"], .model-circle[data-model="${f[w]}"]`).forEach(C=>{C.style.opacity=1})},x=w=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${f[w]}"], .model-circle[data-model="${f[w]}"]`).forEach(C=>{C.style.opacity=1})},M=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(w=>{w.style.opacity=1})},b=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(w=>{w.style.opacity=1})},E=w=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${w.model}"], .model-circle[data-model="${w.model}"]`).forEach(C=>{C.style.opacity=1})},g=w=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${w.model}"], .model-circle[data-model="${w.model}"]`).forEach(C=>{C.style.opacity=1})},k=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(w=>{w.style.opacity=1})},S=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(w=>{w.style.opacity=1})};function $(){p=this.offsetWidth,d=this.offsetHeight,n(1,p),n(0,d)}return e.$$.update=()=>{e.$$.dirty[0]&2&&n(5,r=p-h.left-h.right),e.$$.dirty[0]&1&&n(4,i=d-h.top-h.bottom),e.$$.dirty[0]&32&&n(3,o=cr().domain(le.map(w=>w.qid)).padding(.3).range([h.left,r-h.right])),e.$$.dirty[0]&16&&n(2,l=cr().domain(le.map(w=>w.rank)).padding(1).range([h.top,i-h.bottom])),e.$$.dirty[0]&12&&n(7,s=Zl().x(w=>o(w.qid)).y(w=>l(w.rank)))},n(8,a=$t().domain(le.map(w=>w.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),n(6,u=f.map(w=>le.filter(C=>C.model===w))),[d,p,l,o,i,r,u,s,a,m,f,h,_,v,x,M,b,E,g,k,S,$]}class oa extends Ge{constructor(t){super(),He(this,t,ia,ra,Ae,{},null,[-1,-1])}}function Rr(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Fr(e,t,n){const r=e.slice();return r[15]=t[n],r}function jr(e,t,n){const r=e.slice();return r[15]=t[n],r}function Lr(e){let t,n,r=e[15]+"",i,o;return{c(){t=j("g"),n=j("text"),i=X(r),c(n,"class","axis-text svelte-197t4ft"),c(n,"x","-5"),c(n,"y","0"),c(n,"text-anchor","end"),c(t,"transform",o=`translate(${e[8].left} ${e[6](e[15])+e[6].bandwidth()/2})`)},m(l,a){G(l,t,a),y(t,n),y(n,i)},p(l,a){a&64&&o!==(o=`translate(${l[8].left} ${l[6](l[15])+l[6].bandwidth()/2})`)&&c(t,"transform",o)},d(l){l&&L(t)}}}function Hr(e){let t,n,r=e[15]+"",i,o;return{c(){t=j("g"),n=j("text"),i=X(r),c(n,"class","axis-text svelte-197t4ft"),c(n,"y","15"),c(n,"text-anchor","middle"),c(t,"transform",o=`translate(${e[5](e[15])}, ${e[3]-e[8].bottom})`)},m(l,a){G(l,t,a),y(t,n),y(n,i)},p(l,a){a&32&&r!==(r=l[15]+"")&&ke(i,r),a&40&&o!==(o=`translate(${l[5](l[15])}, ${l[3]-l[8].bottom})`)&&c(t,"transform",o)},d(l){l&&L(t)}}}function Gr(e){let t,n=e[15]%2==0&&Hr(e);return{c(){n&&n.c(),t=ye()},m(r,i){n&&n.m(r,i),G(r,t,i)},p(r,i){r[15]%2==0?n?n.p(r,i):(n=Hr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&L(t)}}}function zr(e){let t,n,r,i,o,l,a=e[12].avgRank.toFixed(2)+"",s,u,m;return{c(){t=j("rect"),l=j("text"),s=X(a),c(t,"y",n=e[6](e[12].model)),c(t,"x",e[8].left),c(t,"width",r=e[5](e[12].avgRank)-e[8].left),c(t,"height",i=e[6].bandwidth()),c(t,"fill",o=e[4](e[12].model)),c(t,"class","model-path"),c(t,"data-model",e[9][e[14]]),c(l,"class","label-text"),c(l,"y",u=e[6](e[12].model)+e[6].bandwidth()/2),c(l,"x",m=e[5](e[12].avgRank)+5),c(l,"text-anchor","start"),c(l,"dominant-baseline","middle")},m(f,d){G(f,t,d),G(f,l,d),y(l,s)},p(f,d){d&64&&n!==(n=f[6](f[12].model))&&c(t,"y",n),d&32&&r!==(r=f[5](f[12].avgRank)-f[8].left)&&c(t,"width",r),d&64&&i!==(i=f[6].bandwidth())&&c(t,"height",i),d&16&&o!==(o=f[4](f[12].model))&&c(t,"fill",o),d&64&&u!==(u=f[6](f[12].model)+f[6].bandwidth()/2)&&c(l,"y",u),d&32&&m!==(m=f[5](f[12].avgRank)+5)&&c(l,"x",m)},d(f){f&&L(t),f&&L(l)}}}function la(e){let t,n,r,i,o,l,a,s,u,m,f,d,p=e[7].map(Br),h=[];for(let b=0;b<p.length;b+=1)h[b]=Lr(jr(e,p,b));let _=e[5].ticks(),v=[];for(let b=0;b<_.length;b+=1)v[b]=Gr(Fr(e,_,b));let x=e[7],M=[];for(let b=0;b<x.length;b+=1)M[b]=zr(Rr(e,x,b));return{c(){t=N("div"),n=j("svg");for(let b=0;b<h.length;b+=1)h[b].c();r=ye();for(let b=0;b<v.length;b+=1)v[b].c();i=ye();for(let b=0;b<M.length;b+=1)M[b].c();o=j("line"),u=j("text"),m=X("Average Rank"),f=j("text"),c(o,"class","axis-line svelte-197t4ft"),c(o,"x1",e[8].left),c(o,"x2",l=e[2]-e[8].right),c(o,"y1",a=e[3]-e[8].bottom),c(o,"y2",s=e[3]-e[8].bottom),c(u,"class","chart-title"),c(u,"y",e[8].top/2),c(u,"x",e[8].left),c(u,"text-anchor","start"),c(f,"class","chart-subtitle"),c(f,"y",e[8].top/2+15),c(f,"x",e[8].left),c(f,"opacity",".6"),c(f,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","bar-chart-holder"),c(t,"class","svelte-197t4ft"),it(()=>e[10].call(t))},m(b,E){G(b,t,E),y(t,n);for(let g=0;g<h.length;g+=1)h[g]&&h[g].m(n,null);y(n,r);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(n,null);y(n,i);for(let g=0;g<M.length;g+=1)M[g]&&M[g].m(n,null);y(n,o),y(n,u),y(u,m),y(n,f),d=An(t,e[10].bind(t))},p(b,[E]){if(E&448){p=b[7].map(Br);let g;for(g=0;g<p.length;g+=1){const k=jr(b,p,g);h[g]?h[g].p(k,E):(h[g]=Lr(k),h[g].c(),h[g].m(n,r))}for(;g<h.length;g+=1)h[g].d(1);h.length=p.length}if(E&296){_=b[5].ticks();let g;for(g=0;g<_.length;g+=1){const k=Fr(b,_,g);v[g]?v[g].p(k,E):(v[g]=Gr(k),v[g].c(),v[g].m(n,i))}for(;g<v.length;g+=1)v[g].d(1);v.length=_.length}if(E&1008){x=b[7];let g;for(g=0;g<x.length;g+=1){const k=Rr(b,x,g);M[g]?M[g].p(k,E):(M[g]=zr(k),M[g].c(),M[g].m(n,o))}for(;g<M.length;g+=1)M[g].d(1);M.length=x.length}E&4&&l!==(l=b[2]-b[8].right)&&c(o,"x2",l),E&8&&a!==(a=b[3]-b[8].bottom)&&c(o,"y1",a),E&8&&s!==(s=b[3]-b[8].bottom)&&c(o,"y2",s),E&2&&c(n,"width",b[1]),E&1&&c(n,"height",b[0])},i:V,o:V,d(b){b&&L(t),he(h,b),he(v,b),he(M,b),d()}}}const Br=e=>e.model;function aa(e,t,n){let r,i,o,l,a;const s=le.reduce((_,v)=>(_[v.model]?(_[v.model].sum+=v.rank,_[v.model].count++):_[v.model]={sum:v.rank,count:1},_),{}),u=Object.keys(s).map(_=>({model:_,avgRank:s[_].sum/s[_].count}));let m=300,f=500,d={top:50,bottom:0,left:65,right:15},p=Array.from(new Set(le.map(_=>_.model)));function h(){f=this.offsetWidth,m=this.offsetHeight,n(1,f),n(0,m)}return e.$$.update=()=>{e.$$.dirty&2&&n(2,r=f-d.left-d.right),e.$$.dirty&1&&n(3,i=m-d.top-d.bottom),e.$$.dirty&8&&n(6,o=bt().rangeRound([d.top,i-d.bottom]).padding(.05).domain(u.map(_=>_.model))),e.$$.dirty&4&&n(5,l=Ln().rangeRound([d.left,r-d.right]).domain([0,Di(u,_=>_.avgRank)]))},n(4,a=$t().domain(u.map(_=>_.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),[m,f,r,i,a,l,o,u,d,p,h]}class sa extends Ge{constructor(t){super(),He(this,t,aa,la,Ae,{})}}function Xr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Yr(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Wr(e,t,n){const r=e.slice();return r[22]=t[n],r}function Qr(e){let t,n=e[22].key+"",r,i,o;function l(){return e[10](e[22])}return{c(){t=N("th"),r=X(n),c(t,"class","svelte-owgjbp")},m(a,s){G(a,t,s),y(t,r),i||(o=re(t,"click",l),i=!0)},p(a,s){e=a},d(a){a&&L(t),i=!1,o()}}}function Ur(e,t){let n,r=(t[19][t[22].key].length>Zr&&t[5]!==`${t[21]}-${t[24]}`?`${t[19][t[22].key].substring(0,40)}...`:t[19][t[22].key])+"",i,o,l;function a(){return t[11](t[21],t[24])}return{key:e,first:null,c(){n=N("td"),i=X(r),c(n,"class","cell-type-"+t[22].type+" svelte-owgjbp"),$e(n,"background",t[22].key==="change"?t[6](t[19][t[22].key]):"none"),Xn(n,"active",t[5]===`${t[21]}-${t[24]}`),this.first=n},m(s,u){G(s,n,u),y(n,i),o||(l=re(n,"click",a),o=!0)},p(s,u){t=s,u&48&&r!==(r=(t[19][t[22].key].length>Zr&&t[5]!==`${t[21]}-${t[24]}`?`${t[19][t[22].key].substring(0,40)}...`:t[19][t[22].key])+"")&&ke(i,r),u&16&&$e(n,"background",t[22].key==="change"?t[6](t[19][t[22].key]):"none"),u&160&&Xn(n,"active",t[5]===`${t[21]}-${t[24]}`)},d(s){s&&L(n),o=!1,l()}}}function Vr(e){let t,n=[],r=new Map,i,o=e[7];const l=a=>a[22].key;for(let a=0;a<o.length;a+=1){let s=Yr(e,o,a),u=l(s);r.set(u,n[a]=Ur(u,s))}return{c(){t=N("tr");for(let a=0;a<n.length;a+=1)n[a].c();i=Q(),c(t,"class","svelte-owgjbp")},m(a,s){G(a,t,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);y(t,i)},p(a,s){s&240&&(o=a[7],n=vt(n,s,l,1,a,o,r,t,_t,Ur,i,Yr))},d(a){a&&L(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}function ua(e){let t,n,r,i,o,l,a,s,u,m=e[7],f=[];for(let h=0;h<m.length;h+=1)f[h]=Qr(Wr(e,m,h));let d=e[4],p=[];for(let h=0;h<d.length;h+=1)p[h]=Vr(Xr(e,d,h));return{c(){t=N("div"),n=N("div"),r=N("table"),i=N("thead");for(let h=0;h<f.length;h+=1)f[h].c();o=Q(),l=N("tbody");for(let h=0;h<p.length;h+=1)p[h].c();s=Q(),u=N("br"),c(i,"class","svelte-owgjbp"),c(l,"class","svelte-owgjbp"),c(r,"class",a="pretty-table "+e[0].style+" svelte-owgjbp"),c(n,"class","svelte-owgjbp"),c(u,"class","svelte-owgjbp"),c(t,"class","table svelte-owgjbp")},m(h,_){G(h,t,_),y(t,n),y(n,r),y(r,i);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(i,null);y(r,o),y(r,l);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(l,null);y(t,s),y(t,u)},p(h,[_]){if(_&142){m=h[7];let v;for(v=0;v<m.length;v+=1){const x=Wr(h,m,v);f[v]?f[v].p(x,_):(f[v]=Qr(x),f[v].c(),f[v].m(i,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=m.length}if(_&240){d=h[4];let v;for(v=0;v<d.length;v+=1){const x=Xr(h,d,v);p[v]?p[v].p(x,_):(p[v]=Vr(x),p[v].c(),p[v].m(l,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=d.length}_&1&&a!==(a="pretty-table "+h[0].style+" svelte-owgjbp")&&c(r,"class",a)},i:V,o:V,d(h){h&&L(t),he(f,h),he(p,h)}}}let Zr=25,fa=0;function ca(e,t,n){let{data:r}=t,{options:i}=t;const o=nn(".2f");function l(E){let g=E.reduce((S,$)=>(S[$.model]||(S[$.model]=[]),S[$.model].push($.rank),S),{});return Object.entries(g).map(([S,$])=>{let w=$.reduce((q,R)=>(q[R]=(q[R]||0)+1,q),{}),C=Object.entries(w).reduce((q,R)=>R[1]>q[1]?R:q)[0];return{model:S,overall_rank:Number(C),average_rank:o(Uo($)),standard_deviation_rank:o(jo($))}})}let a=l(r);console.log("mssssd",a),i={...{columns:{},style:"normal",paged:25},...i};const u=Ln().domain([-1,0,1]).range(["#FF5470","#f8f8f8","#00ebc7"]);let{sortable:m,index:f,paged:d}=i,p,h=!0;if(m&&f)throw new Error("A table can either be ranked or sortable, but not both");let _=Object.keys(a[0]).map(E=>{const g=i.columns[E]||{};return{key:E,type:g.type||typeof a[0][E],options:g}}),v=[];f=1,m=1;let x=null;const M=E=>{m&&(p===E.key&&n(2,h=!h),n(1,p=E.key))},b=(E,g)=>{n(5,x=x===`${E}-${g}`?null:`${E}-${g}`)};return e.$$set=E=>{"data"in E&&n(8,r=E.data),"options"in E&&n(0,i=E.options)},e.$$.update=()=>{if(e.$$.dirty&774){p&&n(9,a=a.slice().sort((g,k)=>{let S=g[p],$=k[p];if(S==$)return JSON.stringify(g).localeCompare(JSON.stringify(k));let w=S>$?1:S<$?-1:0;return h&&(w=-w),w}));let E=fa*d;n(4,v=a.slice(E,E+(d||a.length))),d&&Math.ceil(r.length/d)}},[i,p,h,m,v,x,u,_,r,a,M,b]}class da extends Ge{constructor(t){super(),He(this,t,ca,ua,Ae,{data:8,options:0})}}function Jr(e,t,n){const r=e.slice();return r[17]=t[n],r}function Kr(e,t,n){const r=e.slice();return r[20]=t[n],r}function ei(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function ti(e){let t,n=e[23]+"",r,i,o,l=e[23]+"",a,s;return{c(){t=j("text"),r=X(n),o=j("text"),a=X(l),c(t,"class","axis-text svelte-t6wv8i"),c(t,"x",i=e[7].left+e[3](e[23])+e[3].bandwidth()/2),c(t,"y",e[7].top-10),c(t,"text-anchor","middle"),c(o,"class","axis-text svelte-t6wv8i"),c(o,"x",e[7].left-10),c(o,"y",s=e[7].top+e[2](e[23])+e[2].bandwidth()/2),c(o,"text-anchor","end"),c(o,"dominant-baseline","middle")},m(u,m){G(u,t,m),y(t,r),G(u,o,m),y(o,a)},p(u,m){m&8&&i!==(i=u[7].left+u[3](u[23])+u[3].bandwidth()/2)&&c(t,"x",i),m&4&&s!==(s=u[7].top+u[2](u[23])+u[2].bandwidth()/2)&&c(o,"y",s)},d(u){u&&L(t),u&&L(o)}}}function ni(e){let t,n,r,i,o,l,a=e[4](e[5][e[17]][e[20]])+"",s,u,m;return{c(){t=j("rect"),l=j("text"),s=X(a),c(t,"x",n=e[7].left+e[3](e[20])),c(t,"y",r=e[7].top+e[2](e[17])),c(t,"width",i=e[3].bandwidth()),c(t,"height",o=e[2].bandwidth()),c(t,"fill",e[8](e[17],e[20])),c(t,"rx","4"),c(t,"ry","4"),c(t,"class","model-path"),c(t,"data-model",e[17]),c(l,"x",u=e[7].left+e[3](e[20])+e[3].bandwidth()/2),c(l,"y",m=e[7].top+e[2](e[17])+e[2].bandwidth()/2),c(l,"text-anchor","middle"),c(l,"dominant-baseline","middle"),c(l,"class","model-path"),c(l,"data-model",e[17])},m(f,d){G(f,t,d),G(f,l,d),y(l,s)},p(f,d){d&8&&n!==(n=f[7].left+f[3](f[20]))&&c(t,"x",n),d&4&&r!==(r=f[7].top+f[2](f[17]))&&c(t,"y",r),d&8&&i!==(i=f[3].bandwidth())&&c(t,"width",i),d&4&&o!==(o=f[2].bandwidth())&&c(t,"height",o),d&8&&u!==(u=f[7].left+f[3](f[20])+f[3].bandwidth()/2)&&c(l,"x",u),d&4&&m!==(m=f[7].top+f[2](f[17])+f[2].bandwidth()/2)&&c(l,"y",m)},d(f){f&&L(t),f&&L(l)}}}function ri(e){let t,n=e[6],r=[];for(let i=0;i<n.length;i+=1)r[i]=ni(Kr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ye()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);G(i,t,o)},p(i,o){if(o&508){n=i[6];let l;for(l=0;l<n.length;l+=1){const a=Kr(i,n,l);r[l]?r[l].p(a,o):(r[l]=ni(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){he(r,i),i&&L(t)}}}function ha(e){let t,n,r,i,o,l,a,s=e[6],u=[];for(let d=0;d<s.length;d+=1)u[d]=ti(ei(e,s,d));let m=e[6],f=[];for(let d=0;d<m.length;d+=1)f[d]=ri(Jr(e,m,d));return{c(){t=N("div"),n=j("svg");for(let d=0;d<u.length;d+=1)u[d].c();r=ye();for(let d=0;d<f.length;d+=1)f[d].c();i=j("text"),o=X("Relative Performance"),l=j("text"),c(i,"class","chart-title"),c(i,"y",e[7].top/2),c(i,"x",e[7].left),c(i,"text-anchor","start"),c(l,"class","chart-subtitle svelte-t6wv8i"),c(l,"y",e[7].top/2+15),c(l,"x",e[7].left),c(l,"opacity",".6"),c(l,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","heatmap-holder"),c(t,"class","svelte-t6wv8i"),it(()=>e[12].call(t))},m(d,p){G(d,t,p),y(t,n);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(n,null);y(n,r);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(n,null);y(n,i),y(i,o),y(n,l),a=An(t,e[12].bind(t))},p(d,[p]){if(p&204){s=d[6];let h;for(h=0;h<s.length;h+=1){const _=ei(d,s,h);u[h]?u[h].p(_,p):(u[h]=ti(_),u[h].c(),u[h].m(n,r))}for(;h<u.length;h+=1)u[h].d(1);u.length=s.length}if(p&508){m=d[6];let h;for(h=0;h<m.length;h+=1){const _=Jr(d,m,h);f[h]?f[h].p(_,p):(f[h]=ri(_),f[h].c(),f[h].m(n,i))}for(;h<f.length;h+=1)f[h].d(1);f.length=m.length}p&2&&c(n,"width",d[1]),p&1&&c(n,"height",d[0])},i:V,o:V,d(d){d&&L(t),he(u,d),he(f,d),a()}}}function ma(e){let t=e.reduce((i,o)=>(i[o.qid]||(i[o.qid]=[]),i[o.qid].push(o),i),{}),n=Array.from(new Set(e.map(i=>i.model))),r=n.reduce((i,o)=>(i[o]=n.reduce((l,a)=>(l[a]={sum:0,count:0},l),{}),i),{});for(let i in t){let o=t[i];for(let l of n)for(let a of n){let s=o.find(m=>m.model===l),u=o.find(m=>m.model===a);s&&u&&(r[l][a].sum+=u.rank-s.rank,r[l][a].count++)}}for(let i in r)for(let o in r[i])r[i][o].count>0?r[i][o]=r[i][o].sum/r[i][o].count:r[i][o]=0;return r}function pa(e,t,n){let r,i,o,l,a;const s=nn(".1f");let u=ma(le),m=Array.from(new Set(le.map(b=>b.model))),f=500,d=500,p={top:50,bottom:0,left:65,right:25},h=Object.values(u).flatMap(b=>Object.values(b)),_=Qo(h),v=Di(h);function x(b,E){let g=u[b][E];return g===0?"white":g>=0?a(b):a(E)}function M(){d=this.offsetWidth,f=this.offsetHeight,n(1,d),n(0,f)}return e.$$.update=()=>{e.$$.dirty&2&&n(11,r=d-p.left-p.right),e.$$.dirty&1&&n(10,i=f-p.top-p.bottom),e.$$.dirty&2048&&n(3,o=bt().range([0,r]).domain(m).padding(.05)),e.$$.dirty&1024&&n(2,l=bt().range([0,i]).domain(m).padding(.05)),e.$$.dirty&512&&m.reduce((b,E)=>(b[E]=Ii().domain([_,v]).interpolator(Dn("white",a(E))),b),{})},n(9,a=$t().domain(m).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),[f,d,l,o,s,u,m,p,x,a,i,r,M]}class ga extends Ge{constructor(t){super(),He(this,t,pa,ha,Ae,{})}}function _a(e){let t,n,r,i,o,l,a,s,u,m,f,d,p,h,_,v,x,M,b,E,g,k,S,$,w,C;return p=new oa({}),v=new da({props:{data:le,options:e[0]}}),k=new sa({}),w=new ga({}),{c(){t=N("div"),n=N("div"),n.innerHTML=`<h5 class="underline bold svelte-1hw8w93">Comparisons</h5> 
    <p class="svelte-1hw8w93">This panes represents the training performance of your model.</p> 
    <button class="svelte-1hw8w93">Download Data</button>`,r=Q(),i=N("div"),o=N("div"),l=N("div"),a=N("h4"),a.textContent="Model Comparisons",s=Q(),u=N("p"),u.textContent=`View the performance of your model over time. GPU stats are available
          to the right.`,m=Q(),f=Q(),d=N("div"),Je(p.$$.fragment),h=Q(),_=N("div"),Je(v.$$.fragment),x=Q(),M=N("div"),b=N("div"),E=Q(),g=N("div"),Je(k.$$.fragment),S=Q(),$=N("div"),Je(w.$$.fragment),c(n,"class","instructions svelte-1hw8w93"),c(a,"class","svelte-1hw8w93"),c(u,"class","svelte-1hw8w93"),c(l,"class","chart-captions svelte-1hw8w93"),c(d,"class","eval-main"),c(_,"class","eval-table svelte-1hw8w93"),c(o,"class","left-charts svelte-1hw8w93"),c(b,"class","right-chart-1 svelte-1hw8w93"),c(g,"class","right-chart-2 svelte-1hw8w93"),c($,"class","right-chart-3 svelte-1hw8w93"),c(M,"class","right-charts svelte-1hw8w93"),c(i,"class","eval-container svelte-1hw8w93"),c(t,"class","main-container svelte-1hw8w93")},m(q,R){G(q,t,R),y(t,n),y(t,r),y(t,i),y(i,o),y(o,l),y(l,a),y(l,s),y(l,u),y(l,m),y(o,f),y(o,d),Re(p,d,null),y(o,h),y(o,_),Re(v,_,null),y(i,x),y(i,M),y(M,b),y(M,E),y(M,g),Re(k,g,null),y(M,S),y(M,$),Re(w,$,null),C=!0},p:V,i(q){C||(Te(p.$$.fragment,q),Te(v.$$.fragment,q),Te(k.$$.fragment,q),Te(w.$$.fragment,q),C=!0)},o(q){Ze(p.$$.fragment,q),Ze(v.$$.fragment,q),Ze(k.$$.fragment,q),Ze(w.$$.fragment,q),C=!1},d(q){q&&L(t),Fe(p),Fe(v),Fe(k),Fe(w)}}}function va(e){let t={},n=Array.from(new Set(le.map(r=>r.model)));return[t,n]}class ba extends Ge{constructor(t){super(),He(this,t,va,_a,Ae,{})}}function ii(e,t,n){const r=e.slice();return r[6]=t[n],r}function oi(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=li(ii(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ye()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);G(i,t,o)},p(i,o){if(o&5){n=i[0];let l;for(l=0;l<n.length;l+=1){const a=ii(i,n,l);r[l]?r[l].p(a,o):(r[l]=li(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){he(r,i),i&&L(t)}}}function li(e){let t,n=e[6].svelte_component+"",r,i,o,l;function a(){return e[3](e[6])}return{c(){t=N("button"),r=X(n),c(t,"aria-label",i=`Load ${e[6].svelte_component} component`)},m(s,u){G(s,t,u),y(t,r),o||(l=re(t,"click",a),o=!0)},p(s,u){e=s,u&1&&n!==(n=e[6].svelte_component+"")&&ke(r,n),u&1&&i!==(i=`Load ${e[6].svelte_component} component`)&&c(t,"aria-label",i)},d(s){s&&L(t),o=!1,l()}}}function wa(e){let t,n,r,i,o,l=e[0].length>1&&oi(e);return n=new na({}),i=new ba({}),{c(){l&&l.c(),t=Q(),Je(n.$$.fragment),r=Q(),Je(i.$$.fragment)},m(a,s){l&&l.m(a,s),G(a,t,s),Re(n,a,s),G(a,r,s),Re(i,a,s),o=!0},p(a,[s]){a[0].length>1?l?l.p(a,s):(l=oi(a),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i(a){o||(Te(n.$$.fragment,a),Te(i.$$.fragment,a),o=!0)},o(a){Ze(n.$$.fragment,a),Ze(i.$$.fragment,a),o=!1},d(a){l&&l.d(a),a&&L(t),Fe(n,a),a&&L(r),Fe(i,a)}}}function ya(e,t,n){let r;const i=Gt([]);si(e,i,s=>n(0,r=s));const o=Gt(null),l=s=>{o.set(s)};return fetch("/components").then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{i.set(s),o.set(s[0])}).catch(s=>{console.log("Fetch request failed",s)}),[r,i,l,s=>l(s)]}class ka extends Ge{constructor(t){super(),He(this,t,ya,wa,Ae,{})}}new ka({target:document.getElementById("app")});
